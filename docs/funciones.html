<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.475">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>R avanzado 2023 - Funciones</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "Sin resultados",
    "search-matching-documents-text": "documentos encontrados",
    "search-copy-link-title": "Copiar el enlace en la búsqueda",
    "search-hide-matches-text": "Ocultar resultados adicionales",
    "search-more-match-text": "resultado adicional en este documento",
    "search-more-matches-text": "resultados adicionales en este documento",
    "search-clear-button-title": "Borrar",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">R avanzado 2023</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html">
 <span class="menu-text"> </span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-manuales" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Manuales</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-manuales">    
        <li>
    <a class="dropdown-item" href="./fundamentos_de_r.html">
 <span class="dropdown-text">Fundamentos de R</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./reportes_dinamicos.html">
 <span class="dropdown-text">Reportes dinámicos</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./funciones.html">
 <span class="dropdown-text">Funciones</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./bucles.html">
 <span class="dropdown-text">Bucles</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./modelos_de_regresion.html">
 <span class="dropdown-text">Modelos de regresión</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./estadistica_tradicional_regresion.html">
 <span class="dropdown-text">Estadística tradicional como regresión</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./ggplot2.html">
 <span class="dropdown-text">Gráficos con ggplot2</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-tareas" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Tareas</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-tareas">    
        <li>
    <a class="dropdown-item" href="./tarea4.html">
 <span class="dropdown-text">Tarea 4</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./tarea5.html">
 <span class="dropdown-text">Tarea 5</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./respuestas_tarea5.html">
 <span class="dropdown-text">Solución Tarea 5</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="./preparacion_curso.html">
 <span class="menu-text">Preparación para el curso</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://codefile.io/f/inMsojTFoN">
 <span class="menu-text">Compartir código</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./instructor.html">
 <span class="menu-text">Instructor</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/maRce10/R_avanzado_2023/"><i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Contenidos</h2>
   
  <ul class="collapse">
  <li><a href="#funciones-en-r" id="toc-funciones-en-r" class="nav-link active" data-scroll-target="#funciones-en-r"><span class="toc-section-number">1</span>  Funciones en R</a></li>
  <li><a href="#estructura-básica" id="toc-estructura-básica" class="nav-link" data-scroll-target="#estructura-básica"><span class="toc-section-number">2</span>  Estructura básica</a>
  <ul class="collapse">
  <li><a href="#nombre" id="toc-nombre" class="nav-link" data-scroll-target="#nombre"><span class="toc-section-number">2.1</span>  Nombre</a></li>
  <li><a href="#argumentos" id="toc-argumentos" class="nav-link" data-scroll-target="#argumentos"><span class="toc-section-number">2.2</span>  Argumentos</a></li>
  <li><a href="#ejercicio-1" id="toc-ejercicio-1" class="nav-link" data-scroll-target="#ejercicio-1"><span class="toc-section-number">2.3</span>  Ejercicio 1</a></li>
  <li><a href="#cuerpo" id="toc-cuerpo" class="nav-link" data-scroll-target="#cuerpo"><span class="toc-section-number">2.4</span>  Cuerpo</a></li>
  <li><a href="#ejercicio-2" id="toc-ejercicio-2" class="nav-link" data-scroll-target="#ejercicio-2"><span class="toc-section-number">2.5</span>  Ejercicio 2</a></li>
  </ul></li>
  <li><a href="#argumentos-lógicos" id="toc-argumentos-lógicos" class="nav-link" data-scroll-target="#argumentos-lógicos"><span class="toc-section-number">3</span>  Argumentos lógicos</a>
  <ul class="collapse">
  <li><a href="#ejercicio-3" id="toc-ejercicio-3" class="nav-link" data-scroll-target="#ejercicio-3"><span class="toc-section-number">3.1</span>  Ejercicio 3</a></li>
  </ul></li>
  <li><a href="#ventajas-de-usar-funciones" id="toc-ventajas-de-usar-funciones" class="nav-link" data-scroll-target="#ventajas-de-usar-funciones"><span class="toc-section-number">4</span>  Ventajas de usar funciones</a>
  <ul class="collapse">
  <li><a href="#código-mas-limpio" id="toc-código-mas-limpio" class="nav-link" data-scroll-target="#código-mas-limpio"><span class="toc-section-number">4.1</span>  Código mas limpio</a></li>
  <li><a href="#facil-de-correr-y-compartir" id="toc-facil-de-correr-y-compartir" class="nav-link" data-scroll-target="#facil-de-correr-y-compartir"><span class="toc-section-number">4.2</span>  Facil de correr y compartir</a></li>
  <li><a href="#se-aplica-fácilmente-a-nuevos-objetos" id="toc-se-aplica-fácilmente-a-nuevos-objetos" class="nav-link" data-scroll-target="#se-aplica-fácilmente-a-nuevos-objetos"><span class="toc-section-number">4.3</span>  Se aplica fácilmente a nuevos objetos</a></li>
  <li><a href="#otros-consejos" id="toc-otros-consejos" class="nav-link" data-scroll-target="#otros-consejos"><span class="toc-section-number">4.4</span>  Otros consejos</a></li>
  <li><a href="#ejercicio-4" id="toc-ejercicio-4" class="nav-link" data-scroll-target="#ejercicio-4"><span class="toc-section-number">4.5</span>  Ejercicio 4</a></li>
  <li><a href="#lecturas-adicionales" id="toc-lecturas-adicionales" class="nav-link" data-scroll-target="#lecturas-adicionales"><span class="toc-section-number">4.6</span>  Lecturas adicionales</a></li>
  <li><a href="#referencias" id="toc-referencias" class="nav-link" data-scroll-target="#referencias"><span class="toc-section-number">4.7</span>  Referencias</a></li>
  </ul></li>
  </ul>
</nav>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title"><font size="7"><b>Funciones</b></font></h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Código</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Mostrar todo el código</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Ocultar todo el código</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">Ver el código fuente</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Fecha de publicación</div>
    <div class="quarto-title-meta-contents">
      <p class="date">9 de noviembre de 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<style>
body
  { counter-reset: source-line 0; }
pre.numberSource code
  { counter-reset: none; }
</style>
<div class="cell">

</div>
<section id="objetivo-del-manual" class="level1 unnumbered unlisted alert alert-info">
<h1 class="unnumbered unlisted">Objetivo del manual</h1>
<ul>
<li><p>Identificar los elementos básicos que componen una función</p></li>
<li><p>Comprender las características de los principales tipos de argumentos en las funciones</p></li>
<li><p>Ser capaz de construir funciones propias</p></li>
</ul>
</section>
<p>&nbsp;</p>
<section id="funciones-en-r" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Funciones en R</h1>
<ul>
<li><p>Todo lo que sucede en <code>R</code> es una llamada de una función (i.e.&nbsp;las manipulaciones y cálculos de objetos en <code>R</code> se realizan a través de una función)</p></li>
<li><p>Una función es una subrutina que tiene como objetivo realizar una tarea específica</p></li>
<li><p>Permite a los usuarios juntar bloques de código que se usan con frecuencia y, por lo tanto, resulta conveniente encapsular en un objeto que se puede llamar fácilmente cuando sea necesario</p></li>
<li><p>Las funciones cargadas desde los paquetes (incluido <code>R</code> básico) también se pueden modificar y sobrescribir</p></li>
</ul>
<p>&nbsp;</p>
<hr>
</section>
<section id="estructura-básica" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Estructura básica</h1>
<p>Todas las funciones son creadas iguales … mediante la función <code>function()</code> y siguen la misma estructura:</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./images/funcion.png" class="img-fluid figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
<p><font size="2">* Modificado de <i>Wickham et al.&nbsp;2016</i></font></p>
<p>&nbsp;</p>
<p>Podemos observar la estructura de funciones ya cargadas en nuestro entorno de <code>R</code>. Para ver el código simplemente corra al nombre de la función en <code>R</code> (sin el paréntesis). Por ejemplo, el código de la función <code>sd()</code> se puede mostrar de la siguiente manera:</p>
<div class="cell">
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>sd</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>function (x, na.rm = FALSE) 
sqrt(var(if (is.vector(x) || is.factor(x)) x else as.double(x), 
    na.rm = na.rm))
&lt;bytecode: 0x556875309b10&gt;
&lt;environment: namespace:stats&gt;</code></pre>
</div>
</div>
<p>&nbsp;</p>
<p>En <code>Rstudio</code>, el código también se puede mostrar usando <em>F2</em> cuando el cursor está en el nombre de la función.</p>
<p>&nbsp;</p>
<p>Además, podemos diseccionar las funciones en sus elementos básicos:</p>
<div class="cell">
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># cuerpo</span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="fu">body</span>(sd)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>sqrt(var(if (is.vector(x) || is.factor(x)) x else as.double(x), 
    na.rm = na.rm))</code></pre>
</div>
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="co"># argumentos</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="fu">formals</span>(sd)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>$x


$na.rm
[1] FALSE</code></pre>
</div>
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="co"># ambiente</span></span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="fu">environment</span>(sd)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;environment: namespace:stats&gt;</code></pre>
</div>
</div>
<p>&nbsp;</p>
<p>Algunas funciones <code>R</code> utilizan funciones primitivas (principalmente escritas en <code>C</code>). En estos casos, el código no se muestra:</p>
<div class="cell">
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>sum</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>function (..., na.rm = FALSE)  .Primitive("sum")</code></pre>
</div>
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="fu">body</span>(sum)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>NULL</code></pre>
</div>
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="fu">formals</span>(sum)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>NULL</code></pre>
</div>
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="fu">environment</span>(sum)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>NULL</code></pre>
</div>
</div>
<p>&nbsp;</p>
<p>Las funciones son en sí mismas un tipo específico de objeto:</p>
<div class="cell">
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="fu">class</span>(sd)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "function"</code></pre>
</div>
</div>
<p>&nbsp;</p>
<p>Los operadores son funciones:</p>
<div class="cell">
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="dv">1</span> <span class="sc">+</span> <span class="dv">1</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a><span class="st">"+"</span>(<span class="dv">1</span>, <span class="dv">1</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a><span class="dv">2</span> <span class="sc">*</span> <span class="dv">3</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6</code></pre>
</div>
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a><span class="st">"*"</span>(<span class="dv">2</span>, <span class="dv">3</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6</code></pre>
</div>
</div>
<p>&nbsp;</p>
<hr>
<section id="nombre" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="nombre"><span class="header-section-number">2.1</span> Nombre</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./images/nombre.png" class="img-fluid figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
<p>Los nombres de las funciones tienen pocas restricciones. Siguen las mismas reglas que otros objetos en <code>R</code>. Algunas recomendaciones/reglas:</p>
<ul>
<li><p>No utilice nombres de objetos comunes <code>R</code> (por ejemplo, <em>iris</em>, <em>x</em>) u objetos que ya están en el entorno</p></li>
<li><p>No use nombres de funciones de uso frecuente (por ejemplo, <code>mean</code>)</p></li>
<li><p>No puede comenzar con un número</p></li>
<li><p>Debería sugerir lo que hace</p></li>
<li><p>No debe ser muy largo</p></li>
</ul>
<p>En caso de que tenga varias funciones con el mismo nombre, puede llamarlas individualmente utilizando el nombre del paquete (o <em>namespace</em>) seguido de <code>::</code>:</p>
<div class="cell">
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a><span class="co"># crear funcion sd</span></span>
<span id="cb27-2"><a href="#cb27-2"></a>sd <span class="ot">&lt;-</span> <span class="cf">function</span>(x) x<span class="sc">^</span><span class="dv">10</span></span>
<span id="cb27-3"><a href="#cb27-3"></a></span>
<span id="cb27-4"><a href="#cb27-4"></a><span class="co"># no calcula desv. st.</span></span>
<span id="cb27-5"><a href="#cb27-5"></a><span class="fu">sd</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1]       1    1024   59049 1048576 9765625</code></pre>
</div>
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a><span class="co"># sd</span></span>
<span id="cb29-2"><a href="#cb29-2"></a>stats<span class="sc">::</span><span class="fu">sd</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.5811</code></pre>
</div>
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a><span class="co"># remover nueva sd</span></span>
<span id="cb31-2"><a href="#cb31-2"></a><span class="fu">rm</span>(sd)</span>
<span id="cb31-3"><a href="#cb31-3"></a></span>
<span id="cb31-4"><a href="#cb31-4"></a><span class="co"># usar de nuevo</span></span>
<span id="cb31-5"><a href="#cb31-5"></a><span class="fu">sd</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.5811</code></pre>
</div>
</div>
<p>&nbsp;</p>
<p>La sintaxis <code>namespace::function</code> también se puede usar para llamar a funciones desde paquetes que se han instalado pero que no están cargados en el entorno actual.</p>
<p>&nbsp;</p>
<p>Las funciones pueden ser anónimas:</p>
<div class="cell">
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a>(<span class="cf">function</span>(x) x<span class="sc">^</span><span class="dv">10</span>)(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1]       1    1024   59049 1048576 9765625</code></pre>
</div>
</div>
<p>&nbsp;</p>
<p>Esto es más útil cuando se usan las funciones <code>Xapply</code>:</p>
<div class="cell">
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a>l <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)</span>
<span id="cb35-2"><a href="#cb35-2"></a></span>
<span id="cb35-3"><a href="#cb35-3"></a><span class="fu">lapply</span>(l, <span class="cf">function</span>(x) x<span class="sc">^</span><span class="dv">10</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1]       1    1024   59049 1048576 9765625

[[2]]
[1]       1    1024   59049 1048576

[[3]]
[1]     1  1024 59049</code></pre>
</div>
</div>
<hr>
</section>
<section id="argumentos" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="argumentos"><span class="header-section-number">2.2</span> Argumentos</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./images/argumentos.png" class="img-fluid figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>Permiten a los usuarios ingresar objetos en la función. Los argumentos pueden o no tener valores predeterminados. Cuando los argumentos tienen valores predeterminados, no es necesario proporcionarlos:</p>
<div class="cell">
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a>f1 <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">y =</span> <span class="dv">2</span>) x <span class="sc">+</span> y</span>
<span id="cb37-2"><a href="#cb37-2"></a></span>
<span id="cb37-3"><a href="#cb37-3"></a><span class="fu">f1</span>(<span class="dv">1</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
<p>&nbsp;</p>
<p>Por supuesto, se pueden modificar:</p>
<div class="cell">
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a><span class="fu">f1</span>(<span class="dv">3</span>, <span class="dv">4</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7</code></pre>
</div>
</div>
<p>&nbsp;</p>
<p>Los argumentos sin valor predeterminado deben ser proporcionados:</p>
<div class="cell">
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a><span class="fu">f1</span>()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in f1(): el argumento "x" está ausente, sin valor por omisión</code></pre>
</div>
</div>
<p>&nbsp;</p>
<p>Si todos los argumentos tienen un valor predeterminado, se puede invocar la función sin proporcionar ningún argumento:</p>
<div class="cell">
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a>f1 <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">x =</span> <span class="sc">-</span><span class="dv">2</span>, <span class="at">y =</span> <span class="dv">2</span>) x <span class="sc">+</span> y</span>
<span id="cb43-2"><a href="#cb43-2"></a></span>
<span id="cb43-3"><a href="#cb43-3"></a><span class="fu">f1</span>()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
</div>
<p>&nbsp;</p>
<p>Ese es el caso de <code>dev.off()</code> y <code>Sys.time()</code>:</p>
<div class="cell">
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a><span class="fu">Sys.time</span>()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2023-11-09 09:26:36.168 CST"</code></pre>
</div>
</div>
<p>&nbsp;</p>
<p>Los argumentos pueden especificarse implícitamente por posición o por nombres incompletos:</p>
<div class="cell">
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a>f2 <span class="ot">&lt;-</span> <span class="cf">function</span>(a1, b1, b2) {</span>
<span id="cb47-2"><a href="#cb47-2"></a>  <span class="fu">list</span>(<span class="at">a1 =</span> a1, <span class="at">b1 =</span> b1, <span class="at">b2 =</span> b2)</span>
<span id="cb47-3"><a href="#cb47-3"></a>}</span>
<span id="cb47-4"><a href="#cb47-4"></a></span>
<span id="cb47-5"><a href="#cb47-5"></a><span class="co"># por posicion</span></span>
<span id="cb47-6"><a href="#cb47-6"></a><span class="fu">str</span>(<span class="fu">f2</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>List of 3
 $ a1: num 1
 $ b1: num 2
 $ b2: num 3</code></pre>
</div>
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1"></a><span class="co"># por posicion y nombre</span></span>
<span id="cb49-2"><a href="#cb49-2"></a><span class="fu">str</span>(<span class="fu">f2</span>(<span class="at">a =</span> <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>List of 3
 $ a1: num 1
 $ b1: num 2
 $ b2: num 3</code></pre>
</div>
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1"></a><span class="fu">str</span>(<span class="fu">f2</span>(<span class="dv">1</span>, <span class="at">a =</span> <span class="dv">2</span>, <span class="dv">3</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>List of 3
 $ a1: num 2
 $ b1: num 1
 $ b2: num 3</code></pre>
</div>
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1"></a><span class="fu">str</span>(<span class="fu">f2</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="at">a =</span> <span class="dv">3</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>List of 3
 $ a1: num 3
 $ b1: num 1
 $ b2: num 2</code></pre>
</div>
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1"></a><span class="co"># por posicion y nombre parcial</span></span>
<span id="cb55-2"><a href="#cb55-2"></a><span class="fu">str</span>(<span class="fu">f2</span>(<span class="dv">1</span>, <span class="at">a =</span> <span class="dv">2</span>, <span class="at">b1 =</span> <span class="dv">3</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>List of 3
 $ a1: num 2
 $ b1: num 3
 $ b2: num 1</code></pre>
</div>
</div>
<p>&nbsp;</p>
<p>Sin embargo, esto no funciona si los nombres son ambiguos:</p>
<div class="cell">
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1"></a><span class="fu">f2</span>(<span class="at">b =</span> <span class="dv">1</span>, <span class="dv">2</span>, <span class="at">a =</span> <span class="dv">3</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in f2(b = 1, 2, a = 3): el argumento 1 concuerda con multiples argumentos formales</code></pre>
</div>
</div>
<p>&nbsp;</p>
<p>Es más seguro (y, por lo tanto, una mejor práctica) usar los nombres completos de los argumentos.</p>
<p>&nbsp;</p>
<p>Las funciones también pueden tomar argumentos lógicos. Estos son útiles para modificar el comportamiento de la función para que coincida con diferentes escenarios. Por ejemplo, <code>mean()</code> permite a los usuarios ignorar los <em>NA</em>:</p>
<div class="cell">
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1"></a>v1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="cn">NA</span>)</span>
<span id="cb59-2"><a href="#cb59-2"></a></span>
<span id="cb59-3"><a href="#cb59-3"></a><span class="co"># sin ignorar NAs</span></span>
<span id="cb59-4"><a href="#cb59-4"></a><span class="fu">mean</span>(v1, <span class="at">na.rm =</span> <span class="cn">FALSE</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1"></a><span class="co"># ignorando NAs</span></span>
<span id="cb61-2"><a href="#cb61-2"></a><span class="fu">mean</span>(v1, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
</div>
<p>&nbsp;</p>
</section>
<section id="ejercicio-1" class="level2 alert alert-info" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="ejercicio-1"><span class="header-section-number">2.3</span> Ejercicio 1</h2>
<p>1.1 ¿Qué hace la función <code>cor.test()</code>?</p>
<p>1.2 Úsela con “Sepal.Length” y “Sepal.Width” de los datos de ejemplo <em>iris</em> (use <code>data(iris)</code>)</p>
<p>1.3 ¿Qué argumentos deben proporcionarse?</p>
<p>1.4 ¿Qué hace el argumento <em>alternative</em>? Use diferentes valores para este argumento y compare los resultados</p>
<p>1.5 ¿Cómo se puede calcular la correlación de Spearman?</p>
<p>1.6 ¿Qué tipo de objeto devuelve esta función?</p>
<p>1.7 ¿Cómo puede obtener el valor de <strong>p</strong> directamente del resultado de la función (sin guardar el resultado como un objeto)?</p>
<p>1.8 Escoga una función de R y lea su documentación con el fin de entender su uso, cada uno de sus argumentos (y que tipo de objetos requieren) y el resultado que produce (es probable que se le pida que explique esto al grupo)</p>
</section>
<hr>
<section id="cuerpo" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="cuerpo"><span class="header-section-number">2.4</span> Cuerpo</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./images/cuerpo.png" class="img-fluid figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>El cuerpo de una función puede contener:</p>
<ul>
<li><p>Comprobación de argumentos</p></li>
<li><p>Manipulación de datos</p></li>
<li><p>Definición de resultados</p></li>
</ul>
<p>&nbsp;</p>
<p>El cuerpo de la función puede tomar el mismo tipo de código utilizado en cualquier rutina de <code>R</code>. Sin embargo, los objetos creados no estarán disponibles en el entorno.</p>
<p>Cuando se realizan varios cálculos, debemos incluir una <em>declaración de retorno</em> (return statement), que define explícitamente la salida de la función. Esto se hace usando la función <code>return()</code>:</p>
<div class="cell">
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1"></a><span class="co"># sin "return statement"</span></span>
<span id="cb63-2"><a href="#cb63-2"></a>f1 <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb63-3"><a href="#cb63-3"></a>  z1 <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">*</span> x <span class="sc">+</span> y</span>
<span id="cb63-4"><a href="#cb63-4"></a>  z2 <span class="ot">&lt;-</span> x <span class="sc">+</span> <span class="dv">2</span> <span class="sc">*</span> y</span>
<span id="cb63-5"><a href="#cb63-5"></a>  z3 <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">*</span> x <span class="sc">+</span> <span class="dv">2</span> <span class="sc">*</span> y</span>
<span id="cb63-6"><a href="#cb63-6"></a>  z4 <span class="ot">&lt;-</span> x <span class="sc">/</span> y</span>
<span id="cb63-7"><a href="#cb63-7"></a>}</span>
<span id="cb63-8"><a href="#cb63-8"></a></span>
<span id="cb63-9"><a href="#cb63-9"></a><span class="fu">f1</span>(<span class="dv">5</span>, <span class="dv">3</span>)</span>
<span id="cb63-10"><a href="#cb63-10"></a></span>
<span id="cb63-11"><a href="#cb63-11"></a>f1_out <span class="ot">&lt;-</span> <span class="fu">f1</span>(<span class="dv">5</span>, <span class="dv">3</span>)</span>
<span id="cb63-12"><a href="#cb63-12"></a></span>
<span id="cb63-13"><a href="#cb63-13"></a>f1_out</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.6667</code></pre>
</div>
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1"></a><span class="co"># con "return statement"</span></span>
<span id="cb65-2"><a href="#cb65-2"></a>f2 <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb65-3"><a href="#cb65-3"></a>  z1 <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">*</span> x <span class="sc">+</span> y</span>
<span id="cb65-4"><a href="#cb65-4"></a>  z2 <span class="ot">&lt;-</span> x <span class="sc">+</span> <span class="dv">2</span> <span class="sc">*</span> y</span>
<span id="cb65-5"><a href="#cb65-5"></a>  z3 <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">*</span> x <span class="sc">+</span> <span class="dv">2</span> <span class="sc">*</span> y</span>
<span id="cb65-6"><a href="#cb65-6"></a>  z4 <span class="ot">&lt;-</span> x <span class="sc">/</span> y</span>
<span id="cb65-7"><a href="#cb65-7"></a></span>
<span id="cb65-8"><a href="#cb65-8"></a>  <span class="fu">return</span>(<span class="fu">c</span>(z1, z2, z3, z4))</span>
<span id="cb65-9"><a href="#cb65-9"></a>}</span>
<span id="cb65-10"><a href="#cb65-10"></a></span>
<span id="cb65-11"><a href="#cb65-11"></a><span class="fu">f2</span>(<span class="dv">5</span>, <span class="dv">3</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 13.0000 11.0000 16.0000  1.6667</code></pre>
</div>
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1"></a>f2_out <span class="ot">&lt;-</span> <span class="fu">f2</span>(<span class="dv">5</span>, <span class="dv">3</span>)</span>
<span id="cb67-2"><a href="#cb67-2"></a></span>
<span id="cb67-3"><a href="#cb67-3"></a>f2_out</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 13.0000 11.0000 16.0000  1.6667</code></pre>
</div>
</div>
<p>&nbsp;</p>
<p>Por lo tanto, cuando no se proporciona una <em>declaración de retorno</em>, la función devolverá el último objeto que se creó en el cuerpo de la función:</p>
<div class="cell">
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1"></a><span class="co"># sin "return statement"</span></span>
<span id="cb69-2"><a href="#cb69-2"></a>f3 <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb69-3"><a href="#cb69-3"></a>  z1 <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">*</span> x <span class="sc">+</span> y</span>
<span id="cb69-4"><a href="#cb69-4"></a>  z2 <span class="ot">&lt;-</span> x <span class="sc">+</span> <span class="dv">2</span> <span class="sc">*</span> y</span>
<span id="cb69-5"><a href="#cb69-5"></a>  z3 <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">*</span> x <span class="sc">+</span> <span class="dv">2</span> <span class="sc">*</span> y</span>
<span id="cb69-6"><a href="#cb69-6"></a>  z4 <span class="ot">&lt;-</span> x <span class="sc">/</span> y</span>
<span id="cb69-7"><a href="#cb69-7"></a></span>
<span id="cb69-8"><a href="#cb69-8"></a>  <span class="fu">c</span>(z1, z2, z3, z4)</span>
<span id="cb69-9"><a href="#cb69-9"></a>}</span>
<span id="cb69-10"><a href="#cb69-10"></a></span>
<span id="cb69-11"><a href="#cb69-11"></a><span class="fu">f3</span>(<span class="dv">5</span>, <span class="dv">3</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 13.0000 11.0000 16.0000  1.6667</code></pre>
</div>
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1"></a>f3_out <span class="ot">&lt;-</span> <span class="fu">f3</span>(<span class="dv">5</span>, <span class="dv">3</span>)</span>
<span id="cb71-2"><a href="#cb71-2"></a></span>
<span id="cb71-3"><a href="#cb71-3"></a>f3_out</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 13.0000 11.0000 16.0000  1.6667</code></pre>
</div>
</div>
<p>&nbsp;</p>
<p>Es más seguro usar <code>return()</code>.</p>
<p>&nbsp;</p>
<p>Cuando una función realiza varias tareas, podemos usar una lista para juntar los diferentes objetos. Esto es particularmente útil cuando se generan objetos de diferentes clases (por ejemplo, vectores y listas):</p>
<div class="cell">
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1"></a>f4 <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb73-2"><a href="#cb73-2"></a>  <span class="co"># 1 elemento</span></span>
<span id="cb73-3"><a href="#cb73-3"></a>  z1 <span class="ot">&lt;-</span> x <span class="sc">+</span> y</span>
<span id="cb73-4"><a href="#cb73-4"></a></span>
<span id="cb73-5"><a href="#cb73-5"></a>  <span class="co"># 2 elementos</span></span>
<span id="cb73-6"><a href="#cb73-6"></a>  z2 <span class="ot">&lt;-</span> <span class="fu">c</span>(x, y <span class="sc">/</span> <span class="dv">3</span>)</span>
<span id="cb73-7"><a href="#cb73-7"></a></span>
<span id="cb73-8"><a href="#cb73-8"></a>  <span class="co"># vector logico</span></span>
<span id="cb73-9"><a href="#cb73-9"></a>  z3 <span class="ot">&lt;-</span> z2 <span class="sc">&lt;</span> <span class="dv">10</span></span>
<span id="cb73-10"><a href="#cb73-10"></a></span>
<span id="cb73-11"><a href="#cb73-11"></a></span>
<span id="cb73-12"><a href="#cb73-12"></a>  l <span class="ot">&lt;-</span> <span class="fu">list</span>(z1, z2, z3)</span>
<span id="cb73-13"><a href="#cb73-13"></a></span>
<span id="cb73-14"><a href="#cb73-14"></a>  <span class="fu">return</span>(l)</span>
<span id="cb73-15"><a href="#cb73-15"></a>}</span>
<span id="cb73-16"><a href="#cb73-16"></a></span>
<span id="cb73-17"><a href="#cb73-17"></a><span class="fu">f4</span>(<span class="dv">10</span>, <span class="dv">5</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] 15

[[2]]
[1] 10.0000  1.6667

[[3]]
[1] FALSE  TRUE</code></pre>
</div>
</div>
<p>&nbsp;</p>
<p>Podemos acceder a elementos específicos de la salida de una función mediante indexación:</p>
<div class="cell">
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1"></a><span class="co"># elemento 1</span></span>
<span id="cb75-2"><a href="#cb75-2"></a><span class="fu">f4</span>(<span class="dv">10</span>, <span class="dv">5</span>)[[<span class="dv">1</span>]]</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 15</code></pre>
</div>
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1"></a><span class="co"># elemento 2</span></span>
<span id="cb77-2"><a href="#cb77-2"></a><span class="fu">f4</span>(<span class="dv">10</span>, <span class="dv">5</span>)[[<span class="dv">2</span>]]</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10.0000  1.6667</code></pre>
</div>
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1"></a><span class="co"># elemento 3</span></span>
<span id="cb79-2"><a href="#cb79-2"></a><span class="fu">f4</span>(<span class="dv">10</span>, <span class="dv">5</span>)[[<span class="dv">3</span>]]</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE  TRUE</code></pre>
</div>
</div>
<p>&nbsp;</p>
<p>Por supuesto, también podemos guardar el resultado como un objeto y acceder a cada elemento mediante la indexación:</p>
<div class="cell">
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1"></a><span class="co"># elemento 1</span></span>
<span id="cb81-2"><a href="#cb81-2"></a>out <span class="ot">&lt;-</span> <span class="fu">f4</span>(<span class="dv">10</span>, <span class="dv">5</span>)</span>
<span id="cb81-3"><a href="#cb81-3"></a></span>
<span id="cb81-4"><a href="#cb81-4"></a><span class="co"># elemento 1</span></span>
<span id="cb81-5"><a href="#cb81-5"></a>out[[<span class="dv">1</span>]]</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 15</code></pre>
</div>
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1"></a><span class="co"># elemento 2</span></span>
<span id="cb83-2"><a href="#cb83-2"></a>out[[<span class="dv">2</span>]]</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10.0000  1.6667</code></pre>
</div>
</div>
<p>&nbsp;</p>
</section>
<section id="ejercicio-2" class="level2 alert alert-info" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="ejercicio-2"><span class="header-section-number">2.5</span> Ejercicio 2</h2>
<p>2.1 Cree una función llamada <code>promedio</code> que calcule el promedio de un vector numérico. Internamente solo puede utilizar las funciones <code>sum()</code> y <code>length()</code> (suma y división, no puede llamar la función <code>mean()</code>)</p>
<p>2.2 Cree una función que tome 2 argumentos numéricos (llámelos ‘x’ y ‘y’), eleve cada uno al cuadrado y luego los sume</p>
<p>2.3 Agregue valores predeterminados a cada argumento</p>
<p>2.4 Ejecute la función usando los valores predeterminados</p>
<p>2.5 Ejecute la función usando un valor predeterminado y uno proporcionado en la llamada</p>
<p>2.6 Ejecute la función proporcionando ambos valores en la llamada</p>
</section>
<p>&nbsp;</p>
<hr>
</section>
<section id="argumentos-lógicos" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Argumentos lógicos</h1>
<p>Son argumentos que pueden tomar solo dos valores: <code>TRUE</code> o <code>FALSE</code>. Estos argumentos permiten modificar el comportamiento de la función de forma binaria: si es <code>TRUE</code> llevaría a cabo la tarea 1 y si es <code>FALSE</code> llevaría a cabo la tarea 2. Internamente (i.e.&nbsp;en el cuerpo de las función) estas funciones implican el uso del operador <code>if</code>, algunas veces incluyendo su contra-parte <code>else</code>. Estos operadores son parte fundamental de la programación y se usan para definir que acción ejecutar con base en una evaluación lógica:</p>
<div class="cell">
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1"></a><span class="co"># creemos el objeto a con valor 2</span></span>
<span id="cb85-2"><a href="#cb85-2"></a>a <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb85-3"><a href="#cb85-3"></a></span>
<span id="cb85-4"><a href="#cb85-4"></a><span class="co"># elevemos a la 2 si a es mayor q 0</span></span>
<span id="cb85-5"><a href="#cb85-5"></a><span class="cf">if</span> (a <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb85-6"><a href="#cb85-6"></a>  a<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb85-7"><a href="#cb85-7"></a>}</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1"></a><span class="co"># elevemos a la 2 si a es mayor q 0 de lo contrario elevemoslo a la 100</span></span>
<span id="cb87-2"><a href="#cb87-2"></a><span class="cf">if</span> (a <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb87-3"><a href="#cb87-3"></a>  a<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb87-4"><a href="#cb87-4"></a>} <span class="cf">else</span> {</span>
<span id="cb87-5"><a href="#cb87-5"></a>  a<span class="sc">^</span><span class="dv">100</span></span>
<span id="cb87-6"><a href="#cb87-6"></a>}</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1"></a><span class="co"># con a negativo</span></span>
<span id="cb89-2"><a href="#cb89-2"></a>a <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">3</span></span>
<span id="cb89-3"><a href="#cb89-3"></a><span class="cf">if</span> (a <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb89-4"><a href="#cb89-4"></a>  a<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb89-5"><a href="#cb89-5"></a>} <span class="cf">else</span> {</span>
<span id="cb89-6"><a href="#cb89-6"></a>  a<span class="sc">^</span><span class="dv">3</span></span>
<span id="cb89-7"><a href="#cb89-7"></a>}</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -27</code></pre>
</div>
</div>
<p>&nbsp;</p>
<p>La parte dentro de los paréntesis justo después de <code>if</code> es la evaluación lógica.</p>
<p>Estos operadores son utilizados en el cuerpo de la función cuando esta lleva un argumento lógico. Por ejemplo, la siguiente función utiliza un argumento lógico para decidir si la operación algebraica a realizar es una suma o un promedio:</p>
<div class="cell">
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1"></a>mean_sum <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y, <span class="at">prom =</span> <span class="cn">FALSE</span>) {</span>
<span id="cb91-2"><a href="#cb91-2"></a>  <span class="cf">if</span> (prom) {</span>
<span id="cb91-3"><a href="#cb91-3"></a>    b <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="fu">c</span>(x, y))</span>
<span id="cb91-4"><a href="#cb91-4"></a>  } <span class="cf">else</span> {</span>
<span id="cb91-5"><a href="#cb91-5"></a>    b <span class="ot">&lt;-</span> <span class="fu">sum</span>(<span class="fu">c</span>(x, y))</span>
<span id="cb91-6"><a href="#cb91-6"></a>  }</span>
<span id="cb91-7"><a href="#cb91-7"></a></span>
<span id="cb91-8"><a href="#cb91-8"></a>  <span class="fu">return</span>(b)</span>
<span id="cb91-9"><a href="#cb91-9"></a>}</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>&nbsp;</p>
<p>Note que este tipo de argumentos deben tener un valor predeterminado. Podemos probar la función de la siguiente forma:</p>
<div class="cell">
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1"></a><span class="fu">mean_sum</span>(<span class="at">x =</span> <span class="dv">2</span>, <span class="at">y =</span> <span class="dv">3</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
</div>
<p>&nbsp;</p>
<section id="ejercicio-3" class="level2 alert alert-info" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="ejercicio-3"><span class="header-section-number">3.1</span> Ejercicio 3</h2>
<p>3.1 Cree una función que tome 3 argumentos numéricos, multiplíquelos y luego calcule el logaritmo natural del resultado (función <code>log()</code>)</p>
<p>3.2 Agregue valores predeterminados a cada argumento</p>
<p>3.3 Ejecute la función con uno de los argumentos con un número negativo. ¿Qué pasa? ¿Por qué?</p>
<p>3.4 Agregue un argumento lógico que permita a los usuarios (si lo desean) convertir los argumentos de entrada a su valor absoluto (usando la función <code>abs()</code>). Agregue las modificaciones necesarias para que la función haga los cálculos con y sin valores absolutos.</p>
<div class="cell">

</div>
</section>
<hr>
</section>
<section id="ventajas-de-usar-funciones" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Ventajas de usar funciones</h1>
<p>&nbsp;</p>
<section id="código-mas-limpio" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="código-mas-limpio"><span class="header-section-number">4.1</span> Código mas limpio</h2>
<p>Los objetos creados dentro del cuerpo no están disponibles en el entorno actual:</p>
<div class="cell">
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1"></a><span class="co"># primero remover todo los objetos</span></span>
<span id="cb94-2"><a href="#cb94-2"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span>
<span id="cb94-3"><a href="#cb94-3"></a></span>
<span id="cb94-4"><a href="#cb94-4"></a>f5 <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb94-5"><a href="#cb94-5"></a>  sqr <span class="ot">&lt;-</span> x <span class="sc">*</span> x</span>
<span id="cb94-6"><a href="#cb94-6"></a>  lg_sqr <span class="ot">&lt;-</span> <span class="fu">log</span>(x)</span>
<span id="cb94-7"><a href="#cb94-7"></a>  <span class="fu">return</span>(lg_sqr)</span>
<span id="cb94-8"><a href="#cb94-8"></a>}</span>
<span id="cb94-9"><a href="#cb94-9"></a></span>
<span id="cb94-10"><a href="#cb94-10"></a><span class="fu">f5</span>(<span class="dv">7</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.9459</code></pre>
</div>
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1"></a><span class="fu">exists</span>(<span class="st">"sqr"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1"></a><span class="fu">exists</span>(<span class="st">"lg_sqr"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<div class="cell">
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1"></a>x <span class="ot">&lt;-</span> <span class="dv">7</span></span>
<span id="cb100-2"><a href="#cb100-2"></a>sqr <span class="ot">&lt;-</span> x <span class="sc">*</span> x</span>
<span id="cb100-3"><a href="#cb100-3"></a>lg_sqr <span class="ot">&lt;-</span> <span class="fu">log</span>(x)</span>
<span id="cb100-4"><a href="#cb100-4"></a></span>
<span id="cb100-5"><a href="#cb100-5"></a></span>
<span id="cb100-6"><a href="#cb100-6"></a><span class="fu">exists</span>(<span class="st">"sqr"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1"></a><span class="fu">exists</span>(<span class="st">"lg_sqr"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>&nbsp;</p>
</section>
<section id="facil-de-correr-y-compartir" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="facil-de-correr-y-compartir"><span class="header-section-number">4.2</span> Facil de correr y compartir</h2>
<p>Se pueden invocar funciones desde archivos de <code>R</code> externos sin estar definidas en el código actual con la función <code>source()</code>. En este ejemplo creamos la función <code>fnctn_X</code>:</p>
<div class="cell">
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1"></a>fnctn_X <span class="ot">&lt;-</span> <span class="cf">function</span>(sq_mt, vctr) {</span>
<span id="cb104-2"><a href="#cb104-2"></a>  <span class="co"># trasponer matriz y calcular est dev</span></span>
<span id="cb104-3"><a href="#cb104-3"></a>  stp1 <span class="ot">&lt;-</span> <span class="fu">t</span>(sq_mt)</span>
<span id="cb104-4"><a href="#cb104-4"></a>  stp2 <span class="ot">&lt;-</span> vctr <span class="sc">*</span> vctr</span>
<span id="cb104-5"><a href="#cb104-5"></a></span>
<span id="cb104-6"><a href="#cb104-6"></a>  <span class="co"># guardar en lista</span></span>
<span id="cb104-7"><a href="#cb104-7"></a>  rslt <span class="ot">&lt;-</span> <span class="fu">list</span>(stp1, stp2)</span>
<span id="cb104-8"><a href="#cb104-8"></a>  <span class="fu">return</span>(rslt)</span>
<span id="cb104-9"><a href="#cb104-9"></a>}</span>
<span id="cb104-10"><a href="#cb104-10"></a></span>
<span id="cb104-11"><a href="#cb104-11"></a><span class="fu">fnctn_X</span>(<span class="at">sq_mt =</span> <span class="fu">cbind</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>)), <span class="at">vctr =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
     [,1] [,2]
[1,]    1    2
[2,]    3    4

[[2]]
[1] 4 9</code></pre>
</div>
</div>
<p>&nbsp;</p>
<p>Guarde el código anterior en un archivo <code>R</code> llamado ‘function_X.R’. Ahora la función se puede cargar usando <code>source()</code>:</p>
<div class="cell">
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1"></a><span class="co"># removamosla del ambiente</span></span>
<span id="cb106-2"><a href="#cb106-2"></a><span class="fu">rm</span>(fnctn_X)</span>
<span id="cb106-3"><a href="#cb106-3"></a></span>
<span id="cb106-4"><a href="#cb106-4"></a><span class="co"># cargar funcion</span></span>
<span id="cb106-5"><a href="#cb106-5"></a><span class="fu">source</span>(<span class="st">"function_X.R"</span>)</span>
<span id="cb106-6"><a href="#cb106-6"></a></span>
<span id="cb106-7"><a href="#cb106-7"></a><span class="co"># run it</span></span>
<span id="cb106-8"><a href="#cb106-8"></a><span class="fu">fnctn_X</span>(<span class="at">sq_mt =</span> <span class="fu">cbind</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>)), <span class="at">vctr =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
     [,1] [,2]
[1,]    1    2
[2,]    3    4

[[2]]
[1] 4 9</code></pre>
</div>
</div>
<p>&nbsp;</p>
<p>Además, este código se puede compartir fácilmente. Se puede enviar por correo electrónico o publicar en línea. Incluso se puede cargar desde repositorios en línea:</p>
<div class="cell">
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1"></a><span class="co"># remover objetos</span></span>
<span id="cb108-2"><a href="#cb108-2"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span>
<span id="cb108-3"><a href="#cb108-3"></a></span>
<span id="cb108-4"><a href="#cb108-4"></a><span class="co"># revisar si existe en ambiente actual</span></span>
<span id="cb108-5"><a href="#cb108-5"></a><span class="fu">exists</span>(<span class="st">"fnctn_X"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1"></a><span class="co"># cargar desde el internet</span></span>
<span id="cb110-2"><a href="#cb110-2"></a><span class="fu">source</span>(</span>
<span id="cb110-3"><a href="#cb110-3"></a>  <span class="fu">paste0</span>(</span>
<span id="cb110-4"><a href="#cb110-4"></a>    <span class="st">"https://raw.githubusercontent.com/maRce10/"</span>,</span>
<span id="cb110-5"><a href="#cb110-5"></a>    <span class="st">"r_avanzado_2023/master/data/function_x.r"</span></span>
<span id="cb110-6"><a href="#cb110-6"></a>  )</span>
<span id="cb110-7"><a href="#cb110-7"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in file(filename, "r", encoding = encoding): URL
'https://raw.githubusercontent.com/maRce10/r_avanzado_2023/master/data/function_x.r':
status was 'Couldn't resolve host name'</code></pre>
</div>
<div class="cell-output cell-output-error">
<pre><code>Error in file(filename, "r", encoding = encoding): cannot open the connection to 'https://raw.githubusercontent.com/maRce10/r_avanzado_2023/master/data/function_x.r'</code></pre>
</div>
<details open="">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode numberSource r numberLines lineAnchors number-lines code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1"></a><span class="co"># revisar si existe en ambiente actual</span></span>
<span id="cb113-2"><a href="#cb113-2"></a><span class="fu">exists</span>(<span class="st">"fnctn_X"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<p>&nbsp;</p>
</section>
<section id="se-aplica-fácilmente-a-nuevos-objetos" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="se-aplica-fácilmente-a-nuevos-objetos"><span class="header-section-number">4.3</span> Se aplica fácilmente a nuevos objetos</h2>
<p>Esto ya debería ser obvio a este punto.</p>
</section>
<section id="otros-consejos" class="level2" data-number="4.4">
<h2 data-number="4.4" class="anchored" data-anchor-id="otros-consejos"><span class="header-section-number">4.4</span> Otros consejos</h2>
<ul>
<li>Construir funciones cortas:
<ul>
<li>Fácil de leer</li>
<li>Fácil de arreglar y actualizar</li>
<li>Si es demasiado largo, probablemente debería dividirse en varias funciones</li>
<li>Genera modularidad</li>
</ul></li>
<li>Añadir comentarios a todo el código &nbsp;</li>
<li>Agregar descripciones a cada uno de los argumentos que toma &nbsp;</li>
<li>Función de prueba con diferentes valores/escenarios</li>
</ul>
<hr>
<p>&nbsp;</p>
</section>
<section id="ejercicio-4" class="level2 alert alert-info" data-number="4.5">
<h2 data-number="4.5" class="anchored" data-anchor-id="ejercicio-4"><span class="header-section-number">4.5</span> Ejercicio 4</h2>
<p>4.1 Cree una funcion que calcule el promedio, la desviación estándar y el error estándar de un vector numérico. Estos valores deben ser devueltos como una lista con nombres.</p>
<p>4.2 Permita a los usuarios ignorar los <code>NAs</code> (similar al argumento <code>na.rm</code> en <code>mean()</code>, pista: añada un argumento lógico)</p>
<p>4.3 Haga que la función además produzca un histograma del vector numérico proporcionado por el usuario</p>
<p>4.4 Haga que la función escoja un color al azar para las barras del histograma cada vez que se corre (pista: <code>sample(vector.de.colores, 1)</code>)</p>
<p>4.5 Añada un argumento a la función que permita el usuario, si lo desea, calcular la sumatoria (<code>sum()</code>) junto con el resto de los descriptores estadísticos</p>
<p>4.6 Agregue el promedio y la desviación estándar al título del histograma (pista: use <code>paste()</code>)</p>
<p>4.7 Modifique la función para que también cree una linea vertical indicando el promedio del vector numérico proporcionado por el usuario</p>
<p>4.8 Modifique la función para que añada un polígono transparente sobre el área que cubre el promedio +/- la desviación estándar (puede usar la función <code>rect()</code>)</p>
<p>4.9 Modifique la función con un argumento lógico que permita al usuario controlar si se crea un gráfico o no</p>
</section>
<p>&nbsp;</p>
<hr>
<section id="lecturas-adicionales" class="level2" data-number="4.6">
<h2 data-number="4.6" class="anchored" data-anchor-id="lecturas-adicionales"><span class="header-section-number">4.6</span> Lecturas adicionales</h2>
<ul>
<li><p><a href="http://nicercode.github.io/intro/writing-functions.html"> Introduction to R guide to writing functions with information for a total beginner</a></p></li>
<li><p><a href="https://twitter.com/hadleywickham">Information on functions for intermediate and advanced users (Hadley Wickham)</a>.</p></li>
<li><p><a href="http://cran.r-project.org/doc/manuals/R-intro.html#Writing-your-own-R-intro.html#Writing-your-own-functions">The official R intro material on writing your own functions</a> (ir a “Writing your own function”)</p></li>
</ul>
<p>&nbsp;</p>
<hr>
</section>
<section id="referencias" class="level2" data-number="4.7">
<h2 data-number="4.7" class="anchored" data-anchor-id="referencias"><span class="header-section-number">4.7</span> Referencias</h2>
<ul>
<li>Wickham, Hadley, and Garrett Grolemund. 2016. <em>R for data science: import, tidy, transform, visualize, and model data</em>. <a href="http://r4ds.had.co.nz">website</a></li>
</ul>
<hr>
<p><font size="4">Información de la sesión</font></p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>R version 4.2.2 Patched (2022-11-10 r83330)
Platform: x86_64-pc-linux-gnu (64-bit)
Running under: Ubuntu 20.04.5 LTS

Matrix products: default
BLAS:   /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.9.0
LAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.9.0

locale:
 [1] LC_CTYPE=es_ES.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=es_CR.UTF-8        LC_COLLATE=es_ES.UTF-8    
 [5] LC_MONETARY=es_CR.UTF-8    LC_MESSAGES=es_ES.UTF-8   
 [7] LC_PAPER=es_CR.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=es_CR.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

loaded via a namespace (and not attached):
 [1] htmlwidgets_1.5.4 compiler_4.2.2    fastmap_1.1.1     cli_3.6.1        
 [5] tools_4.2.2       htmltools_0.5.6   rstudioapi_0.14   yaml_2.3.7       
 [9] rmarkdown_2.21    knitr_1.44        xfun_0.40         digest_0.6.33    
[13] jsonlite_1.8.7    rlang_1.1.1       evaluate_0.22    </code></pre>
</div>
</div>


<!-- -->

</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiado");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiado");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp(/https:\/\/marce10\.github\.io\/R_avanzado_2023\//);
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
    var links = window.document.querySelectorAll('a:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
      }
    }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Ejecutar el código</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb116" data-shortcodes="false"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb116-1"><a href="#cb116-1"></a><span class="co">---</span></span>
<span id="cb116-2"><a href="#cb116-2"></a><span class="an">title:</span><span class="co"> &lt;font size="7"&gt;&lt;b&gt;Funciones&lt;/b&gt;&lt;/font&gt;</span></span>
<span id="cb116-3"><a href="#cb116-3"></a><span class="an">toc:</span><span class="co"> true</span></span>
<span id="cb116-4"><a href="#cb116-4"></a><span class="an">toc-depth:</span><span class="co"> 2</span></span>
<span id="cb116-5"><a href="#cb116-5"></a><span class="an">toc-location:</span><span class="co"> left</span></span>
<span id="cb116-6"><a href="#cb116-6"></a><span class="an">toc-title:</span><span class="co"> Contenidos</span></span>
<span id="cb116-7"><a href="#cb116-7"></a><span class="an">number-sections:</span><span class="co"> true</span></span>
<span id="cb116-8"><a href="#cb116-8"></a><span class="an">highlight-style:</span><span class="co"> pygments</span></span>
<span id="cb116-9"><a href="#cb116-9"></a><span class="an">format:</span></span>
<span id="cb116-10"><a href="#cb116-10"></a><span class="co">  html:</span></span>
<span id="cb116-11"><a href="#cb116-11"></a><span class="co">    theme: simplex</span></span>
<span id="cb116-12"><a href="#cb116-12"></a><span class="co">    css: styles.css</span></span>
<span id="cb116-13"><a href="#cb116-13"></a><span class="co">    toc: true</span></span>
<span id="cb116-14"><a href="#cb116-14"></a><span class="co">    df-print: kable</span></span>
<span id="cb116-15"><a href="#cb116-15"></a><span class="co">    code-fold: show</span></span>
<span id="cb116-16"><a href="#cb116-16"></a><span class="co">    code-tools: true</span></span>
<span id="cb116-17"><a href="#cb116-17"></a><span class="co">    link-external-icon: false</span></span>
<span id="cb116-18"><a href="#cb116-18"></a><span class="co">    link-external-newwindow: true  </span></span>
<span id="cb116-19"><a href="#cb116-19"></a><span class="co">---</span></span>
<span id="cb116-20"><a href="#cb116-20"></a></span>
<span id="cb116-21"><a href="#cb116-21"></a><span class="in">```{=html}</span></span>
<span id="cb116-22"><a href="#cb116-22"></a><span class="in">&lt;style&gt;</span></span>
<span id="cb116-23"><a href="#cb116-23"></a><span class="in">body</span></span>
<span id="cb116-24"><a href="#cb116-24"></a><span class="in">  { counter-reset: source-line 0; }</span></span>
<span id="cb116-25"><a href="#cb116-25"></a><span class="in">pre.numberSource code</span></span>
<span id="cb116-26"><a href="#cb116-26"></a><span class="in">  { counter-reset: none; }</span></span>
<span id="cb116-27"><a href="#cb116-27"></a><span class="in">&lt;/style&gt;</span></span>
<span id="cb116-28"><a href="#cb116-28"></a><span class="in">```</span></span>
<span id="cb116-29"><a href="#cb116-29"></a><span class="in">```{r,echo=FALSE,message=FALSE}</span></span>
<span id="cb116-30"><a href="#cb116-30"></a></span>
<span id="cb116-31"><a href="#cb116-31"></a><span class="fu">options</span>(<span class="st">"digits"</span> <span class="ot">=</span> <span class="dv">5</span>)</span>
<span id="cb116-32"><a href="#cb116-32"></a><span class="fu">options</span>(<span class="st">"digits.secs"</span> <span class="ot">=</span> <span class="dv">3</span>)</span>
<span id="cb116-33"><a href="#cb116-33"></a></span>
<span id="cb116-34"><a href="#cb116-34"></a><span class="co"># options to customize chunk outputs</span></span>
<span id="cb116-35"><a href="#cb116-35"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(</span>
<span id="cb116-36"><a href="#cb116-36"></a>  <span class="at">class.source =</span> <span class="st">"numberLines lineAnchors"</span>, <span class="co"># for code line numbers</span></span>
<span id="cb116-37"><a href="#cb116-37"></a>  <span class="at">message =</span> <span class="cn">FALSE</span></span>
<span id="cb116-38"><a href="#cb116-38"></a>)</span>
<span id="cb116-39"><a href="#cb116-39"></a><span class="in">```</span></span>
<span id="cb116-40"><a href="#cb116-40"></a></span>
<span id="cb116-41"><a href="#cb116-41"></a>::: {.alert .alert-info}</span>
<span id="cb116-42"><a href="#cb116-42"></a><span class="fu"># Objetivo del manual {.unnumbered .unlisted}</span></span>
<span id="cb116-43"><a href="#cb116-43"></a></span>
<span id="cb116-44"><a href="#cb116-44"></a><span class="ss">-   </span>Identificar los elementos básicos que componen una función</span>
<span id="cb116-45"><a href="#cb116-45"></a></span>
<span id="cb116-46"><a href="#cb116-46"></a><span class="ss">-   </span>Comprender las características de los principales tipos de argumentos en las funciones</span>
<span id="cb116-47"><a href="#cb116-47"></a></span>
<span id="cb116-48"><a href="#cb116-48"></a><span class="ss">-   </span>Ser capaz de construir funciones propias</span>
<span id="cb116-49"><a href="#cb116-49"></a>:::</span>
<span id="cb116-50"><a href="#cb116-50"></a></span>
<span id="cb116-51"><a href="#cb116-51"></a>&nbsp;</span>
<span id="cb116-52"><a href="#cb116-52"></a></span>
<span id="cb116-53"><a href="#cb116-53"></a><span class="fu"># Funciones en R</span></span>
<span id="cb116-54"><a href="#cb116-54"></a></span>
<span id="cb116-55"><a href="#cb116-55"></a><span class="ss">-   </span>Todo lo que sucede en <span class="in">`R`</span> es una llamada de una función (i.e. las manipulaciones y cálculos de objetos en <span class="in">`R`</span> se realizan a través de una función)</span>
<span id="cb116-56"><a href="#cb116-56"></a></span>
<span id="cb116-57"><a href="#cb116-57"></a><span class="ss">-   </span>Una función es una subrutina que tiene como objetivo realizar una tarea específica</span>
<span id="cb116-58"><a href="#cb116-58"></a></span>
<span id="cb116-59"><a href="#cb116-59"></a><span class="ss">-   </span>Permite a los usuarios juntar bloques de código que se usan con frecuencia y, por lo tanto, resulta conveniente encapsular en un objeto que se puede llamar fácilmente cuando sea necesario</span>
<span id="cb116-60"><a href="#cb116-60"></a></span>
<span id="cb116-61"><a href="#cb116-61"></a><span class="ss">-   </span>Las funciones cargadas desde los paquetes (incluido <span class="in">`R`</span> básico) también se pueden modificar y sobrescribir</span>
<span id="cb116-62"><a href="#cb116-62"></a></span>
<span id="cb116-63"><a href="#cb116-63"></a>&nbsp;</span>
<span id="cb116-64"><a href="#cb116-64"></a></span>
<span id="cb116-65"><a href="#cb116-65"></a>------------------------------------------------------------------------</span>
<span id="cb116-66"><a href="#cb116-66"></a></span>
<span id="cb116-67"><a href="#cb116-67"></a><span class="fu"># Estructura básica</span></span>
<span id="cb116-68"><a href="#cb116-68"></a></span>
<span id="cb116-69"><a href="#cb116-69"></a>Todas las funciones son creadas iguales ... mediante la función <span class="in">`function()`</span> y siguen la misma estructura:</span>
<span id="cb116-70"><a href="#cb116-70"></a></span>
<span id="cb116-71"><a href="#cb116-71"></a><span class="in">```{r, echo=FALSE,out.width="100%", fig.align='center'}</span></span>
<span id="cb116-72"><a href="#cb116-72"></a></span>
<span id="cb116-73"><a href="#cb116-73"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"./images/funcion.png"</span>)</span>
<span id="cb116-74"><a href="#cb116-74"></a><span class="in">```</span></span>
<span id="cb116-75"><a href="#cb116-75"></a></span>
<span id="cb116-76"><a href="#cb116-76"></a><span class="kw">&lt;font</span> <span class="er">size</span><span class="ot">=</span><span class="st">"2"</span><span class="kw">&gt;</span><span class="sc">\*</span> Modificado de <span class="kw">&lt;i&gt;</span>Wickham et al. 2016<span class="kw">&lt;/i&gt;&lt;/font&gt;</span></span>
<span id="cb116-77"><a href="#cb116-77"></a></span>
<span id="cb116-78"><a href="#cb116-78"></a>&nbsp;</span>
<span id="cb116-79"><a href="#cb116-79"></a></span>
<span id="cb116-80"><a href="#cb116-80"></a>Podemos observar la estructura de funciones ya cargadas en nuestro entorno de <span class="in">`R`</span>. Para ver el código simplemente corra al nombre de la función en <span class="in">`R`</span> (sin el paréntesis). Por ejemplo, el código de la función <span class="in">`sd()`</span> se puede mostrar de la siguiente manera:</span>
<span id="cb116-81"><a href="#cb116-81"></a></span>
<span id="cb116-82"><a href="#cb116-82"></a><span class="in">```{r, eval = T}</span></span>
<span id="cb116-83"><a href="#cb116-83"></a></span>
<span id="cb116-84"><a href="#cb116-84"></a>sd</span>
<span id="cb116-85"><a href="#cb116-85"></a><span class="in">```</span></span>
<span id="cb116-86"><a href="#cb116-86"></a></span>
<span id="cb116-87"><a href="#cb116-87"></a>&nbsp;</span>
<span id="cb116-88"><a href="#cb116-88"></a></span>
<span id="cb116-89"><a href="#cb116-89"></a>En <span class="in">`Rstudio`</span>, el código también se puede mostrar usando *F2* cuando el cursor está en el nombre de la función.</span>
<span id="cb116-90"><a href="#cb116-90"></a></span>
<span id="cb116-91"><a href="#cb116-91"></a>&nbsp;</span>
<span id="cb116-92"><a href="#cb116-92"></a></span>
<span id="cb116-93"><a href="#cb116-93"></a>Además, podemos diseccionar las funciones en sus elementos básicos:</span>
<span id="cb116-94"><a href="#cb116-94"></a></span>
<span id="cb116-97"><a href="#cb116-97"></a><span class="in">```{r}</span></span>
<span id="cb116-98"><a href="#cb116-98"></a><span class="co"># cuerpo</span></span>
<span id="cb116-99"><a href="#cb116-99"></a><span class="fu">body</span>(sd)</span>
<span id="cb116-100"><a href="#cb116-100"></a></span>
<span id="cb116-101"><a href="#cb116-101"></a><span class="co"># argumentos</span></span>
<span id="cb116-102"><a href="#cb116-102"></a><span class="fu">formals</span>(sd)</span>
<span id="cb116-103"><a href="#cb116-103"></a></span>
<span id="cb116-104"><a href="#cb116-104"></a><span class="co"># ambiente</span></span>
<span id="cb116-105"><a href="#cb116-105"></a><span class="fu">environment</span>(sd)</span>
<span id="cb116-106"><a href="#cb116-106"></a><span class="in">```</span></span>
<span id="cb116-107"><a href="#cb116-107"></a></span>
<span id="cb116-108"><a href="#cb116-108"></a>&nbsp;</span>
<span id="cb116-109"><a href="#cb116-109"></a></span>
<span id="cb116-110"><a href="#cb116-110"></a>Algunas funciones <span class="in">`R`</span> utilizan funciones primitivas (principalmente escritas en <span class="in">`C`</span>). En estos casos, el código no se muestra:</span>
<span id="cb116-111"><a href="#cb116-111"></a></span>
<span id="cb116-114"><a href="#cb116-114"></a><span class="in">```{r}</span></span>
<span id="cb116-115"><a href="#cb116-115"></a>sum</span>
<span id="cb116-116"><a href="#cb116-116"></a></span>
<span id="cb116-117"><a href="#cb116-117"></a><span class="fu">body</span>(sum)</span>
<span id="cb116-118"><a href="#cb116-118"></a></span>
<span id="cb116-119"><a href="#cb116-119"></a><span class="fu">formals</span>(sum)</span>
<span id="cb116-120"><a href="#cb116-120"></a></span>
<span id="cb116-121"><a href="#cb116-121"></a><span class="fu">environment</span>(sum)</span>
<span id="cb116-122"><a href="#cb116-122"></a><span class="in">```</span></span>
<span id="cb116-123"><a href="#cb116-123"></a></span>
<span id="cb116-124"><a href="#cb116-124"></a>&nbsp;</span>
<span id="cb116-125"><a href="#cb116-125"></a></span>
<span id="cb116-126"><a href="#cb116-126"></a>Las funciones son en sí mismas un tipo específico de objeto:</span>
<span id="cb116-127"><a href="#cb116-127"></a></span>
<span id="cb116-128"><a href="#cb116-128"></a><span class="in">```{r, eval = T}</span></span>
<span id="cb116-129"><a href="#cb116-129"></a></span>
<span id="cb116-130"><a href="#cb116-130"></a><span class="fu">class</span>(sd)</span>
<span id="cb116-131"><a href="#cb116-131"></a><span class="in">```</span></span>
<span id="cb116-132"><a href="#cb116-132"></a></span>
<span id="cb116-133"><a href="#cb116-133"></a>&nbsp;</span>
<span id="cb116-134"><a href="#cb116-134"></a></span>
<span id="cb116-135"><a href="#cb116-135"></a>Los operadores son funciones:</span>
<span id="cb116-136"><a href="#cb116-136"></a></span>
<span id="cb116-139"><a href="#cb116-139"></a><span class="in">```{r}</span></span>
<span id="cb116-140"><a href="#cb116-140"></a><span class="dv">1</span> <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb116-141"><a href="#cb116-141"></a></span>
<span id="cb116-142"><a href="#cb116-142"></a></span>
<span id="cb116-143"><a href="#cb116-143"></a><span class="st">"+"</span>(<span class="dv">1</span>, <span class="dv">1</span>)</span>
<span id="cb116-144"><a href="#cb116-144"></a></span>
<span id="cb116-145"><a href="#cb116-145"></a><span class="dv">2</span> <span class="sc">*</span> <span class="dv">3</span></span>
<span id="cb116-146"><a href="#cb116-146"></a></span>
<span id="cb116-147"><a href="#cb116-147"></a></span>
<span id="cb116-148"><a href="#cb116-148"></a><span class="st">"*"</span>(<span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb116-149"><a href="#cb116-149"></a><span class="in">```</span></span>
<span id="cb116-150"><a href="#cb116-150"></a></span>
<span id="cb116-151"><a href="#cb116-151"></a>&nbsp;</span>
<span id="cb116-152"><a href="#cb116-152"></a></span>
<span id="cb116-153"><a href="#cb116-153"></a>------------------------------------------------------------------------</span>
<span id="cb116-154"><a href="#cb116-154"></a></span>
<span id="cb116-155"><a href="#cb116-155"></a><span class="fu">## Nombre</span></span>
<span id="cb116-156"><a href="#cb116-156"></a></span>
<span id="cb116-157"><a href="#cb116-157"></a><span class="in">```{r, echo=FALSE,out.width="100%", fig.align='center'}</span></span>
<span id="cb116-158"><a href="#cb116-158"></a></span>
<span id="cb116-159"><a href="#cb116-159"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"./images/nombre.png"</span>)</span>
<span id="cb116-160"><a href="#cb116-160"></a><span class="in">```</span></span>
<span id="cb116-161"><a href="#cb116-161"></a></span>
<span id="cb116-162"><a href="#cb116-162"></a>Los nombres de las funciones tienen pocas restricciones. Siguen las mismas reglas que otros objetos en <span class="in">`R`</span>. Algunas recomendaciones/reglas:</span>
<span id="cb116-163"><a href="#cb116-163"></a></span>
<span id="cb116-164"><a href="#cb116-164"></a><span class="ss">-   </span>No utilice nombres de objetos comunes <span class="in">`R`</span> (por ejemplo, *iris*, *x*) u objetos que ya están en el entorno</span>
<span id="cb116-165"><a href="#cb116-165"></a></span>
<span id="cb116-166"><a href="#cb116-166"></a><span class="ss">-   </span>No use nombres de funciones de uso frecuente (por ejemplo, <span class="in">`mean`</span>)</span>
<span id="cb116-167"><a href="#cb116-167"></a></span>
<span id="cb116-168"><a href="#cb116-168"></a><span class="ss">-   </span>No puede comenzar con un número</span>
<span id="cb116-169"><a href="#cb116-169"></a></span>
<span id="cb116-170"><a href="#cb116-170"></a><span class="ss">-   </span>Debería sugerir lo que hace</span>
<span id="cb116-171"><a href="#cb116-171"></a></span>
<span id="cb116-172"><a href="#cb116-172"></a><span class="ss">-   </span>No debe ser muy largo</span>
<span id="cb116-173"><a href="#cb116-173"></a></span>
<span id="cb116-174"><a href="#cb116-174"></a>En caso de que tenga varias funciones con el mismo nombre, puede llamarlas individualmente utilizando el nombre del paquete (o *namespace*) seguido de <span class="in">`::`</span>:</span>
<span id="cb116-175"><a href="#cb116-175"></a></span>
<span id="cb116-178"><a href="#cb116-178"></a><span class="in">```{r}</span></span>
<span id="cb116-179"><a href="#cb116-179"></a><span class="co"># crear funcion sd</span></span>
<span id="cb116-180"><a href="#cb116-180"></a>sd <span class="ot">&lt;-</span> <span class="cf">function</span>(x) x<span class="sc">^</span><span class="dv">10</span></span>
<span id="cb116-181"><a href="#cb116-181"></a></span>
<span id="cb116-182"><a href="#cb116-182"></a><span class="co"># no calcula desv. st.</span></span>
<span id="cb116-183"><a href="#cb116-183"></a><span class="fu">sd</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span>
<span id="cb116-184"><a href="#cb116-184"></a></span>
<span id="cb116-185"><a href="#cb116-185"></a><span class="co"># sd</span></span>
<span id="cb116-186"><a href="#cb116-186"></a>stats<span class="sc">::</span><span class="fu">sd</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span>
<span id="cb116-187"><a href="#cb116-187"></a></span>
<span id="cb116-188"><a href="#cb116-188"></a><span class="co"># remover nueva sd</span></span>
<span id="cb116-189"><a href="#cb116-189"></a><span class="fu">rm</span>(sd)</span>
<span id="cb116-190"><a href="#cb116-190"></a></span>
<span id="cb116-191"><a href="#cb116-191"></a><span class="co"># usar de nuevo</span></span>
<span id="cb116-192"><a href="#cb116-192"></a><span class="fu">sd</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span>
<span id="cb116-193"><a href="#cb116-193"></a><span class="in">```</span></span>
<span id="cb116-194"><a href="#cb116-194"></a></span>
<span id="cb116-195"><a href="#cb116-195"></a>&nbsp;</span>
<span id="cb116-196"><a href="#cb116-196"></a></span>
<span id="cb116-197"><a href="#cb116-197"></a>La sintaxis <span class="in">`namespace::function`</span> también se puede usar para llamar a funciones desde paquetes que se han instalado pero que no están cargados en el entorno actual.</span>
<span id="cb116-198"><a href="#cb116-198"></a></span>
<span id="cb116-199"><a href="#cb116-199"></a>&nbsp;</span>
<span id="cb116-200"><a href="#cb116-200"></a></span>
<span id="cb116-201"><a href="#cb116-201"></a>Las funciones pueden ser anónimas:</span>
<span id="cb116-202"><a href="#cb116-202"></a></span>
<span id="cb116-205"><a href="#cb116-205"></a><span class="in">```{r}</span></span>
<span id="cb116-206"><a href="#cb116-206"></a>(<span class="cf">function</span>(x) x<span class="sc">^</span><span class="dv">10</span>)(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span>
<span id="cb116-207"><a href="#cb116-207"></a><span class="in">```</span></span>
<span id="cb116-208"><a href="#cb116-208"></a></span>
<span id="cb116-209"><a href="#cb116-209"></a>&nbsp;</span>
<span id="cb116-210"><a href="#cb116-210"></a></span>
<span id="cb116-211"><a href="#cb116-211"></a>Esto es más útil cuando se usan las funciones <span class="in">`Xapply`</span>:</span>
<span id="cb116-212"><a href="#cb116-212"></a></span>
<span id="cb116-215"><a href="#cb116-215"></a><span class="in">```{r}</span></span>
<span id="cb116-216"><a href="#cb116-216"></a>l <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)</span>
<span id="cb116-217"><a href="#cb116-217"></a></span>
<span id="cb116-218"><a href="#cb116-218"></a><span class="fu">lapply</span>(l, <span class="cf">function</span>(x) x<span class="sc">^</span><span class="dv">10</span>)</span>
<span id="cb116-219"><a href="#cb116-219"></a><span class="in">```</span></span>
<span id="cb116-220"><a href="#cb116-220"></a></span>
<span id="cb116-221"><a href="#cb116-221"></a>------------------------------------------------------------------------</span>
<span id="cb116-222"><a href="#cb116-222"></a></span>
<span id="cb116-223"><a href="#cb116-223"></a><span class="fu">## Argumentos</span></span>
<span id="cb116-224"><a href="#cb116-224"></a></span>
<span id="cb116-225"><a href="#cb116-225"></a><span class="in">```{r, echo=FALSE,out.width="100%", fig.align='center'}</span></span>
<span id="cb116-226"><a href="#cb116-226"></a></span>
<span id="cb116-227"><a href="#cb116-227"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"./images/argumentos.png"</span>)</span>
<span id="cb116-228"><a href="#cb116-228"></a><span class="in">```</span></span>
<span id="cb116-229"><a href="#cb116-229"></a></span>
<span id="cb116-230"><a href="#cb116-230"></a>&nbsp;</span>
<span id="cb116-231"><a href="#cb116-231"></a></span>
<span id="cb116-232"><a href="#cb116-232"></a>Permiten a los usuarios ingresar objetos en la función. Los argumentos pueden o no tener valores predeterminados. Cuando los argumentos tienen valores predeterminados, no es necesario proporcionarlos:</span>
<span id="cb116-233"><a href="#cb116-233"></a></span>
<span id="cb116-234"><a href="#cb116-234"></a><span class="in">```{r eval = T}</span></span>
<span id="cb116-235"><a href="#cb116-235"></a></span>
<span id="cb116-236"><a href="#cb116-236"></a>f1 <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">y =</span> <span class="dv">2</span>) x <span class="sc">+</span> y</span>
<span id="cb116-237"><a href="#cb116-237"></a></span>
<span id="cb116-238"><a href="#cb116-238"></a><span class="fu">f1</span>(<span class="dv">1</span>)</span>
<span id="cb116-239"><a href="#cb116-239"></a><span class="in">```</span></span>
<span id="cb116-240"><a href="#cb116-240"></a></span>
<span id="cb116-241"><a href="#cb116-241"></a>&nbsp;</span>
<span id="cb116-242"><a href="#cb116-242"></a></span>
<span id="cb116-243"><a href="#cb116-243"></a>Por supuesto, se pueden modificar:</span>
<span id="cb116-244"><a href="#cb116-244"></a></span>
<span id="cb116-245"><a href="#cb116-245"></a><span class="in">```{r eval = T}</span></span>
<span id="cb116-246"><a href="#cb116-246"></a></span>
<span id="cb116-247"><a href="#cb116-247"></a><span class="fu">f1</span>(<span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="cb116-248"><a href="#cb116-248"></a><span class="in">```</span></span>
<span id="cb116-249"><a href="#cb116-249"></a></span>
<span id="cb116-250"><a href="#cb116-250"></a>&nbsp;</span>
<span id="cb116-251"><a href="#cb116-251"></a></span>
<span id="cb116-252"><a href="#cb116-252"></a>Los argumentos sin valor predeterminado deben ser proporcionados:</span>
<span id="cb116-253"><a href="#cb116-253"></a></span>
<span id="cb116-254"><a href="#cb116-254"></a><span class="in">```{r error = T}</span></span>
<span id="cb116-255"><a href="#cb116-255"></a></span>
<span id="cb116-256"><a href="#cb116-256"></a><span class="fu">f1</span>()</span>
<span id="cb116-257"><a href="#cb116-257"></a><span class="in">```</span></span>
<span id="cb116-258"><a href="#cb116-258"></a></span>
<span id="cb116-259"><a href="#cb116-259"></a>&nbsp;</span>
<span id="cb116-260"><a href="#cb116-260"></a></span>
<span id="cb116-261"><a href="#cb116-261"></a>Si todos los argumentos tienen un valor predeterminado, se puede invocar la función sin proporcionar ningún argumento:</span>
<span id="cb116-262"><a href="#cb116-262"></a></span>
<span id="cb116-263"><a href="#cb116-263"></a><span class="in">```{r eval = T}</span></span>
<span id="cb116-264"><a href="#cb116-264"></a></span>
<span id="cb116-265"><a href="#cb116-265"></a>f1 <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">x =</span> <span class="sc">-</span><span class="dv">2</span>, <span class="at">y =</span> <span class="dv">2</span>) x <span class="sc">+</span> y</span>
<span id="cb116-266"><a href="#cb116-266"></a></span>
<span id="cb116-267"><a href="#cb116-267"></a><span class="fu">f1</span>()</span>
<span id="cb116-268"><a href="#cb116-268"></a><span class="in">```</span></span>
<span id="cb116-269"><a href="#cb116-269"></a></span>
<span id="cb116-270"><a href="#cb116-270"></a>&nbsp;</span>
<span id="cb116-271"><a href="#cb116-271"></a></span>
<span id="cb116-272"><a href="#cb116-272"></a>Ese es el caso de <span class="in">`dev.off()`</span> y <span class="in">`Sys.time()`</span>:</span>
<span id="cb116-273"><a href="#cb116-273"></a></span>
<span id="cb116-274"><a href="#cb116-274"></a><span class="in">```{r eval = T}</span></span>
<span id="cb116-275"><a href="#cb116-275"></a></span>
<span id="cb116-276"><a href="#cb116-276"></a><span class="fu">Sys.time</span>()</span>
<span id="cb116-277"><a href="#cb116-277"></a><span class="in">```</span></span>
<span id="cb116-278"><a href="#cb116-278"></a></span>
<span id="cb116-279"><a href="#cb116-279"></a>&nbsp;</span>
<span id="cb116-280"><a href="#cb116-280"></a></span>
<span id="cb116-281"><a href="#cb116-281"></a>Los argumentos pueden especificarse implícitamente por posición o por nombres incompletos:</span>
<span id="cb116-282"><a href="#cb116-282"></a></span>
<span id="cb116-285"><a href="#cb116-285"></a><span class="in">```{r}</span></span>
<span id="cb116-286"><a href="#cb116-286"></a>f2 <span class="ot">&lt;-</span> <span class="cf">function</span>(a1, b1, b2) {</span>
<span id="cb116-287"><a href="#cb116-287"></a>  <span class="fu">list</span>(<span class="at">a1 =</span> a1, <span class="at">b1 =</span> b1, <span class="at">b2 =</span> b2)</span>
<span id="cb116-288"><a href="#cb116-288"></a>}</span>
<span id="cb116-289"><a href="#cb116-289"></a></span>
<span id="cb116-290"><a href="#cb116-290"></a><span class="co"># por posicion</span></span>
<span id="cb116-291"><a href="#cb116-291"></a><span class="fu">str</span>(<span class="fu">f2</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>))</span>
<span id="cb116-292"><a href="#cb116-292"></a></span>
<span id="cb116-293"><a href="#cb116-293"></a><span class="co"># por posicion y nombre</span></span>
<span id="cb116-294"><a href="#cb116-294"></a><span class="fu">str</span>(<span class="fu">f2</span>(<span class="at">a =</span> <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>))</span>
<span id="cb116-295"><a href="#cb116-295"></a></span>
<span id="cb116-296"><a href="#cb116-296"></a></span>
<span id="cb116-297"><a href="#cb116-297"></a><span class="fu">str</span>(<span class="fu">f2</span>(<span class="dv">1</span>, <span class="at">a =</span> <span class="dv">2</span>, <span class="dv">3</span>))</span>
<span id="cb116-298"><a href="#cb116-298"></a></span>
<span id="cb116-299"><a href="#cb116-299"></a></span>
<span id="cb116-300"><a href="#cb116-300"></a><span class="fu">str</span>(<span class="fu">f2</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="at">a =</span> <span class="dv">3</span>))</span>
<span id="cb116-301"><a href="#cb116-301"></a></span>
<span id="cb116-302"><a href="#cb116-302"></a><span class="co"># por posicion y nombre parcial</span></span>
<span id="cb116-303"><a href="#cb116-303"></a><span class="fu">str</span>(<span class="fu">f2</span>(<span class="dv">1</span>, <span class="at">a =</span> <span class="dv">2</span>, <span class="at">b1 =</span> <span class="dv">3</span>))</span>
<span id="cb116-304"><a href="#cb116-304"></a><span class="in">```</span></span>
<span id="cb116-305"><a href="#cb116-305"></a></span>
<span id="cb116-306"><a href="#cb116-306"></a>&nbsp;</span>
<span id="cb116-307"><a href="#cb116-307"></a></span>
<span id="cb116-308"><a href="#cb116-308"></a>Sin embargo, esto no funciona si los nombres son ambiguos:</span>
<span id="cb116-309"><a href="#cb116-309"></a></span>
<span id="cb116-310"><a href="#cb116-310"></a><span class="in">```{r, error=T}</span></span>
<span id="cb116-311"><a href="#cb116-311"></a></span>
<span id="cb116-312"><a href="#cb116-312"></a><span class="fu">f2</span>(<span class="at">b =</span> <span class="dv">1</span>, <span class="dv">2</span>, <span class="at">a =</span> <span class="dv">3</span>)</span>
<span id="cb116-313"><a href="#cb116-313"></a><span class="in">```</span></span>
<span id="cb116-314"><a href="#cb116-314"></a></span>
<span id="cb116-315"><a href="#cb116-315"></a>&nbsp;</span>
<span id="cb116-316"><a href="#cb116-316"></a></span>
<span id="cb116-317"><a href="#cb116-317"></a>Es más seguro (y, por lo tanto, una mejor práctica) usar los nombres completos de los argumentos.</span>
<span id="cb116-318"><a href="#cb116-318"></a></span>
<span id="cb116-319"><a href="#cb116-319"></a>&nbsp;</span>
<span id="cb116-320"><a href="#cb116-320"></a></span>
<span id="cb116-321"><a href="#cb116-321"></a>Las funciones también pueden tomar argumentos lógicos. Estos son útiles para modificar el comportamiento de la función para que coincida con diferentes escenarios. Por ejemplo, <span class="in">`mean()`</span> permite a los usuarios ignorar los *NA*:</span>
<span id="cb116-322"><a href="#cb116-322"></a></span>
<span id="cb116-325"><a href="#cb116-325"></a><span class="in">```{r}</span></span>
<span id="cb116-326"><a href="#cb116-326"></a>v1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="cn">NA</span>)</span>
<span id="cb116-327"><a href="#cb116-327"></a></span>
<span id="cb116-328"><a href="#cb116-328"></a><span class="co"># sin ignorar NAs</span></span>
<span id="cb116-329"><a href="#cb116-329"></a><span class="fu">mean</span>(v1, <span class="at">na.rm =</span> <span class="cn">FALSE</span>)</span>
<span id="cb116-330"><a href="#cb116-330"></a></span>
<span id="cb116-331"><a href="#cb116-331"></a><span class="co"># ignorando NAs</span></span>
<span id="cb116-332"><a href="#cb116-332"></a><span class="fu">mean</span>(v1, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb116-333"><a href="#cb116-333"></a><span class="in">```</span></span>
<span id="cb116-334"><a href="#cb116-334"></a></span>
<span id="cb116-335"><a href="#cb116-335"></a>&nbsp;</span>
<span id="cb116-336"><a href="#cb116-336"></a></span>
<span id="cb116-337"><a href="#cb116-337"></a>::: {.alert .alert-info}</span>
<span id="cb116-338"><a href="#cb116-338"></a><span class="fu">## Ejercicio 1</span></span>
<span id="cb116-339"><a href="#cb116-339"></a></span>
<span id="cb116-340"><a href="#cb116-340"></a>1.1 ¿Qué hace la función <span class="in">`cor.test()`</span>?</span>
<span id="cb116-341"><a href="#cb116-341"></a></span>
<span id="cb116-342"><a href="#cb116-342"></a>1.2 Úsela con "Sepal.Length" y "Sepal.Width" de los datos de ejemplo *iris* (use <span class="in">`data(iris)`</span>)</span>
<span id="cb116-343"><a href="#cb116-343"></a></span>
<span id="cb116-344"><a href="#cb116-344"></a>1.3 ¿Qué argumentos deben proporcionarse?</span>
<span id="cb116-345"><a href="#cb116-345"></a></span>
<span id="cb116-346"><a href="#cb116-346"></a>1.4 ¿Qué hace el argumento *alternative*? Use diferentes valores para este argumento y compare los resultados</span>
<span id="cb116-347"><a href="#cb116-347"></a></span>
<span id="cb116-348"><a href="#cb116-348"></a>1.5 ¿Cómo se puede calcular la correlación de Spearman?</span>
<span id="cb116-349"><a href="#cb116-349"></a></span>
<span id="cb116-350"><a href="#cb116-350"></a>1.6 ¿Qué tipo de objeto devuelve esta función?</span>
<span id="cb116-351"><a href="#cb116-351"></a></span>
<span id="cb116-352"><a href="#cb116-352"></a>1.7 ¿Cómo puede obtener el valor de **p** directamente del resultado de la función (sin guardar el resultado como un objeto)?</span>
<span id="cb116-353"><a href="#cb116-353"></a></span>
<span id="cb116-354"><a href="#cb116-354"></a>1.8 Escoga una función de R y lea su documentación con el fin de entender su uso, cada uno de sus argumentos (y que tipo de objetos requieren) y el resultado que produce (es probable que se le pida que explique esto al grupo)</span>
<span id="cb116-355"><a href="#cb116-355"></a>:::</span>
<span id="cb116-356"><a href="#cb116-356"></a></span>
<span id="cb116-357"><a href="#cb116-357"></a>------------------------------------------------------------------------</span>
<span id="cb116-358"><a href="#cb116-358"></a></span>
<span id="cb116-359"><a href="#cb116-359"></a><span class="fu">## Cuerpo</span></span>
<span id="cb116-360"><a href="#cb116-360"></a></span>
<span id="cb116-361"><a href="#cb116-361"></a><span class="in">```{r, echo=FALSE,out.width="100%", fig.align='center'}</span></span>
<span id="cb116-362"><a href="#cb116-362"></a></span>
<span id="cb116-363"><a href="#cb116-363"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"./images/cuerpo.png"</span>)</span>
<span id="cb116-364"><a href="#cb116-364"></a><span class="in">```</span></span>
<span id="cb116-365"><a href="#cb116-365"></a></span>
<span id="cb116-366"><a href="#cb116-366"></a>&nbsp;</span>
<span id="cb116-367"><a href="#cb116-367"></a></span>
<span id="cb116-368"><a href="#cb116-368"></a>El cuerpo de una función puede contener:</span>
<span id="cb116-369"><a href="#cb116-369"></a></span>
<span id="cb116-370"><a href="#cb116-370"></a><span class="ss">-   </span>Comprobación de argumentos</span>
<span id="cb116-371"><a href="#cb116-371"></a></span>
<span id="cb116-372"><a href="#cb116-372"></a><span class="ss">-   </span>Manipulación de datos</span>
<span id="cb116-373"><a href="#cb116-373"></a></span>
<span id="cb116-374"><a href="#cb116-374"></a><span class="ss">-   </span>Definición de resultados</span>
<span id="cb116-375"><a href="#cb116-375"></a></span>
<span id="cb116-376"><a href="#cb116-376"></a>&nbsp;</span>
<span id="cb116-377"><a href="#cb116-377"></a></span>
<span id="cb116-378"><a href="#cb116-378"></a>El cuerpo de la función puede tomar el mismo tipo de código utilizado en cualquier rutina de <span class="in">`R`</span>. Sin embargo, los objetos creados no estarán disponibles en el entorno.</span>
<span id="cb116-379"><a href="#cb116-379"></a></span>
<span id="cb116-380"><a href="#cb116-380"></a>Cuando se realizan varios cálculos, debemos incluir una *declaración de retorno* (return statement), que define explícitamente la salida de la función. Esto se hace usando la función <span class="in">`return()`</span>:</span>
<span id="cb116-381"><a href="#cb116-381"></a></span>
<span id="cb116-384"><a href="#cb116-384"></a><span class="in">```{r}</span></span>
<span id="cb116-385"><a href="#cb116-385"></a><span class="co"># sin "return statement"</span></span>
<span id="cb116-386"><a href="#cb116-386"></a>f1 <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb116-387"><a href="#cb116-387"></a>  z1 <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">*</span> x <span class="sc">+</span> y</span>
<span id="cb116-388"><a href="#cb116-388"></a>  z2 <span class="ot">&lt;-</span> x <span class="sc">+</span> <span class="dv">2</span> <span class="sc">*</span> y</span>
<span id="cb116-389"><a href="#cb116-389"></a>  z3 <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">*</span> x <span class="sc">+</span> <span class="dv">2</span> <span class="sc">*</span> y</span>
<span id="cb116-390"><a href="#cb116-390"></a>  z4 <span class="ot">&lt;-</span> x <span class="sc">/</span> y</span>
<span id="cb116-391"><a href="#cb116-391"></a>}</span>
<span id="cb116-392"><a href="#cb116-392"></a></span>
<span id="cb116-393"><a href="#cb116-393"></a><span class="fu">f1</span>(<span class="dv">5</span>, <span class="dv">3</span>)</span>
<span id="cb116-394"><a href="#cb116-394"></a></span>
<span id="cb116-395"><a href="#cb116-395"></a>f1_out <span class="ot">&lt;-</span> <span class="fu">f1</span>(<span class="dv">5</span>, <span class="dv">3</span>)</span>
<span id="cb116-396"><a href="#cb116-396"></a></span>
<span id="cb116-397"><a href="#cb116-397"></a>f1_out</span>
<span id="cb116-398"><a href="#cb116-398"></a></span>
<span id="cb116-399"><a href="#cb116-399"></a></span>
<span id="cb116-400"><a href="#cb116-400"></a><span class="co"># con "return statement"</span></span>
<span id="cb116-401"><a href="#cb116-401"></a>f2 <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb116-402"><a href="#cb116-402"></a>  z1 <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">*</span> x <span class="sc">+</span> y</span>
<span id="cb116-403"><a href="#cb116-403"></a>  z2 <span class="ot">&lt;-</span> x <span class="sc">+</span> <span class="dv">2</span> <span class="sc">*</span> y</span>
<span id="cb116-404"><a href="#cb116-404"></a>  z3 <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">*</span> x <span class="sc">+</span> <span class="dv">2</span> <span class="sc">*</span> y</span>
<span id="cb116-405"><a href="#cb116-405"></a>  z4 <span class="ot">&lt;-</span> x <span class="sc">/</span> y</span>
<span id="cb116-406"><a href="#cb116-406"></a></span>
<span id="cb116-407"><a href="#cb116-407"></a>  <span class="fu">return</span>(<span class="fu">c</span>(z1, z2, z3, z4))</span>
<span id="cb116-408"><a href="#cb116-408"></a>}</span>
<span id="cb116-409"><a href="#cb116-409"></a></span>
<span id="cb116-410"><a href="#cb116-410"></a><span class="fu">f2</span>(<span class="dv">5</span>, <span class="dv">3</span>)</span>
<span id="cb116-411"><a href="#cb116-411"></a></span>
<span id="cb116-412"><a href="#cb116-412"></a>f2_out <span class="ot">&lt;-</span> <span class="fu">f2</span>(<span class="dv">5</span>, <span class="dv">3</span>)</span>
<span id="cb116-413"><a href="#cb116-413"></a></span>
<span id="cb116-414"><a href="#cb116-414"></a>f2_out</span>
<span id="cb116-415"><a href="#cb116-415"></a><span class="in">```</span></span>
<span id="cb116-416"><a href="#cb116-416"></a></span>
<span id="cb116-417"><a href="#cb116-417"></a>&nbsp;</span>
<span id="cb116-418"><a href="#cb116-418"></a></span>
<span id="cb116-419"><a href="#cb116-419"></a>Por lo tanto, cuando no se proporciona una *declaración de retorno*, la función devolverá el último objeto que se creó en el cuerpo de la función:</span>
<span id="cb116-420"><a href="#cb116-420"></a></span>
<span id="cb116-423"><a href="#cb116-423"></a><span class="in">```{r}</span></span>
<span id="cb116-424"><a href="#cb116-424"></a><span class="co"># sin "return statement"</span></span>
<span id="cb116-425"><a href="#cb116-425"></a>f3 <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb116-426"><a href="#cb116-426"></a>  z1 <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">*</span> x <span class="sc">+</span> y</span>
<span id="cb116-427"><a href="#cb116-427"></a>  z2 <span class="ot">&lt;-</span> x <span class="sc">+</span> <span class="dv">2</span> <span class="sc">*</span> y</span>
<span id="cb116-428"><a href="#cb116-428"></a>  z3 <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">*</span> x <span class="sc">+</span> <span class="dv">2</span> <span class="sc">*</span> y</span>
<span id="cb116-429"><a href="#cb116-429"></a>  z4 <span class="ot">&lt;-</span> x <span class="sc">/</span> y</span>
<span id="cb116-430"><a href="#cb116-430"></a></span>
<span id="cb116-431"><a href="#cb116-431"></a>  <span class="fu">c</span>(z1, z2, z3, z4)</span>
<span id="cb116-432"><a href="#cb116-432"></a>}</span>
<span id="cb116-433"><a href="#cb116-433"></a></span>
<span id="cb116-434"><a href="#cb116-434"></a><span class="fu">f3</span>(<span class="dv">5</span>, <span class="dv">3</span>)</span>
<span id="cb116-435"><a href="#cb116-435"></a></span>
<span id="cb116-436"><a href="#cb116-436"></a>f3_out <span class="ot">&lt;-</span> <span class="fu">f3</span>(<span class="dv">5</span>, <span class="dv">3</span>)</span>
<span id="cb116-437"><a href="#cb116-437"></a></span>
<span id="cb116-438"><a href="#cb116-438"></a>f3_out</span>
<span id="cb116-439"><a href="#cb116-439"></a><span class="in">```</span></span>
<span id="cb116-440"><a href="#cb116-440"></a></span>
<span id="cb116-441"><a href="#cb116-441"></a>&nbsp;</span>
<span id="cb116-442"><a href="#cb116-442"></a></span>
<span id="cb116-443"><a href="#cb116-443"></a>Es más seguro usar <span class="in">`return()`</span>.</span>
<span id="cb116-444"><a href="#cb116-444"></a></span>
<span id="cb116-445"><a href="#cb116-445"></a>&nbsp;</span>
<span id="cb116-446"><a href="#cb116-446"></a></span>
<span id="cb116-447"><a href="#cb116-447"></a>Cuando una función realiza varias tareas, podemos usar una lista para juntar los diferentes objetos. Esto es particularmente útil cuando se generan objetos de diferentes clases (por ejemplo, vectores y listas):</span>
<span id="cb116-448"><a href="#cb116-448"></a></span>
<span id="cb116-451"><a href="#cb116-451"></a><span class="in">```{r}</span></span>
<span id="cb116-452"><a href="#cb116-452"></a>f4 <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb116-453"><a href="#cb116-453"></a>  <span class="co"># 1 elemento</span></span>
<span id="cb116-454"><a href="#cb116-454"></a>  z1 <span class="ot">&lt;-</span> x <span class="sc">+</span> y</span>
<span id="cb116-455"><a href="#cb116-455"></a></span>
<span id="cb116-456"><a href="#cb116-456"></a>  <span class="co"># 2 elementos</span></span>
<span id="cb116-457"><a href="#cb116-457"></a>  z2 <span class="ot">&lt;-</span> <span class="fu">c</span>(x, y <span class="sc">/</span> <span class="dv">3</span>)</span>
<span id="cb116-458"><a href="#cb116-458"></a></span>
<span id="cb116-459"><a href="#cb116-459"></a>  <span class="co"># vector logico</span></span>
<span id="cb116-460"><a href="#cb116-460"></a>  z3 <span class="ot">&lt;-</span> z2 <span class="sc">&lt;</span> <span class="dv">10</span></span>
<span id="cb116-461"><a href="#cb116-461"></a></span>
<span id="cb116-462"><a href="#cb116-462"></a></span>
<span id="cb116-463"><a href="#cb116-463"></a>  l <span class="ot">&lt;-</span> <span class="fu">list</span>(z1, z2, z3)</span>
<span id="cb116-464"><a href="#cb116-464"></a></span>
<span id="cb116-465"><a href="#cb116-465"></a>  <span class="fu">return</span>(l)</span>
<span id="cb116-466"><a href="#cb116-466"></a>}</span>
<span id="cb116-467"><a href="#cb116-467"></a></span>
<span id="cb116-468"><a href="#cb116-468"></a><span class="fu">f4</span>(<span class="dv">10</span>, <span class="dv">5</span>)</span>
<span id="cb116-469"><a href="#cb116-469"></a><span class="in">```</span></span>
<span id="cb116-470"><a href="#cb116-470"></a></span>
<span id="cb116-471"><a href="#cb116-471"></a>&nbsp;</span>
<span id="cb116-472"><a href="#cb116-472"></a></span>
<span id="cb116-473"><a href="#cb116-473"></a>Podemos acceder a elementos específicos de la salida de una función mediante indexación:</span>
<span id="cb116-474"><a href="#cb116-474"></a></span>
<span id="cb116-477"><a href="#cb116-477"></a><span class="in">```{r}</span></span>
<span id="cb116-478"><a href="#cb116-478"></a><span class="co"># elemento 1</span></span>
<span id="cb116-479"><a href="#cb116-479"></a><span class="fu">f4</span>(<span class="dv">10</span>, <span class="dv">5</span>)[[<span class="dv">1</span>]]</span>
<span id="cb116-480"><a href="#cb116-480"></a></span>
<span id="cb116-481"><a href="#cb116-481"></a><span class="co"># elemento 2</span></span>
<span id="cb116-482"><a href="#cb116-482"></a><span class="fu">f4</span>(<span class="dv">10</span>, <span class="dv">5</span>)[[<span class="dv">2</span>]]</span>
<span id="cb116-483"><a href="#cb116-483"></a></span>
<span id="cb116-484"><a href="#cb116-484"></a><span class="co"># elemento 3</span></span>
<span id="cb116-485"><a href="#cb116-485"></a><span class="fu">f4</span>(<span class="dv">10</span>, <span class="dv">5</span>)[[<span class="dv">3</span>]]</span>
<span id="cb116-486"><a href="#cb116-486"></a><span class="in">```</span></span>
<span id="cb116-487"><a href="#cb116-487"></a></span>
<span id="cb116-488"><a href="#cb116-488"></a>&nbsp;</span>
<span id="cb116-489"><a href="#cb116-489"></a></span>
<span id="cb116-490"><a href="#cb116-490"></a>Por supuesto, también podemos guardar el resultado como un objeto y acceder a cada elemento mediante la indexación:</span>
<span id="cb116-491"><a href="#cb116-491"></a></span>
<span id="cb116-494"><a href="#cb116-494"></a><span class="in">```{r}</span></span>
<span id="cb116-495"><a href="#cb116-495"></a><span class="co"># elemento 1</span></span>
<span id="cb116-496"><a href="#cb116-496"></a>out <span class="ot">&lt;-</span> <span class="fu">f4</span>(<span class="dv">10</span>, <span class="dv">5</span>)</span>
<span id="cb116-497"><a href="#cb116-497"></a></span>
<span id="cb116-498"><a href="#cb116-498"></a><span class="co"># elemento 1</span></span>
<span id="cb116-499"><a href="#cb116-499"></a>out[[<span class="dv">1</span>]]</span>
<span id="cb116-500"><a href="#cb116-500"></a></span>
<span id="cb116-501"><a href="#cb116-501"></a><span class="co"># elemento 2</span></span>
<span id="cb116-502"><a href="#cb116-502"></a>out[[<span class="dv">2</span>]]</span>
<span id="cb116-503"><a href="#cb116-503"></a><span class="in">```</span></span>
<span id="cb116-504"><a href="#cb116-504"></a></span>
<span id="cb116-505"><a href="#cb116-505"></a>&nbsp;</span>
<span id="cb116-506"><a href="#cb116-506"></a></span>
<span id="cb116-507"><a href="#cb116-507"></a>::: {.alert .alert-info}</span>
<span id="cb116-508"><a href="#cb116-508"></a><span class="fu">## Ejercicio 2</span></span>
<span id="cb116-509"><a href="#cb116-509"></a></span>
<span id="cb116-510"><a href="#cb116-510"></a>2.1 Cree una función llamada <span class="in">`promedio`</span> que calcule el promedio de un vector numérico. Internamente solo puede utilizar las funciones <span class="in">`sum()`</span> y <span class="in">`length()`</span> (suma y división, no puede llamar la función <span class="in">`mean()`</span>)</span>
<span id="cb116-511"><a href="#cb116-511"></a></span>
<span id="cb116-512"><a href="#cb116-512"></a>2.2 Cree una función que tome 2 argumentos numéricos (llámelos 'x' y 'y'), eleve cada uno al cuadrado y luego los sume</span>
<span id="cb116-513"><a href="#cb116-513"></a></span>
<span id="cb116-514"><a href="#cb116-514"></a>2.3 Agregue valores predeterminados a cada argumento</span>
<span id="cb116-515"><a href="#cb116-515"></a></span>
<span id="cb116-516"><a href="#cb116-516"></a>2.4 Ejecute la función usando los valores predeterminados</span>
<span id="cb116-517"><a href="#cb116-517"></a></span>
<span id="cb116-518"><a href="#cb116-518"></a>2.5 Ejecute la función usando un valor predeterminado y uno proporcionado en la llamada</span>
<span id="cb116-519"><a href="#cb116-519"></a></span>
<span id="cb116-520"><a href="#cb116-520"></a>2.6 Ejecute la función proporcionando ambos valores en la llamada</span>
<span id="cb116-521"><a href="#cb116-521"></a>:::</span>
<span id="cb116-522"><a href="#cb116-522"></a></span>
<span id="cb116-523"><a href="#cb116-523"></a>&nbsp;</span>
<span id="cb116-524"><a href="#cb116-524"></a></span>
<span id="cb116-525"><a href="#cb116-525"></a>------------------------------------------------------------------------</span>
<span id="cb116-526"><a href="#cb116-526"></a></span>
<span id="cb116-527"><a href="#cb116-527"></a><span class="fu"># Argumentos lógicos</span></span>
<span id="cb116-528"><a href="#cb116-528"></a></span>
<span id="cb116-529"><a href="#cb116-529"></a>Son argumentos que pueden tomar solo dos valores: <span class="in">`TRUE`</span> o <span class="in">`FALSE`</span>. Estos argumentos permiten modificar el comportamiento de la función de forma binaria: si es <span class="in">`TRUE`</span> llevaría a cabo la tarea 1 y si es <span class="in">`FALSE`</span> llevaría a cabo la tarea 2. Internamente (i.e. en el cuerpo de las función) estas funciones implican el uso del operador <span class="in">`if`</span>, algunas veces incluyendo su contra-parte <span class="in">`else`</span>. Estos operadores son parte fundamental de la programación y se usan para definir que acción ejecutar con base en una evaluación lógica:</span>
<span id="cb116-530"><a href="#cb116-530"></a></span>
<span id="cb116-533"><a href="#cb116-533"></a><span class="in">```{r}</span></span>
<span id="cb116-534"><a href="#cb116-534"></a><span class="co"># creemos el objeto a con valor 2</span></span>
<span id="cb116-535"><a href="#cb116-535"></a>a <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb116-536"><a href="#cb116-536"></a></span>
<span id="cb116-537"><a href="#cb116-537"></a><span class="co"># elevemos a la 2 si a es mayor q 0</span></span>
<span id="cb116-538"><a href="#cb116-538"></a><span class="cf">if</span> (a <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb116-539"><a href="#cb116-539"></a>  a<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb116-540"><a href="#cb116-540"></a>}</span>
<span id="cb116-541"><a href="#cb116-541"></a></span>
<span id="cb116-542"><a href="#cb116-542"></a><span class="co"># elevemos a la 2 si a es mayor q 0 de lo contrario elevemoslo a la 100</span></span>
<span id="cb116-543"><a href="#cb116-543"></a><span class="cf">if</span> (a <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb116-544"><a href="#cb116-544"></a>  a<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb116-545"><a href="#cb116-545"></a>} <span class="cf">else</span> {</span>
<span id="cb116-546"><a href="#cb116-546"></a>  a<span class="sc">^</span><span class="dv">100</span></span>
<span id="cb116-547"><a href="#cb116-547"></a>}</span>
<span id="cb116-548"><a href="#cb116-548"></a></span>
<span id="cb116-549"><a href="#cb116-549"></a><span class="co"># con a negativo</span></span>
<span id="cb116-550"><a href="#cb116-550"></a>a <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">3</span></span>
<span id="cb116-551"><a href="#cb116-551"></a><span class="cf">if</span> (a <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb116-552"><a href="#cb116-552"></a>  a<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb116-553"><a href="#cb116-553"></a>} <span class="cf">else</span> {</span>
<span id="cb116-554"><a href="#cb116-554"></a>  a<span class="sc">^</span><span class="dv">3</span></span>
<span id="cb116-555"><a href="#cb116-555"></a>}</span>
<span id="cb116-556"><a href="#cb116-556"></a><span class="in">```</span></span>
<span id="cb116-557"><a href="#cb116-557"></a></span>
<span id="cb116-558"><a href="#cb116-558"></a>&nbsp;</span>
<span id="cb116-559"><a href="#cb116-559"></a></span>
<span id="cb116-560"><a href="#cb116-560"></a>La parte dentro de los paréntesis justo después de <span class="in">`if`</span> es la evaluación lógica.</span>
<span id="cb116-561"><a href="#cb116-561"></a></span>
<span id="cb116-562"><a href="#cb116-562"></a>Estos operadores son utilizados en el cuerpo de la función cuando esta lleva un argumento lógico. Por ejemplo, la siguiente función utiliza un argumento lógico para decidir si la operación algebraica a realizar es una suma o un promedio:</span>
<span id="cb116-563"><a href="#cb116-563"></a></span>
<span id="cb116-566"><a href="#cb116-566"></a><span class="in">```{r}</span></span>
<span id="cb116-567"><a href="#cb116-567"></a>mean_sum <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y, <span class="at">prom =</span> <span class="cn">FALSE</span>) {</span>
<span id="cb116-568"><a href="#cb116-568"></a>  <span class="cf">if</span> (prom) {</span>
<span id="cb116-569"><a href="#cb116-569"></a>    b <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="fu">c</span>(x, y))</span>
<span id="cb116-570"><a href="#cb116-570"></a>  } <span class="cf">else</span> {</span>
<span id="cb116-571"><a href="#cb116-571"></a>    b <span class="ot">&lt;-</span> <span class="fu">sum</span>(<span class="fu">c</span>(x, y))</span>
<span id="cb116-572"><a href="#cb116-572"></a>  }</span>
<span id="cb116-573"><a href="#cb116-573"></a></span>
<span id="cb116-574"><a href="#cb116-574"></a>  <span class="fu">return</span>(b)</span>
<span id="cb116-575"><a href="#cb116-575"></a>}</span>
<span id="cb116-576"><a href="#cb116-576"></a><span class="in">```</span></span>
<span id="cb116-577"><a href="#cb116-577"></a></span>
<span id="cb116-578"><a href="#cb116-578"></a>&nbsp;</span>
<span id="cb116-579"><a href="#cb116-579"></a></span>
<span id="cb116-580"><a href="#cb116-580"></a>Note que este tipo de argumentos deben tener un valor predeterminado. Podemos probar la función de la siguiente forma:</span>
<span id="cb116-581"><a href="#cb116-581"></a></span>
<span id="cb116-584"><a href="#cb116-584"></a><span class="in">```{r}</span></span>
<span id="cb116-585"><a href="#cb116-585"></a><span class="fu">mean_sum</span>(<span class="at">x =</span> <span class="dv">2</span>, <span class="at">y =</span> <span class="dv">3</span>)</span>
<span id="cb116-586"><a href="#cb116-586"></a><span class="in">```</span></span>
<span id="cb116-587"><a href="#cb116-587"></a></span>
<span id="cb116-588"><a href="#cb116-588"></a>&nbsp;</span>
<span id="cb116-589"><a href="#cb116-589"></a></span>
<span id="cb116-590"><a href="#cb116-590"></a>::: {.alert .alert-info}</span>
<span id="cb116-591"><a href="#cb116-591"></a><span class="fu">## Ejercicio 3</span></span>
<span id="cb116-592"><a href="#cb116-592"></a></span>
<span id="cb116-593"><a href="#cb116-593"></a>3.1 Cree una función que tome 3 argumentos numéricos, multiplíquelos y luego calcule el logaritmo natural del resultado (función <span class="in">`log()`</span>)</span>
<span id="cb116-594"><a href="#cb116-594"></a></span>
<span id="cb116-595"><a href="#cb116-595"></a>3.2 Agregue valores predeterminados a cada argumento</span>
<span id="cb116-596"><a href="#cb116-596"></a></span>
<span id="cb116-597"><a href="#cb116-597"></a>3.3 Ejecute la función con uno de los argumentos con un número negativo. ¿Qué pasa? ¿Por qué?</span>
<span id="cb116-598"><a href="#cb116-598"></a></span>
<span id="cb116-599"><a href="#cb116-599"></a>3.4 Agregue un argumento lógico que permita a los usuarios (si lo desean) convertir los argumentos de entrada a su valor absoluto (usando la función <span class="in">`abs()`</span>). Agregue las modificaciones necesarias para que la función haga los cálculos con y sin valores absolutos.</span>
<span id="cb116-600"><a href="#cb116-600"></a></span>
<span id="cb116-601"><a href="#cb116-601"></a><span class="in">```{r, eval = F, echo = F}</span></span>
<span id="cb116-602"><a href="#cb116-602"></a><span class="co"># a)</span></span>
<span id="cb116-603"><a href="#cb116-603"></a>fcn_1 <span class="ot">&lt;-</span> <span class="cf">function</span>(a, b, c) <span class="fu">log</span>(a <span class="sc">*</span> b <span class="sc">*</span> c)</span>
<span id="cb116-604"><a href="#cb116-604"></a></span>
<span id="cb116-605"><a href="#cb116-605"></a><span class="fu">fcn_1</span>(<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">12</span>)</span>
<span id="cb116-606"><a href="#cb116-606"></a></span>
<span id="cb116-607"><a href="#cb116-607"></a><span class="co"># b)</span></span>
<span id="cb116-608"><a href="#cb116-608"></a>fcn_1 <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">a =</span> <span class="dv">1</span>, <span class="at">b =</span> <span class="dv">2</span>, <span class="at">c =</span> <span class="dv">3</span>) <span class="fu">log</span>(a <span class="sc">*</span> b <span class="sc">*</span> c)</span>
<span id="cb116-609"><a href="#cb116-609"></a></span>
<span id="cb116-610"><a href="#cb116-610"></a><span class="co"># c)</span></span>
<span id="cb116-611"><a href="#cb116-611"></a><span class="fu">fcn_1</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb116-612"><a href="#cb116-612"></a><span class="in">```</span></span>
<span id="cb116-613"><a href="#cb116-613"></a>:::</span>
<span id="cb116-614"><a href="#cb116-614"></a></span>
<span id="cb116-615"><a href="#cb116-615"></a>------------------------------------------------------------------------</span>
<span id="cb116-616"><a href="#cb116-616"></a></span>
<span id="cb116-617"><a href="#cb116-617"></a><span class="fu"># Ventajas de usar funciones</span></span>
<span id="cb116-618"><a href="#cb116-618"></a></span>
<span id="cb116-619"><a href="#cb116-619"></a>&nbsp;</span>
<span id="cb116-620"><a href="#cb116-620"></a></span>
<span id="cb116-621"><a href="#cb116-621"></a><span class="fu">## Código mas limpio</span></span>
<span id="cb116-622"><a href="#cb116-622"></a></span>
<span id="cb116-623"><a href="#cb116-623"></a>Los objetos creados dentro del cuerpo no están disponibles en el entorno actual:</span>
<span id="cb116-624"><a href="#cb116-624"></a></span>
<span id="cb116-627"><a href="#cb116-627"></a><span class="in">```{r}</span></span>
<span id="cb116-628"><a href="#cb116-628"></a><span class="co"># primero remover todo los objetos</span></span>
<span id="cb116-629"><a href="#cb116-629"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span>
<span id="cb116-630"><a href="#cb116-630"></a></span>
<span id="cb116-631"><a href="#cb116-631"></a>f5 <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb116-632"><a href="#cb116-632"></a>  sqr <span class="ot">&lt;-</span> x <span class="sc">*</span> x</span>
<span id="cb116-633"><a href="#cb116-633"></a>  lg_sqr <span class="ot">&lt;-</span> <span class="fu">log</span>(x)</span>
<span id="cb116-634"><a href="#cb116-634"></a>  <span class="fu">return</span>(lg_sqr)</span>
<span id="cb116-635"><a href="#cb116-635"></a>}</span>
<span id="cb116-636"><a href="#cb116-636"></a></span>
<span id="cb116-637"><a href="#cb116-637"></a><span class="fu">f5</span>(<span class="dv">7</span>)</span>
<span id="cb116-638"><a href="#cb116-638"></a></span>
<span id="cb116-639"><a href="#cb116-639"></a><span class="fu">exists</span>(<span class="st">"sqr"</span>)</span>
<span id="cb116-640"><a href="#cb116-640"></a><span class="fu">exists</span>(<span class="st">"lg_sqr"</span>)</span>
<span id="cb116-641"><a href="#cb116-641"></a><span class="in">```</span></span>
<span id="cb116-642"><a href="#cb116-642"></a></span>
<span id="cb116-643"><a href="#cb116-643"></a>&nbsp;</span>
<span id="cb116-644"><a href="#cb116-644"></a></span>
<span id="cb116-647"><a href="#cb116-647"></a><span class="in">```{r}</span></span>
<span id="cb116-648"><a href="#cb116-648"></a>x <span class="ot">&lt;-</span> <span class="dv">7</span></span>
<span id="cb116-649"><a href="#cb116-649"></a>sqr <span class="ot">&lt;-</span> x <span class="sc">*</span> x</span>
<span id="cb116-650"><a href="#cb116-650"></a>lg_sqr <span class="ot">&lt;-</span> <span class="fu">log</span>(x)</span>
<span id="cb116-651"><a href="#cb116-651"></a></span>
<span id="cb116-652"><a href="#cb116-652"></a></span>
<span id="cb116-653"><a href="#cb116-653"></a><span class="fu">exists</span>(<span class="st">"sqr"</span>)</span>
<span id="cb116-654"><a href="#cb116-654"></a><span class="fu">exists</span>(<span class="st">"lg_sqr"</span>)</span>
<span id="cb116-655"><a href="#cb116-655"></a><span class="in">```</span></span>
<span id="cb116-656"><a href="#cb116-656"></a></span>
<span id="cb116-657"><a href="#cb116-657"></a>&nbsp;</span>
<span id="cb116-658"><a href="#cb116-658"></a></span>
<span id="cb116-659"><a href="#cb116-659"></a><span class="fu">## Facil de correr y compartir</span></span>
<span id="cb116-660"><a href="#cb116-660"></a></span>
<span id="cb116-661"><a href="#cb116-661"></a>Se pueden invocar funciones desde archivos de <span class="in">`R`</span> externos sin estar definidas en el código actual con la función <span class="in">`source()`</span>. En este ejemplo creamos la función <span class="in">`fnctn_X`</span>:</span>
<span id="cb116-662"><a href="#cb116-662"></a></span>
<span id="cb116-665"><a href="#cb116-665"></a><span class="in">```{r}</span></span>
<span id="cb116-666"><a href="#cb116-666"></a>fnctn_X <span class="ot">&lt;-</span> <span class="cf">function</span>(sq_mt, vctr) {</span>
<span id="cb116-667"><a href="#cb116-667"></a>  <span class="co"># trasponer matriz y calcular est dev</span></span>
<span id="cb116-668"><a href="#cb116-668"></a>  stp1 <span class="ot">&lt;-</span> <span class="fu">t</span>(sq_mt)</span>
<span id="cb116-669"><a href="#cb116-669"></a>  stp2 <span class="ot">&lt;-</span> vctr <span class="sc">*</span> vctr</span>
<span id="cb116-670"><a href="#cb116-670"></a></span>
<span id="cb116-671"><a href="#cb116-671"></a>  <span class="co"># guardar en lista</span></span>
<span id="cb116-672"><a href="#cb116-672"></a>  rslt <span class="ot">&lt;-</span> <span class="fu">list</span>(stp1, stp2)</span>
<span id="cb116-673"><a href="#cb116-673"></a>  <span class="fu">return</span>(rslt)</span>
<span id="cb116-674"><a href="#cb116-674"></a>}</span>
<span id="cb116-675"><a href="#cb116-675"></a></span>
<span id="cb116-676"><a href="#cb116-676"></a><span class="fu">fnctn_X</span>(<span class="at">sq_mt =</span> <span class="fu">cbind</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>)), <span class="at">vctr =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>))</span>
<span id="cb116-677"><a href="#cb116-677"></a><span class="in">```</span></span>
<span id="cb116-678"><a href="#cb116-678"></a></span>
<span id="cb116-679"><a href="#cb116-679"></a>&nbsp;</span>
<span id="cb116-680"><a href="#cb116-680"></a></span>
<span id="cb116-681"><a href="#cb116-681"></a>Guarde el código anterior en un archivo <span class="in">`R`</span> llamado 'function_X.R'. Ahora la función se puede cargar usando <span class="in">`source()`</span>:</span>
<span id="cb116-682"><a href="#cb116-682"></a></span>
<span id="cb116-683"><a href="#cb116-683"></a><span class="in">```{r, eval = F}</span></span>
<span id="cb116-684"><a href="#cb116-684"></a></span>
<span id="cb116-685"><a href="#cb116-685"></a><span class="co"># removamosla del ambiente</span></span>
<span id="cb116-686"><a href="#cb116-686"></a><span class="fu">rm</span>(fnctn_X)</span>
<span id="cb116-687"><a href="#cb116-687"></a></span>
<span id="cb116-688"><a href="#cb116-688"></a><span class="co"># cargar funcion</span></span>
<span id="cb116-689"><a href="#cb116-689"></a><span class="fu">source</span>(<span class="st">"function_X.R"</span>)</span>
<span id="cb116-690"><a href="#cb116-690"></a></span>
<span id="cb116-691"><a href="#cb116-691"></a><span class="co"># run it</span></span>
<span id="cb116-692"><a href="#cb116-692"></a><span class="fu">fnctn_X</span>(<span class="at">sq_mt =</span> <span class="fu">cbind</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>)), <span class="at">vctr =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>))</span>
<span id="cb116-693"><a href="#cb116-693"></a><span class="in">```</span></span>
<span id="cb116-694"><a href="#cb116-694"></a></span>
<span id="cb116-695"><a href="#cb116-695"></a><span class="in">```{r, eval=T, echo=F}</span></span>
<span id="cb116-696"><a href="#cb116-696"></a></span>
<span id="cb116-697"><a href="#cb116-697"></a><span class="fu">fnctn_X</span>(<span class="at">sq_mt =</span> <span class="fu">cbind</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>)), <span class="at">vctr =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>))</span>
<span id="cb116-698"><a href="#cb116-698"></a><span class="in">```</span></span>
<span id="cb116-699"><a href="#cb116-699"></a></span>
<span id="cb116-700"><a href="#cb116-700"></a>&nbsp;</span>
<span id="cb116-701"><a href="#cb116-701"></a></span>
<span id="cb116-702"><a href="#cb116-702"></a>Además, este código se puede compartir fácilmente. Se puede enviar por correo electrónico o publicar en línea. Incluso se puede cargar desde repositorios en línea:</span>
<span id="cb116-703"><a href="#cb116-703"></a></span>
<span id="cb116-704"><a href="#cb116-704"></a><span class="in">```{r, error=T}</span></span>
<span id="cb116-705"><a href="#cb116-705"></a></span>
<span id="cb116-706"><a href="#cb116-706"></a><span class="co"># remover objetos</span></span>
<span id="cb116-707"><a href="#cb116-707"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span>
<span id="cb116-708"><a href="#cb116-708"></a></span>
<span id="cb116-709"><a href="#cb116-709"></a><span class="co"># revisar si existe en ambiente actual</span></span>
<span id="cb116-710"><a href="#cb116-710"></a><span class="fu">exists</span>(<span class="st">"fnctn_X"</span>)</span>
<span id="cb116-711"><a href="#cb116-711"></a></span>
<span id="cb116-712"><a href="#cb116-712"></a><span class="co"># cargar desde el internet</span></span>
<span id="cb116-713"><a href="#cb116-713"></a><span class="fu">source</span>(</span>
<span id="cb116-714"><a href="#cb116-714"></a>  <span class="fu">paste0</span>(</span>
<span id="cb116-715"><a href="#cb116-715"></a>    <span class="st">"https://raw.githubusercontent.com/maRce10/"</span>,</span>
<span id="cb116-716"><a href="#cb116-716"></a>    <span class="st">"r_avanzado_2023/master/data/function_x.r"</span></span>
<span id="cb116-717"><a href="#cb116-717"></a>  )</span>
<span id="cb116-718"><a href="#cb116-718"></a>)</span>
<span id="cb116-719"><a href="#cb116-719"></a></span>
<span id="cb116-720"><a href="#cb116-720"></a></span>
<span id="cb116-721"><a href="#cb116-721"></a><span class="co"># revisar si existe en ambiente actual</span></span>
<span id="cb116-722"><a href="#cb116-722"></a><span class="fu">exists</span>(<span class="st">"fnctn_X"</span>)</span>
<span id="cb116-723"><a href="#cb116-723"></a><span class="in">```</span></span>
<span id="cb116-724"><a href="#cb116-724"></a></span>
<span id="cb116-725"><a href="#cb116-725"></a>&nbsp;</span>
<span id="cb116-726"><a href="#cb116-726"></a></span>
<span id="cb116-727"><a href="#cb116-727"></a><span class="fu">## Se aplica fácilmente a nuevos objetos</span></span>
<span id="cb116-728"><a href="#cb116-728"></a></span>
<span id="cb116-729"><a href="#cb116-729"></a>Esto ya debería ser obvio a este punto.</span>
<span id="cb116-730"><a href="#cb116-730"></a></span>
<span id="cb116-731"><a href="#cb116-731"></a><span class="fu">## Otros consejos</span></span>
<span id="cb116-732"><a href="#cb116-732"></a></span>
<span id="cb116-733"><a href="#cb116-733"></a><span class="ss">-   </span>Construir funciones cortas:</span>
<span id="cb116-734"><a href="#cb116-734"></a><span class="ss">    -   </span>Fácil de leer</span>
<span id="cb116-735"><a href="#cb116-735"></a><span class="ss">    -   </span>Fácil de arreglar y actualizar</span>
<span id="cb116-736"><a href="#cb116-736"></a><span class="ss">    -   </span>Si es demasiado largo, probablemente debería dividirse en varias funciones</span>
<span id="cb116-737"><a href="#cb116-737"></a><span class="ss">    -   </span>Genera modularidad</span>
<span id="cb116-738"><a href="#cb116-738"></a><span class="ss">-   </span>Añadir comentarios a todo el código &nbsp;</span>
<span id="cb116-739"><a href="#cb116-739"></a><span class="ss">-   </span>Agregar descripciones a cada uno de los argumentos que toma &nbsp;</span>
<span id="cb116-740"><a href="#cb116-740"></a><span class="ss">-   </span>Función de prueba con diferentes valores/escenarios</span>
<span id="cb116-741"><a href="#cb116-741"></a></span>
<span id="cb116-742"><a href="#cb116-742"></a>------------------------------------------------------------------------</span>
<span id="cb116-743"><a href="#cb116-743"></a></span>
<span id="cb116-744"><a href="#cb116-744"></a>&nbsp;</span>
<span id="cb116-745"><a href="#cb116-745"></a></span>
<span id="cb116-746"><a href="#cb116-746"></a>::: {.alert .alert-info}</span>
<span id="cb116-747"><a href="#cb116-747"></a><span class="fu">## Ejercicio 4</span></span>
<span id="cb116-748"><a href="#cb116-748"></a></span>
<span id="cb116-749"><a href="#cb116-749"></a>4.1 Cree una funcion que calcule el promedio, la desviación estándar y el error estándar de un vector numérico. Estos valores deben ser devueltos como una lista con nombres.</span>
<span id="cb116-750"><a href="#cb116-750"></a></span>
<span id="cb116-751"><a href="#cb116-751"></a>4.2 Permita a los usuarios ignorar los <span class="in">`NAs`</span> (similar al argumento <span class="in">`na.rm`</span> en <span class="in">`mean()`</span>, pista: añada un argumento lógico)</span>
<span id="cb116-752"><a href="#cb116-752"></a></span>
<span id="cb116-753"><a href="#cb116-753"></a>4.3 Haga que la función además produzca un histograma del vector numérico proporcionado por el usuario</span>
<span id="cb116-754"><a href="#cb116-754"></a></span>
<span id="cb116-755"><a href="#cb116-755"></a>4.4 Haga que la función escoja un color al azar para las barras del histograma cada vez que se corre (pista: <span class="in">`sample(vector.de.colores, 1)`</span>)</span>
<span id="cb116-756"><a href="#cb116-756"></a></span>
<span id="cb116-757"><a href="#cb116-757"></a>4.5 Añada un argumento a la función que permita el usuario, si lo desea, calcular la sumatoria (<span class="in">`sum()`</span>) junto con el resto de los descriptores estadísticos</span>
<span id="cb116-758"><a href="#cb116-758"></a></span>
<span id="cb116-759"><a href="#cb116-759"></a>4.6 Agregue el promedio y la desviación estándar al título del histograma (pista: use <span class="in">`paste()`</span>)</span>
<span id="cb116-760"><a href="#cb116-760"></a></span>
<span id="cb116-761"><a href="#cb116-761"></a>4.7 Modifique la función para que también cree una linea vertical indicando el promedio del vector numérico proporcionado por el usuario</span>
<span id="cb116-762"><a href="#cb116-762"></a></span>
<span id="cb116-763"><a href="#cb116-763"></a>4.8 Modifique la función para que añada un polígono transparente sobre el área que cubre el promedio +/- la desviación estándar (puede usar la función <span class="in">`rect()`</span>)</span>
<span id="cb116-764"><a href="#cb116-764"></a></span>
<span id="cb116-765"><a href="#cb116-765"></a>4.9 Modifique la función con un argumento lógico que permita al usuario controlar si se crea un gráfico o no</span>
<span id="cb116-766"><a href="#cb116-766"></a>:::</span>
<span id="cb116-767"><a href="#cb116-767"></a></span>
<span id="cb116-768"><a href="#cb116-768"></a>&nbsp;</span>
<span id="cb116-769"><a href="#cb116-769"></a></span>
<span id="cb116-770"><a href="#cb116-770"></a>------------------------------------------------------------------------</span>
<span id="cb116-771"><a href="#cb116-771"></a></span>
<span id="cb116-772"><a href="#cb116-772"></a><span class="fu">## Lecturas adicionales</span></span>
<span id="cb116-773"><a href="#cb116-773"></a></span>
<span id="cb116-774"><a href="#cb116-774"></a><span class="ss">-   </span><span class="kw">&lt;a</span> <span class="er">href</span><span class="ot">=</span><span class="st">"http://nicercode.github.io/intro/writing-functions.html"</span><span class="kw">&gt;</span> Introduction to R guide to writing functions with information for a total beginner<span class="kw">&lt;/a&gt;</span></span>
<span id="cb116-775"><a href="#cb116-775"></a></span>
<span id="cb116-776"><a href="#cb116-776"></a><span class="ss">-   </span><span class="kw">&lt;a</span> <span class="er">href</span><span class="ot">=</span><span class="st">"https://twitter.com/hadleywickham"</span><span class="kw">&gt;</span>Information on functions for intermediate and advanced users (Hadley Wickham)<span class="kw">&lt;/a&gt;</span>.</span>
<span id="cb116-777"><a href="#cb116-777"></a></span>
<span id="cb116-778"><a href="#cb116-778"></a><span class="ss">-   </span><span class="kw">&lt;a</span> <span class="er">href</span><span class="ot">=</span><span class="st">"http://cran.r-project.org/doc/manuals/R-intro.html#Writing-your-own-R-intro.html#Writing-your-own-functions"</span><span class="kw">&gt;</span>The official R intro material on writing your own functions<span class="kw">&lt;/a&gt;</span> (ir a "Writing your own function")</span>
<span id="cb116-779"><a href="#cb116-779"></a></span>
<span id="cb116-780"><a href="#cb116-780"></a>&nbsp;</span>
<span id="cb116-781"><a href="#cb116-781"></a></span>
<span id="cb116-782"><a href="#cb116-782"></a>------------------------------------------------------------------------</span>
<span id="cb116-783"><a href="#cb116-783"></a></span>
<span id="cb116-784"><a href="#cb116-784"></a><span class="fu">## Referencias</span></span>
<span id="cb116-785"><a href="#cb116-785"></a></span>
<span id="cb116-786"><a href="#cb116-786"></a><span class="ss">-   </span>Wickham, Hadley, and Garrett Grolemund. 2016. *R for data science: import, tidy, transform, visualize, and model data*. <span class="co">[</span><span class="ot">website</span><span class="co">](http://r4ds.had.co.nz)</span></span>
<span id="cb116-787"><a href="#cb116-787"></a></span>
<span id="cb116-788"><a href="#cb116-788"></a>------------------------------------------------------------------------</span>
<span id="cb116-789"><a href="#cb116-789"></a></span>
<span id="cb116-790"><a href="#cb116-790"></a><span class="kw">&lt;font</span> <span class="er">size</span><span class="ot">=</span><span class="st">"4"</span><span class="kw">&gt;</span>Información de la sesión<span class="kw">&lt;/font&gt;</span></span>
<span id="cb116-791"><a href="#cb116-791"></a></span>
<span id="cb116-792"><a href="#cb116-792"></a><span class="in">```{r session info, echo=F}</span></span>
<span id="cb116-793"><a href="#cb116-793"></a></span>
<span id="cb116-794"><a href="#cb116-794"></a><span class="fu">sessionInfo</span>()</span>
<span id="cb116-795"><a href="#cb116-795"></a><span class="in">```</span></span>
</code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
      <div class="nav-footer-center">Copyright 2023 | <a href="https://marce10.github.io">Marcelo Araya-Salas</a></div>
  </div>
</footer>



</body></html>