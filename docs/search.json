[
  {
    "objectID": "reportes_dinamicos.html",
    "href": "reportes_dinamicos.html",
    "title": "Reportes din√°micos",
    "section": "",
    "text": "Familiarizarse con el formato para reportes din√°micos Rmarkdown/quarto\nSer capaz de documentar el manejo y an√°lisis de datos en R usando Rmarkdown/quarto\nPaquetes a utilizar en este manual:\nC√≥digo\n# cargar paquetes\n\nsketchy::load_packages(\n    c(\n      \"leaflet\",\n      \"remotes\",\n      \"hadley/emo\",\n      \"maRce10/sketchy\",\n      \"knitr\",\n      \"rmarkdown\",\n      \"rmdformats\",\n      \"revealjs\",\n      \"rticles\",\n      \"tufte\"\n    )\n)"
  },
  {
    "objectID": "reportes_dinamicos.html#ventajas-de-los-reportes-din√°micos-con-rmarkdownquarto",
    "href": "reportes_dinamicos.html#ventajas-de-los-reportes-din√°micos-con-rmarkdownquarto",
    "title": "Reportes din√°micos",
    "section": "1.1 Ventajas de los reportes din√°micos con Rmarkdown/quarto:",
    "text": "1.1 Ventajas de los reportes din√°micos con Rmarkdown/quarto:\n\nEl c√≥digo R se puede incrustar en el informe, por lo que no es necesario mantener el informe y el c√≥digo de R por separado\nIncluir el c√≥digo R directamente en un informe proporciona una estructura intuitiva para reproducir los an√°lisis\nEl texto del informe est√° escrito como texto normal, por lo que no se requieren conocimientos de programaci√≥n (i.e.¬†R o HTML) para comprenderlos\nEl resultado es un archivo HTML que incluye im√°genes, bloques de c√≥digo con los comandos de R, los resultados de estos c√≥digos y texto. No se necesitan archivos adicionales, todo est√° incorporado en el archivo HTML.\nLos informes son f√°ciles de compartir por correo o publicarlos en l√≠nea\nEstos informes facilitan la colaboraci√≥n y mejoran la reproducibilidad (entender los an√°lisis es mucho mas f√°cil cuando hay texto explicativo, c√≥digo de R, los resultados del c√≥digo y los gr√°ficos en un mismo archivo)\nSe actualizan f√°cilmente para incluir nuevos an√°lisis y/o integrar nuevos datos"
  },
  {
    "objectID": "reportes_dinamicos.html#ejercicio-1",
    "href": "reportes_dinamicos.html#ejercicio-1",
    "title": "Reportes din√°micos",
    "section": "2.1 Ejercicio 1",
    "text": "2.1 Ejercicio 1\nCree un nuevo archivo R Markdown o quarto, escriba algunas l√≠neas de texto y haga clic en ‚ÄúKnit‚Äù para ver c√≥mo se ver√° su reporte."
  },
  {
    "objectID": "reportes_dinamicos.html#crear-encabezados-de-varios-tama√±os",
    "href": "reportes_dinamicos.html#crear-encabezados-de-varios-tama√±os",
    "title": "Reportes din√°micos",
    "section": "3.1 Crear encabezados de varios tama√±os",
    "text": "3.1 Crear encabezados de varios tama√±os\nC√≥digo:\n\n\n\n\n\n\n\n\n\nResultado:"
  },
  {
    "objectID": "reportes_dinamicos.html#encabezado-2",
    "href": "reportes_dinamicos.html#encabezado-2",
    "title": "Reportes din√°micos",
    "section": "4.1 Encabezado 2",
    "text": "4.1 Encabezado 2\n\n4.1.1 Encabezado 3"
  },
  {
    "objectID": "reportes_dinamicos.html#opciones-del-texto",
    "href": "reportes_dinamicos.html#opciones-del-texto",
    "title": "Reportes din√°micos",
    "section": "4.2 Opciones del texto",
    "text": "4.2 Opciones del texto\n¬†\nC√≥digo:\n\n\n\n\n\n\n\n\n\nResultado:\nHacer texto en negrita, it√°lico, tachado, o super√≠ndice"
  },
  {
    "objectID": "reportes_dinamicos.html#a√±adir-una-imagen",
    "href": "reportes_dinamicos.html#a√±adir-una-imagen",
    "title": "Reportes din√°micos",
    "section": "4.3 A√±adir una imagen",
    "text": "4.3 A√±adir una imagen\nC√≥digo:\n\n\n\n\n\n\n\n\n\nResultado:\n\n\n\n\n\n\n\n\n\nTambi√©n podemos a√±adir una imagen con la funci√≥n include_graphics() del paquete knitr.\nC√≥digo:\n\n\nC√≥digo\ninclude_graphics(\"./images/rmarkdown_icon.png\")\n\n\nResultado:\n\n\n\n\n\n\n\n\n\nNote que esta opci√≥n nos permite hacer uso de los argumentos del bloque de c√≥digo dedicados a la graficaci√≥n, y po r tanto es una opci√≥n mas flexible."
  },
  {
    "objectID": "reportes_dinamicos.html#crear-enlaces-hyperlinks",
    "href": "reportes_dinamicos.html#crear-enlaces-hyperlinks",
    "title": "Reportes din√°micos",
    "section": "4.4 Crear enlaces (‚Äòhyperlinks‚Äô)",
    "text": "4.4 Crear enlaces (‚Äòhyperlinks‚Äô)\nC√≥digo:\n\n\n\n\n\n\n\n\n\nResultado:\nCrear un enlace a figshare"
  },
  {
    "objectID": "reportes_dinamicos.html#ejercicio-2",
    "href": "reportes_dinamicos.html#ejercicio-2",
    "title": "Reportes din√°micos",
    "section": "4.5 Ejercicio 2",
    "text": "4.5 Ejercicio 2\n2.1 Cree unos encabezados y sub-encabezados en su documento Rmarkdown\n2.2 A√±ada texto con algunas palabras en negrita y en italica\n2.3 Incruste una imagen de su organismo favorito (o un gif)\n2.4 A√±ada un enlace URL"
  },
  {
    "objectID": "reportes_dinamicos.html#incrustar-c√≥digo",
    "href": "reportes_dinamicos.html#incrustar-c√≥digo",
    "title": "Reportes din√°micos",
    "section": "4.6 Incrustar c√≥digo",
    "text": "4.6 Incrustar c√≥digo\nPara incrustar el c√≥digo de R, tenemos que definir un √°rea donde se encuentra el c√≥digo. Esta ‚Äò√°rea‚Äô se conoce como un bloque de c√≥digo (o ‚Äòchunk‚Äô) y se define mediante:\n\n\n\n\n\n\n\n\n\n¬†\nObserve que el recuadro de R est√° en gris, mientras que el resto est√° en fondo blanco. Todo lo que se incluye en el segmento se eval√∫a y muestra de acuerdo con las especificaciones, aunque estas se pueden modificar.\n¬†\nPodemos, por ejemplo, agregar una nueva columna al conjunto de datos de ejemplo de iris:\n\n\n\n\n\n\n\n\n\nResultado:\n\n\nC√≥digo\ndata(iris)\n\niris$random.var &lt;- rnorm(n = nrow(iris))\n\nhead(iris)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nSepal.Length\nSepal.Width\nPetal.Length\nPetal.Width\nSpecies\nrandom.var\n\n\n\n\n5.1\n3.5\n1.4\n0.2\nsetosa\n0.28291\n\n\n4.9\n3.0\n1.4\n0.2\nsetosa\n1.12667\n\n\n4.7\n3.2\n1.3\n0.2\nsetosa\n-1.06662\n\n\n4.6\n3.1\n1.5\n0.2\nsetosa\n0.73385\n\n\n5.0\n3.6\n1.4\n0.2\nsetosa\n-0.07117\n\n\n5.4\n3.9\n1.7\n0.4\nsetosa\n0.17405\n\n\n\n\n\n\n¬†\nCuando se procesa su documento, el segmento de c√≥digo se muestra en un cuadro gris y los resultados de ese c√≥digo se muestran en un cuadro blanco. ¬øQu√© pasa si solo desea que se muestre la salida de su c√≥digo? ¬øO que su c√≥digo se muestre pero no se ejecute realmente? Hay argumentos que puede agregar a cada uno de sus bloques para especificar estas y otras opciones:"
  },
  {
    "objectID": "reportes_dinamicos.html#ocultar-c√≥digo",
    "href": "reportes_dinamicos.html#ocultar-c√≥digo",
    "title": "Reportes din√°micos",
    "section": "4.7 Ocultar c√≥digo",
    "text": "4.7 Ocultar c√≥digo\nA√±adir el argumento echo=FALSE\nC√≥digo:\n\n\n\n\n\n\n\n\n\nResultado:\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nSepal.Length\nSepal.Width\nPetal.Length\nPetal.Width\nSpecies\nrandom.var\n\n\n\n\n5.1\n3.5\n1.4\n0.2\nsetosa\n-1.21560\n\n\n4.9\n3.0\n1.4\n0.2\nsetosa\n-0.78151\n\n\n4.7\n3.2\n1.3\n0.2\nsetosa\n1.28619\n\n\n4.6\n3.1\n1.5\n0.2\nsetosa\n-0.13427\n\n\n5.0\n3.6\n1.4\n0.2\nsetosa\n-0.49963\n\n\n5.4\n3.9\n1.7\n0.4\nsetosa\n-2.63334\n\n\n\n\n\n\n¬†\nPuede ver que el c√≥digo est√° oculto pero se muestran los resultados.\nEsta gu√≠a sobre las opciones de los bloques de c√≥digo puede ser muy √∫til:\n\n\n\n\n\n\n\n\n\n¬†\nEn este enlace se detallan todos los argumentos disponibles para personalizar los bloques de c√≥digo."
  },
  {
    "objectID": "reportes_dinamicos.html#incrustar-gr√°ficos",
    "href": "reportes_dinamicos.html#incrustar-gr√°ficos",
    "title": "Reportes din√°micos",
    "section": "4.8 Incrustar gr√°ficos",
    "text": "4.8 Incrustar gr√°ficos\nLos gr√°ficos se pueden incrustar en documentos Rmarkdown simplemente usando funciones de graficaci√≥n como lo har√≠a en un script de R normal.\n\n4.8.0.1 C√≥digo:\n\n\n\n\n\n\n\n\n\n¬†\n\n\n4.8.0.2 Resultado:"
  },
  {
    "objectID": "reportes_dinamicos.html#ejercicio-3",
    "href": "reportes_dinamicos.html#ejercicio-3",
    "title": "Reportes din√°micos",
    "section": "4.9 Ejercicio 3",
    "text": "4.9 Ejercicio 3\n3.1 Utilice los argumentos eval, collapse con diferentes valores (TRUE o FALSE) en un segmento donde corre head(iris). ¬øC√≥mo afectan el resultado?\n3.2 Haga lo mismo con los argumentos out.width, fig.width,dpi y fig.height en un segmento que cree un gr√°fico. ¬øC√≥mo afecta esta vez?"
  },
  {
    "objectID": "reportes_dinamicos.html#incrustar-c√≥digo-de-r-en-el-texto",
    "href": "reportes_dinamicos.html#incrustar-c√≥digo-de-r-en-el-texto",
    "title": "Reportes din√°micos",
    "section": "4.10 Incrustar c√≥digo de R en el texto",
    "text": "4.10 Incrustar c√≥digo de R en el texto\nEs posible que haya notado a lo largo de este tutorial que tengo peque√±os fragmentos de texto que parecen ‚Äúbloques de c√≥digo‚Äù. Esto se conoce como incrustaci√≥n de c√≥digo en texto.\nEsto se puede hacer de dos maneras:\n\n4.10.0.1 1.Dar un texto con la apariencia de un segmento de c√≥digo:\n\n\n\n4.10.0.2 C√≥digo:\n\n\n\n\n\n\n\n\n\n¬†\n\n\n4.10.0.3 Resultado:\nEl promedio del largo del s√©palo es mean(iris$Sepal.Length)\n¬†\n\n\n4.10.0.4 2. Evaluar el c√≥digo en el texto\n\n\n4.10.0.5 C√≥digo:\n\n\n\n\n\n\n\n\n\n\n\n4.10.0.6 Resultado:\nEl promedio del largo de s√©palo para setosa es 5.006."
  },
  {
    "objectID": "reportes_dinamicos.html#metadatos-yaml",
    "href": "reportes_dinamicos.html#metadatos-yaml",
    "title": "Reportes din√°micos",
    "section": "5.1 Metadatos (YAML)",
    "text": "5.1 Metadatos (YAML)\nHay tres componentes b√°sicos de un documento de R Markdown: los metadatos, el texto y el c√≥digo. Los metadatos se escriben entre el par de tres guiones (‚Äú- - -‚Äù) generalmente al inicio del documento. La sintaxis de los metadatos es YAML (YAML Ain‚Äôt Markup Language), por lo que a veces tambi√©n se denomina metadatos YAML. La sangr√≠a es importante en YAML, as√≠ que debe a√±adirla a los subcampos (con respecto a un campo superior).\nEste encabezado muestra las opciones mas com√∫nmente usadas en los metadatos YAML:\n\n\nC√≥digo\n---\ntitle: \"Un titulo descriptivo y sin faltas ortograficas\"\nauthor: \"Marcelo Araya\"\ndate: \"`r Sys.Date()`\"\noutput: # Varios outputs mostrados solo para el ejemplo\n  html_document:\n    fig_caption: yes\n    number_sections: yes\n    toc: yes\n    toc_float: yes\n    df_print: paged\n---\n\n\nEn este enlace se explican en detalle las opciones disponibles en el encabezado YAML de archivos Rmarkdown."
  },
  {
    "objectID": "reportes_dinamicos.html#emojis",
    "href": "reportes_dinamicos.html#emojis",
    "title": "Reportes din√°micos",
    "section": "5.2 Emojis",
    "text": "5.2 Emojis\nEl paquete emo permite a√±adir emojis al evaluar un c√≥digo:\n\nC√≥digo\nemo::ji(\"costa_rica\")\n\nüá®üá∑\nTambien se puede incrustar en el texto üá®üá∑, como lo vimos mas arriba ‚¨ÜÔ∏è (ji(\"up_arrow\"))"
  },
  {
    "objectID": "reportes_dinamicos.html#cuadros-con-knitrkable",
    "href": "reportes_dinamicos.html#cuadros-con-knitrkable",
    "title": "Reportes din√°micos",
    "section": "5.3 Cuadros con knitr::kable",
    "text": "5.3 Cuadros con knitr::kable\nEl paquete knitr tambi√©n provee una funci√≥n para mostrar datos tabulares de forma ordenada y ‚Äòlimpia‚Äô en los reportes d√≠namicos:\n\n\nC√≥digo\nknitr::kable(iris[1:10, ])\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nSepal.Length\nSepal.Width\nPetal.Length\nPetal.Width\nSpecies\nrandom.var\n\n\n\n\n5.1\n3.5\n1.4\n0.2\nsetosa\n-1.21560\n\n\n4.9\n3.0\n1.4\n0.2\nsetosa\n-0.78151\n\n\n4.7\n3.2\n1.3\n0.2\nsetosa\n1.28619\n\n\n4.6\n3.1\n1.5\n0.2\nsetosa\n-0.13427\n\n\n5.0\n3.6\n1.4\n0.2\nsetosa\n-0.49963\n\n\n5.4\n3.9\n1.7\n0.4\nsetosa\n-2.63334\n\n\n4.6\n3.4\n1.4\n0.3\nsetosa\n-0.14534\n\n\n5.0\n3.4\n1.5\n0.2\nsetosa\n-0.73692\n\n\n4.4\n2.9\n1.4\n0.2\nsetosa\n0.69442\n\n\n4.9\n3.1\n1.5\n0.1\nsetosa\n-0.00822\n\n\n\n\n\n\n¬†\nEl paquete kableExtra complementa esta funci√≥n con muchas herramientas para personalizar el formato de las tablas en reportes din√°micos en R."
  },
  {
    "objectID": "reportes_dinamicos.html#opciones-adicionales-en-knitr",
    "href": "reportes_dinamicos.html#opciones-adicionales-en-knitr",
    "title": "Reportes din√°micos",
    "section": "5.4 Opciones adicionales en knitr",
    "text": "5.4 Opciones adicionales en knitr\nEl argumento opts_knit de knitr permite definir opciones globales (aplicables a todos los bloques a menos que se re-definan):\n\n\nC√≥digo\nopts_chunk$set(root.dir = \"..\", eval = TRUE, echo = FALSE)"
  },
  {
    "objectID": "reportes_dinamicos.html#presentaciones-y-otros-opciones-de-formato",
    "href": "reportes_dinamicos.html#presentaciones-y-otros-opciones-de-formato",
    "title": "Reportes din√°micos",
    "section": "5.5 Presentaciones y otros opciones de formato",
    "text": "5.5 Presentaciones y otros opciones de formato\nNote en la ventana de creaci√≥n de un nuevo documento Rmarkdown las opciones adicionales de formato:\n\n\n\n\n\n\n\n\n\n¬†\nLos reportes din√°micos se pueden generar en otros formatos incluyendo presentaciones, pdf y documentos de word."
  },
  {
    "objectID": "reportes_dinamicos.html#plantillas-de-rmarkdown",
    "href": "reportes_dinamicos.html#plantillas-de-rmarkdown",
    "title": "Reportes din√°micos",
    "section": "5.6 Plantillas de Rmarkdown",
    "text": "5.6 Plantillas de Rmarkdown\nEl paquete Rmarkdown puede generar resultados en HTML, PDF, MS Word, vi√±etas de paquetes de R, presentaciones Beamer y HTML5. Los formatos adicionales (o ‚Äòvariantes‚Äô de estos formatos) est√°n disponibles en otros paquetes de R. Algunos de esos paquetes son:\n\nrmdformats\nreveljs\nart√≠culos\ntufte\n\nUna vez estos paquetes han sido instalados, los nuevos formatos estar√°n disponibles a trav√©s del nuevo cuadro de di√°logo Rmarkdown:"
  },
  {
    "objectID": "reportes_dinamicos.html#html-widgets",
    "href": "reportes_dinamicos.html#html-widgets",
    "title": "Reportes din√°micos",
    "section": "6.1 HTML widgets",
    "text": "6.1 HTML widgets\nLos HTML Widgets se implementan con el paquete R htmlwidgets, que conecta herramientas de JavaScript que crean aplicaciones interactivas, como gr√°ficos y tablas Se han desarrollado varios paquetes que emplean HTML widgets como dygraphs, DT y leaflet. En este sitio (https://www.htmlwidgets.org) se muestran una variedad de widgets disponibles as√≠ como instrucciones de como desarrollarlos.\nEl siguiente c√≥digo utiliza el paquete leaflet para generar un mapa interactivo:\n\nC√≥digo\nsketchy::load_packages(\"leaflet\")\n\nll_map &lt;- leaflet()\n\nll_map &lt;- addTiles(map = ll_map)\n\nll_map &lt;-\n  setView(\n    map = ll_map,\n    lat = 5.527448,\n    lng = -87.057245,\n    zoom = 13\n  )\n\naddPopups(\n  map = ll_map,\n  lat = 5.527448,\n  lng = -87.057245,\n  popup = 'Isla del Coco'\n)"
  },
  {
    "objectID": "reportes_dinamicos.html#aplicaciones-shiny",
    "href": "reportes_dinamicos.html#aplicaciones-shiny",
    "title": "Reportes din√°micos",
    "section": "6.2 Aplicaciones shiny",
    "text": "6.2 Aplicaciones shiny\nEl paquete shiny crea aplicaciones web interactivas en R. Para llamar al c√≥digo shiny desde un documento R Markdown, agregue ‚Äòruntime‚Äô: shiny a los metadatos YAML, como en este ejemplo:\n\n\nC√≥digo\n---\ntitle: \"Documento Shiny\"\noutput: html_document\nruntime: shiny\n---\n\n\n¬†\nEl siguiente c√≥digo crea una aplicaci√≥n shiny dentro del documento Rmarkdown:\n\n\nC√≥digo\nsketchy::load_packages(\"shiny\")\n\nui &lt;- fluidPage(\n  \n  titlePanel(\"Ejemplo\"),\n  \n  sidebarLayout(\n    sidebarPanel(\n      sliderInput(inputId = \"bins\",\n                  label = \"Numero de barras:\",\n                  min = 1,\n                  max = 50,\n                  value = 30)\n      \n    ),\n    mainPanel(\n      plotOutput(outputId = \"distPlot\")\n    )\n  )\n)\n\nserver &lt;- function(input, output) {\n \n  output$distPlot &lt;- renderPlot({\n    \n    x    &lt;- faithful$waiting\n    bins &lt;- seq(min(x), max(x), length.out = input$bins + 1)\n    \n    hist(x, breaks = bins, col = \"#3E4A89FF\", border = \"white\",\n         xlab = \"Tiempo de espera para la siguiente erupcion\",\n         main = \"Histograma del tiempo de espera\")\n  })\n}\n\n# Crear Shiny app\nshinyApp(ui = ui, server = server)\n\n\n¬†\nNote que esta aplicaci√≥n no funciona en documentos est√°ticos de Rmarkdown. En el sitio https://shiny.rstudio.com/gallery pueden encontrar muchos ejemplos de aplicaciones shiny. Estas aplicaciones son complejas de incluir en archivos auto-contenidos y por ello no son tan amigables para reportes din√°micos como los que podemos generar con R markdown."
  },
  {
    "objectID": "reportes_dinamicos.html#proyectos-de-rstudio",
    "href": "reportes_dinamicos.html#proyectos-de-rstudio",
    "title": "Reportes din√°micos",
    "section": "8.1 Proyectos de Rstudio",
    "text": "8.1 Proyectos de Rstudio\nLos proyectos de Rstudio crean carpetas donde se guardan los archivos relacionados a un an√°lisis espec√≠fico (c√≥digo y datos) y hacen de esta carpeta el directorio de trabajo por defecto cuando se abre el proyecto. Se pueden crear de esta forma:\n\n\n\n\n\n\n\n\n\nLuego aparecera una seria de ventanas donde pueden escoger que tipo de proyecto y el nombre de este:"
  },
  {
    "objectID": "reportes_dinamicos.html#compendios-de-investigaci√≥n",
    "href": "reportes_dinamicos.html#compendios-de-investigaci√≥n",
    "title": "Reportes din√°micos",
    "section": "8.2 Compendios de investigaci√≥n",
    "text": "8.2 Compendios de investigaci√≥n\nLos compendios de investigaci√≥n son estructuras de carpetas pre-definidas que permiten seguir un orden l√≥gico e intuitivo para organizar los archivos usados y generados en un an√°lisis de datos de un proyecto de investigaci√≥n. El paquete sketchy genera estos compendios, permitiendo al usuario seleccionar entre una gama de compendios comunes en la comunidad cient√≠fica. Este ejemplo crea el compendio b√°sico (uno de los 14 que vienen con el paquete):\n\n\nC√≥digo\npath &lt;- tempdir()\n\nmake_compendium(\n  name = \"proyecto_x\",\n  path = path,\n  format = \"basic\",\n  Rproj = TRUE\n)\n\n\nCreating directories ...\nproyecto_x\n‚îÇ   \n‚îú‚îÄ‚îÄ data/  \n‚îÇ   ‚îú‚îÄ‚îÄ processed/  # modified/rearranged data\n‚îÇ   ‚îî‚îÄ‚îÄ raw/  # original data\n‚îú‚îÄ‚îÄ manuscript/  # manuscript/poster figures\n‚îú‚îÄ‚îÄ output/  # all non-data products of data analysis\n‚îî‚îÄ‚îÄ scripts/  # code\nDone.\n\n\nEl paquete crea archivos Rmarkdown con plantillas para el an√°lisis de datos (carpeta ‚Äúscripts‚Äù) y escritura de manuscritos (carpeta ‚Äúmanuscript‚Äù). Corra path en la consola de R para ver la direcci√≥n de la carpeta donde se creo el compendio."
  },
  {
    "objectID": "reportes_dinamicos.html#ejercicio-4",
    "href": "reportes_dinamicos.html#ejercicio-4",
    "title": "Reportes din√°micos",
    "section": "8.3 Ejercicio 4",
    "text": "8.3 Ejercicio 4\n\nCree un reporte din√°mico que incluya un mapa din√°mico de Costa Rica usando el paquete leaflet\nReproduzca alguno de los ejemplos disponibles en el sitio del paquete dygraphs (https://rstudio.github.io/dygraphs/) e incr√∫stelo en su reporte din√°mico\nInstale el paquete kableExtra y incruste en su reporte el c√≥difo de ejemplo en la documentaci√≥n de la funci√≥n kable_styling() de ese paquete\nCree una presentaci√≥n Rmarkdown utilizando la opci√≥n ‚ÄúPresentation‚Äù en la ventana de creaci√≥n\nGenere un reporte din√°mico en formato PDF\nCree un proyecto de Rstudio para organizar los contenidos del curso\nCree un compendio de investigaci√≥n con sketchy"
  },
  {
    "objectID": "reportes_dinamicos.html#referencias",
    "href": "reportes_dinamicos.html#referencias",
    "title": "Reportes din√°micos",
    "section": "8.4 Referencias",
    "text": "8.4 Referencias\n\nR Markdown: The Definitive Guide\nRmarkdown custom format\nRmarkdown website\nJacolien van Rij: Rmarkdown variants\nDanielle Quinn: R Lessons\nVaidyanathan, Ramnath, Yihui Xie, JJ Allaire, Joe Cheng, and Kenton Russell. 2019. Htmlwidgets: HTML Widgets for R. https://github.com/ramnathv/htmlwidgets.\n\n\n\nInformaci√≥n de la sesi√≥n\n\n\nR version 4.1.2 (2021-11-01)\nPlatform: x86_64-pc-linux-gnu (64-bit)\nRunning under: Ubuntu 22.04.2 LTS\n\nMatrix products: default\nBLAS:   /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.10.0\nLAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.10.0\n\nlocale:\n [1] LC_CTYPE=es_CR.UTF-8       LC_NUMERIC=C              \n [3] LC_TIME=es_CR.UTF-8        LC_COLLATE=es_CR.UTF-8    \n [5] LC_MONETARY=es_CR.UTF-8    LC_MESSAGES=es_CR.UTF-8   \n [7] LC_PAPER=es_CR.UTF-8       LC_NAME=C                 \n [9] LC_ADDRESS=C               LC_TELEPHONE=C            \n[11] LC_MEASUREMENT=es_CR.UTF-8 LC_IDENTIFICATION=C       \n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nother attached packages:\n [1] tufte_0.13       rticles_0.25     revealjs_0.9     rmdformats_1.0.4\n [5] rmarkdown_2.25   knitr_1.45       sketchy_1.0.2    emo_0.0.0.9000  \n [9] remotes_2.4.2.1  leaflet_2.2.0   \n\nloaded via a namespace (and not attached):\n [1] rstudioapi_0.13     magrittr_2.0.3      R6_2.5.1           \n [4] rlang_1.1.2         fastmap_1.1.1       stringr_1.5.0      \n [7] tools_4.1.2         packrat_0.9.2       xfun_0.41          \n[10] cli_3.6.1           jquerylib_0.1.4     htmltools_0.5.7    \n[13] crosstalk_1.2.0     yaml_2.3.7          digest_0.6.33      \n[16] assertthat_0.2.1    lifecycle_1.0.4     bookdown_0.36      \n[19] crayon_1.5.2        purrr_0.3.4         htmlwidgets_1.5.4  \n[22] glue_1.6.2          evaluate_0.23       xaringanExtra_0.7.0\n[25] stringi_1.7.12      compiler_4.1.2      generics_0.1.2     \n[28] jsonlite_1.8.7      lubridate_1.8.0"
  },
  {
    "objectID": "ggplot2.html",
    "href": "ggplot2.html",
    "title": "Gr√°ficos con ggplot2",
    "section": "",
    "text": "Comprender la l√≥gica detras de la estructura los gr√°ficos con ggplot2\nSer capaz de intregrar en un g≈ïafico diferentes fuentes de informaci√≥n que representen la complejidad de los datos"
  },
  {
    "objectID": "ggplot2.html#ggplot2",
    "href": "ggplot2.html#ggplot2",
    "title": "Gr√°ficos con ggplot2",
    "section": "ggplot2",
    "text": "ggplot2\n\nUn paquete de R dise√±ado espec√≠ficamente para producir gr√°ficos\nA diferencia de otros paquetes, ggplot2 tiene su propia gram√°tica\nLa gram√°tica se basa en la ‚ÄúGram√°tica de los gr√°ficos‚Äù (Wilkinson 2005)\nM√≥dulos independientes que pueden combinarse de muchas formas\nEsta gram√°tica proporciona una gran flexibilidad"
  },
  {
    "objectID": "ggplot2.html#gram√°tica-de-gr√°ficos",
    "href": "ggplot2.html#gram√°tica-de-gr√°ficos",
    "title": "Gr√°ficos con ggplot2",
    "section": "0.1 Gram√°tica de gr√°ficos",
    "text": "0.1 Gram√°tica de gr√°ficos\nLa idea principal es empezar con una capa base de datos brutos y luego a√±adir m√°s capas de anotaciones y res√∫menes estad√≠sticos. El paquete nos permite producir gr√°ficos utilizando la misma estructura de pensamiento que utilizamos al dise√±ar un an√°lisis, reduciendo la distancia de c√≥mo visualizamos un gr√°fico en la cabeza y el producto final.\nAprender la gram√°tica no s√≥lo es √∫til para producir un gr√°fico de inter√©s, sino tambi√©n para pensar en otros gr√°ficos m√°s complejos. La ventaja de esta gram√°tica es la posibilidad de crear nuevos gr√°ficos compuestos por nuevas combinaciones de elementos."
  },
  {
    "objectID": "ggplot2.html#componentes-del-gr√°fico",
    "href": "ggplot2.html#componentes-del-gr√°fico",
    "title": "Gr√°ficos con ggplot2",
    "section": "0.2 Componentes del gr√°fico",
    "text": "0.2 Componentes del gr√°fico\nTodos los gr√°ficos ggplot2 contienen los siguientes componentes:\n\nDatos - El objeto R con la informaci√≥n que necesita ser trazada\nCapas - Los datos espec√≠ficos que ser√°n graficados (ej. ‚Äòx‚Äô & ‚Äòy‚Äô)\nEscala - Rango de datos a incluir\nCoordenadas - Sistema de coordenadas (no se utiliza muy a menudo)\nParcelas (facets) - Determina c√≥mo dividir los datos en subparcelas en un multipanel\nTema - Controla el estilo del gr√°fico\n\n¬†\nEstos componentes se juntan utilizando ‚Äú+‚Äù.\nLa sintaxis m√°s habitual incluye los datos dentro de la llamada ‚Äúggplot‚Äù y una capa ‚Äúgeom_‚Äù.\n¬†\nPrimero instala/carga el paquete:\n\n\nC√≥digo\n# install\ninstall.packages(\"ggplot2\")\n\n# load library\nlibrary(ggplot2)"
  },
  {
    "objectID": "ggplot2.html#gr√°ficos-de-dispersi√≥n",
    "href": "ggplot2.html#gr√°ficos-de-dispersi√≥n",
    "title": "Gr√°ficos con ggplot2",
    "section": "0.3 Gr√°ficos de dispersi√≥n",
    "text": "0.3 Gr√°ficos de dispersi√≥n\nUtilicemos el conjunto de datos ‚Äúiris‚Äù para crear gr√°ficos de dispersi√≥n:\n\n\nC√≥digo\nggplot(data = iris, mapping = aes(x = Sepal.Length, y = Petal.Length)) +\n  geom_point()\n\n\n\n\n\n¬†\nThis plot is defined by 3 components: 1. ‚Äúdata‚Äù- iris 1. ‚Äúaes‚Äù - Sepal.length vs Petal.length 1. ‚Äúlayer‚Äù - Points (geom)"
  },
  {
    "objectID": "ggplot2.html#atributos-est√©ticos",
    "href": "ggplot2.html#atributos-est√©ticos",
    "title": "Gr√°ficos con ggplot2",
    "section": "0.4 Atributos est√©ticos",
    "text": "0.4 Atributos est√©ticos\nTambi√©n podemos a√±adir otros atributos est√©ticos como el color, la forma y el tama√±o. Estos atributos se pueden incluir dentro de aes():\n\n\nC√≥digo\n# color by species\nggplot(\n  data = iris,\n  mapping = aes(x = Sepal.Length, y = Petal.Length, color = Species)\n) +\n  geom_point()\n\n\n\n\n\nC√≥digo\n# color and shape by species\nggplot(\n  data = iris,\n  mapping = aes(\n    x = Sepal.Length,\n    y = Petal.Length,\n    color = Species,\n    shape = Species\n  )\n) +\n  geom_point()\n\n\n\n\n\n¬†\nTenga en cuenta que los argumentos est√©ticos tambi√©n pueden incluirse en la capa ‚Äúgeom‚Äù:\n\n\nC√≥digo\nggplot(\n  data = iris,\n  mapping = aes(x = Sepal.Length, y = Petal.Length)\n) +\n  geom_point(aes(color = Species, shape = Species))\n\n\n\n\n\n¬†\nTambi√©n podemos incluir un valor fijo:\n\n\nC√≥digo\nggplot(\n  data = iris,\n  mapping = aes(x = Sepal.Length, y = Petal.Length)\n) +\n  geom_point(color = \"red2\")\n\n\n\n\n\n¬†\nAlgunos atributos funcionan mejor con algunos tipos de datos:\n\nColor y forma: variables categ√≥ricas\nTama√±o: variables continuas\n\n¬†\n\n\nEjercicio 1\nUtilizando el conjunto de datos ‚Äúhylaeformis‚Äù:\n\n\nC√≥digo\n# lear desde el sitio del curso\nhylaeformis_data &lt;- read.csv(\n  paste0(\"https://raw.githubusercontent.com/maRce10/\", \"r_avanzado_2023/master/data/hylaeformis_data.csv\")\n)\n\n# or bajar manualmente y leer copia local\nhylaeformis_data &lt;- read.csv(\"hylaeformis_data.csv\", stringsAsFactors = FALSE)\n\nhead(hylaeformis_data, 20)\n\n\n\n1.1 Create a scatter plot of vs ‚Äúmeanfreq‚Äù (mean frequency)\n1.1 Crear un gr√°fico de dispersi√≥n de duraci√≥n (‚Äúduration‚Äù) vs frecuencia promedio (‚Äúmeanfreq‚Äù)\n\n1.2 A√±adir un atributo est√©tico para mostrar un color diferente para cada localidad\n\n1.3 A√±ade otro atributo est√©tico para mostrar el rango de frecuencia dominante (‚Äúdfrange‚Äù) como tama√±o los s√≠mbolos"
  },
  {
    "objectID": "ggplot2.html#gr√°ficos-multipanel-facetting",
    "href": "ggplot2.html#gr√°ficos-multipanel-facetting",
    "title": "Gr√°ficos con ggplot2",
    "section": "0.5 Gr√°ficos multipanel (Facetting)",
    "text": "0.5 Gr√°ficos multipanel (Facetting)\n\nOtra forma de visualizar variables categ√≥ricas\nPermite crear gr√°ficos multipanel para cada nivel de la variable\n2 tipos: ‚Äúgrid‚Äù & ‚Äúwrap‚Äù\n\n\n\nC√≥digo\nggplot(iris, aes(Sepal.Length, Petal.Length)) +\n  geom_point() +\n  facet_wrap(~Species)\n\n\n\n\n\nC√≥digo\n# o\n\nggplot(iris, aes(Sepal.Length, Petal.Length)) +\n  geom_point() +\n  facet_grid(~Species)\n\n\n\n\n\n¬†\nLa escala puede ser fija o libre para los ejes x e y, y puede modificarse el n√∫mero de columnas y filas:\n\n\nC√≥digo\n# free x\nggplot(iris, aes(Sepal.Length, Petal.Length)) +\n  geom_point() +\n  facet_wrap(~Species, scales = \"free_x\")\n\n\n\n\n\n\n\nC√≥digo\n# free x and 3 rows\nggplot(iris, aes(Sepal.Length, Petal.Length)) +\n  geom_point() +\n  facet_wrap(~Species, scales = \"free_y\", nrow = 3)\n\n\n\n\n\n\n\nC√≥digo\n# both free and 2 rows\nggplot(iris, aes(Sepal.Length, Petal.Length)) +\n  geom_point() +\n  facet_wrap(~Species, scales = \"free\", nrow = 2)\n\n\n\n\n\n¬†\nTenga en cuenta que tambi√©n podemos guardar el componente b√°sico como un objeto R y a√±adir otros componentes m√°s adelante en el c√≥digo:\n\n\nC√≥digo\np &lt;- ggplot(iris, aes(Sepal.Length, Petal.Length)) +\n  geom_point()\n\np + facet_wrap(~Species, scales = \"free_x\", nrow = 3)"
  },
  {
    "objectID": "ggplot2.html#geoms-adicionales",
    "href": "ggplot2.html#geoms-adicionales",
    "title": "Gr√°ficos con ggplot2",
    "section": "0.6 ‚Äúgeoms‚Äù adicionales",
    "text": "0.6 ‚Äúgeoms‚Äù adicionales\n\ngeom_smooth() - a√±ade las l√≠neas de mejor ajuste (incluyendo CI)\ngeom_boxplot() - Distribuci√≥n de frecuencias\ngeom_histogram() & geom_freqpoly() - distribuciones de frecuencia\ngeom_bar() - distribuci√≥n de frecuencias de variables categ√≥ricas\ngeom_path() & geom_line() - a√±ade l√≠neas a los gr√°ficos de dispersi√≥n\n\n¬†\n\n0.6.1 geom_smooth()\nLas l√≠neas de regresi√≥n de mejor ajuste pueden a√±adirse con geom_smooth():\n\n\nC√≥digo\n# con CI\nggplot(iris, aes(Sepal.Length, Petal.Length)) +\n  geom_point() +\n  geom_smooth(method = \"lm\") +\n  facet_wrap(~Species, scales = \"free\", nrow = 3)\n\n\n\n\n\nC√≥digo\n# sin CI\nggplot(iris, aes(Sepal.Length, Petal.Length)) +\n  geom_point() +\n  geom_smooth(method = \"lm\", se = FALSE) +\n  facet_wrap(~Species, scales = \"free\", nrow = 3)\n\n\n\n\n\n¬†\n\nEjercicio 2\nUtilizando el conjunto de datos de ejemplo ‚Äúmsleep‚Äù:\n\n2.1 Crear un gr√°fico de dispersi√≥n de peso corporal (‚Äúbodywt‚Äù) frente a peso cerebral (‚Äúbrainwt‚Äù)\n\n2.2 A√±adir orden (‚Äúorder‚Äù) como est√©tica del color\n\n2.3 A√±adir un componente ‚Äúfaceta‚Äù para dividir los gr√°ficos por orden utilizando escalas libres\n\n2.4 Elimine los √≥rdenes con menos de 4 especies en el conjunto de datos y haga un gr√°fico similar al 2.3\n\n2.5 A√±adir una l√≠nea de mejor ajuste a cada gr√°fico del panel\n\n\n\n\n0.6.2 Boxplots\nDe nuevo, s√≥lo se necesita un nuevo componente ‚Äúgeom‚Äù para crear un boxplot:\n\n\nC√≥digo\nggplot(iris, aes(Species, Petal.Length)) +\n  geom_boxplot()\n\n\n\n\n\nUna alternativa interesante son los gr√°ficos de violines:\n\n\nC√≥digo\nggplot(iris, aes(Species, Petal.Length)) +\n  geom_violin()\n\n\n\n\n\n¬†\n\n\n0.6.3 Histogramas\nLo mismo ocurre con los histrogramas y los gr√°ficos de frecuencias:\n\n\nC√≥digo\nggplot(iris, aes(Petal.Length)) +\n  geom_histogram()\n\n\n\n\n\nC√≥digo\nggplot(iris, aes(Petal.Length)) +\n  geom_freqpoly()\n\n\n\n\n\nC√≥digo\nggplot(iris, aes(Petal.Length)) +\n  geom_histogram() +\n  geom_freqpoly()\n\n\n\n\n\n¬†\nPodemos controlar la anchura de las barras:\n\n\nC√≥digo\nggplot(iris, aes(Petal.Length)) +\n  geom_histogram(binwidth = 1, fill = adjustcolor(\"red2\", alpha.f = 0.3))\n\n\nWarning: Duplicated aesthetics after name standardisation: fill\n\n\n\n\n\n¬†\nY compara la distribuci√≥n de los distintos grupos dentro del mismo histograma:\n\n\nC√≥digo\nggplot(iris, aes(Petal.Length, fill = Species)) +\n  geom_histogram(binwidth = 0.4)\n\n\n\n\n\n¬†\n\n\n0.6.4 Gr√°fico de barras\nMuestran la distribuci√≥n de variables discretas (categ√≥ricas):\n\n\nC√≥digo\ntab &lt;- table(msleep$order)\n\ndf &lt;-\n  as.data.frame(table(msleep$order[msleep$order %in% names(tab)[tab &gt; 3]]))\n\nggplot(df, aes(Var1, Freq)) +\n  geom_bar(stat = \"identity\")"
  },
  {
    "objectID": "ggplot2.html#personalizaci√≥n-de-ggplots",
    "href": "ggplot2.html#personalizaci√≥n-de-ggplots",
    "title": "Gr√°ficos con ggplot2",
    "section": "0.7 Personalizaci√≥n de ggplots",
    "text": "0.7 Personalizaci√≥n de ggplots\nAdem√°s de las funciones b√°sicas (por ejemplo, componentes) descritas anteriormente, ggplot tiene muchas otras herramientas (tanto argumentos como funciones adicionales) para personalizar a√∫n m√°s los gr√°ficos. Pr√°cticamente todo se puede modificar. Aqu√≠ vemos algunas de las herramientas m√°s comunes.\n¬†\n\n0.7.1 Temas\nggplot2 viene con algunos temas por defecto que se pueden aplicar f√°cilmente para modificar el aspecto de nuestros gr√°ficos:\n\n\nC√≥digo\np &lt;- ggplot(iris, aes(Sepal.Length, Petal.Length)) +\n  geom_point()\n\np + theme_classic()\n\n\n\n\n\nC√≥digo\np + theme_bw()\n\n\n\n\n\nC√≥digo\np + theme_minimal()\n\n\n\n\n\n¬†\nLa mayor√≠a de los temas difieren en el uso de cuadr√≠culas, l√≠neas de borde y patrones de etiquetado de ejes.\n¬†\n\n\n0.7.2 Personalizaci√≥n de ejes\nLos l√≠mites de los ejes pueden modificarse como sigue:\n\n\nC√≥digo\nggplot(iris, aes(Sepal.Length, Petal.Length)) +\n  geom_point() +\n  xlim(c(0, 10))\n\n\n\n\n\nC√≥digo\nggplot(iris, aes(Sepal.Length, Petal.Length, col = Species)) +\n  geom_point() +\n  xlim(c(0, 10)) +\n  ylim(c(0, 9))\n\n\n\n\n\n¬†\nLos ejes tambi√©n pueden transformarse:\n\n\nC√≥digo\nggplot(iris, aes(Sepal.Length, Petal.Length, col = Species)) +\n  geom_point() +\n  scale_x_continuous(trans = \"log\") +\n  scale_y_continuous(trans = \"log2\")\n\n\n\n\n\n¬†\no invertidos:\n\n\nC√≥digo\nggplot(iris, aes(Sepal.Length, Petal.Length, col = Species)) +\n  geom_point() +\n  scale_y_reverse()\n\n\n\n\n\n\n\n0.7.3 Guardar ggplots\nLos ggplots pueden exportarse como archivos de imagen utilizando la funci√≥n ggsave:\n\n\nC√≥digo\nggplot(\n  data = msleep[msleep$order %in% names(tab)[tab &gt; 5], ],\n  mapping = aes(x = bodywt, y = brainwt)\n) +\n  geom_point() +\n  facet_wrap(~order, scales = \"free\")\n\n\nWarning: Removed 21 rows containing missing values (`geom_point()`).\n\n\n\n\n\nC√≥digo\n# Export\nggsave(\"plot.png\", width = 5, height = 5)\n\n\nWarning: Removed 21 rows containing missing values (`geom_point()`).\n\n\n¬†\nEl tipo de archivo de imagen se identificar√° por la extensi√≥n en el nombre del archivo\n¬†\nPersonalizaci√≥n adicional del eje:\n\n\nC√≥digo\n# Log2 scaling of the y axis (with visually-equal spacing)\nrequire(scales)\n\np + scale_y_continuous(trans = log2_trans())\n\n\n\n\n\nC√≥digo\n# show exponents\np + scale_y_continuous(\n  trans = log2_trans(),\n  breaks = trans_breaks(\"log2\", function(x) 2^x),\n  labels = trans_format(\"log2\", math_format(2^.x))\n)\n\n\n\n\n\nC√≥digo\n# Percent\np + scale_y_continuous(labels = percent)\n\n\n\n\n\nC√≥digo\n# dollar\np + scale_y_continuous(labels = dollar)\n\n\n\n\n\nC√≥digo\n# scientific\np + scale_y_continuous(labels = scientific)\n\n\n\n\n\nC√≥digo\n### Agregar \"tick marks\" ###\n\n# Cargar librer√≠as\nlibrary(MASS)\n\ndata(Animals)\n\n# x and y axis are transformed and formatted\np2 &lt;- ggplot(Animals, aes(x = body, y = brain)) +\n  geom_point(size = 4) +\n  scale_x_log10(\n    breaks = trans_breaks(\"log10\", function(x) 10^x),\n    labels = trans_format(\"log10\", math_format(10^.x))\n  ) +\n  scale_y_log10(\n    breaks = trans_breaks(\"log10\", function(x) 10^x),\n    labels = trans_format(\"log10\", math_format(10^.x))\n  ) +\n  theme_bw()\n\n# log-log plot without log tick marks\np2\n\n\n\n\n\nC√≥digo\n# Show log tick marks\np2 + annotation_logticks()\n\n\n\n\n\nC√≥digo\n# # Log ticks on left and right\np2 + annotation_logticks(sides = \"lr\")\n\n\n\n\n\nC√≥digo\n# All sides\np2 + annotation_logticks(sides = \"trbl\")\n\n\n\n\n\n¬†\n\n\n0.7.4 Otros gr√°ficos\nSe pueden generar muchos otros tipos de gr√°ficos. Aqu√≠ muestro un ejemplo de gr√°ficos de contorno y de ‚Äúmapa de calor‚Äù:\n\n\nC√≥digo\nhead(faithful)\n\n\n\n\n\n\n\n\neruptions\n\n\nwaiting\n\n\n\n\n\n\n3.600\n\n\n79\n\n\n\n\n1.800\n\n\n54\n\n\n\n\n3.333\n\n\n74\n\n\n\n\n2.283\n\n\n62\n\n\n\n\n4.533\n\n\n85\n\n\n\n\n2.883\n\n\n55\n\n\n\n\n\n\n\n\nC√≥digo\nggplot(faithfuld, aes(eruptions, waiting)) +\n  geom_contour(aes(z = density, colour = after_stat(level)))\n\n\n\n\n\nC√≥digo\nggplot(faithfuld, aes(eruptions, waiting)) +\n  geom_raster(aes(fill = density))"
  },
  {
    "objectID": "ggplot2.html#otros-paquetes-de-gr√°ficos-en-r",
    "href": "ggplot2.html#otros-paquetes-de-gr√°ficos-en-r",
    "title": "Gr√°ficos con ggplot2",
    "section": "0.8 Otros paquetes de gr√°ficos en R",
    "text": "0.8 Otros paquetes de gr√°ficos en R\n\nggvis (ggplots interactivos)\nvcd (Warnes 2015)\nplotrix (Lemon et al.¬†2006)\ngplots (Warnes 2015)\n\nConsulte la CRAN Graphics Task View para obtener una lista m√°s completa de herramientas gr√°ficas en R."
  },
  {
    "objectID": "ggplot2.html#references",
    "href": "ggplot2.html#references",
    "title": "Gr√°ficos con ggplot2",
    "section": "0.9 References",
    "text": "0.9 References\n\nLemon J (2006) Plotrix: a package in the red light district of R. R-News 6(4):8‚Äì12\nWarnes GR, Bolker B, Bonebakker L, Gentleman R, Liaw WHA, Lumley T, Maechler M, Magnusson A, Moeller S, Schwartz M, Venables B (2015) gplots: various R programming tools for plotting data. R package version 2.17.0. https://CRAN.R-project.org/package=gplots\nWickham H (2010) A layered grammar of graphics. J Comput Graph Stat 19(1):3‚Äì28\nWilkinson L (2005) The grammar of graphics. Statistics and computing, 2nd edn. Springer, New York\n\n\n\nInformaci√≥n de la sesi√≥n\n\n\nR version 4.1.2 (2021-11-01)\nPlatform: x86_64-pc-linux-gnu (64-bit)\nRunning under: Ubuntu 22.04.2 LTS\n\nMatrix products: default\nBLAS:   /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.10.0\nLAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.10.0\n\nlocale:\n [1] LC_CTYPE=es_CR.UTF-8       LC_NUMERIC=C              \n [3] LC_TIME=es_CR.UTF-8        LC_COLLATE=es_CR.UTF-8    \n [5] LC_MONETARY=es_CR.UTF-8    LC_MESSAGES=es_CR.UTF-8   \n [7] LC_PAPER=es_CR.UTF-8       LC_NAME=C                 \n [9] LC_ADDRESS=C               LC_TELEPHONE=C            \n[11] LC_MEASUREMENT=es_CR.UTF-8 LC_IDENTIFICATION=C       \n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nother attached packages:\n[1] scales_1.2.1       viridis_0.6.2      viridisLite_0.4.2  MASS_7.3-55       \n[5] RColorBrewer_1.1-3 ggplot2_3.4.4      knitr_1.45         kableExtra_1.3.4  \n\nloaded via a namespace (and not attached):\n [1] tidyselect_1.1.2  xfun_0.41         purrr_0.3.4       splines_4.1.2    \n [5] lattice_0.20-45   colorspace_2.1-0  vctrs_0.6.4       generics_0.1.2   \n [9] htmltools_0.5.7   yaml_2.3.7        mgcv_1.8-39       utf8_1.2.4       \n[13] rlang_1.1.2       isoband_0.2.7     pillar_1.9.0      glue_1.6.2       \n[17] withr_2.5.2       DBI_1.1.3         lifecycle_1.0.4   stringr_1.5.0    \n[21] munsell_0.5.0     gtable_0.3.4      ragg_1.2.1        rvest_1.0.3      \n[25] htmlwidgets_1.5.4 evaluate_0.23     labeling_0.4.3    fastmap_1.1.1    \n[29] fansi_1.0.5       highr_0.10        webshot_0.5.5     jsonlite_1.8.7   \n[33] farver_2.1.1      systemfonts_1.0.4 textshaping_0.3.6 gridExtra_2.3    \n[37] digest_0.6.33     stringi_1.7.12    dplyr_1.0.8       grid_4.1.2       \n[41] cli_3.6.1         tools_4.1.2       magrittr_2.0.3    tibble_3.2.1     \n[45] pkgconfig_2.0.3   Matrix_1.4-0      xml2_1.3.3        assertthat_0.2.1 \n[49] rmarkdown_2.25    svglite_2.1.0     httr_1.4.2        rstudioapi_0.13  \n[53] R6_2.5.1          nlme_3.1-155      compiler_4.1.2"
  },
  {
    "objectID": "respuestas_tarea5.html",
    "href": "respuestas_tarea5.html",
    "title": "Soluci√≥n a la tarea 5",
    "section": "",
    "text": "Haga un bucle for que una todos los datos contenidos en los archivos de texto en un solo cuadro de datos (‚Äòdata frame‚Äô, debe llamarse ‚Äòdatos_camaras‚Äô) y a√±ada una columna con el nombre del archivo de donde provienen los datos (debe llamarse ‚Äòarchivo‚Äô; pistas: 1) a√±adir el nombre del archivo en una columna se hace en el cuerpo del bucle luego de leer el archivo; 2) recuerden usar basename()).\n\nRespuesta:\n\n\nC√≥digo\n# crear un cuadro de datos vacios donde poner los resultados\ndatos_camaras &lt;- data.frame()\n\n# ciclar sobre los archivos para leer los datos\nfor(i in archivos_txt){\n  \n  # leer datos\n  txt &lt;- read.table(i, header = TRUE, skip = 4, sep = \"\\t\")\n  \n  # a√±adir nombre de archivo\n  txt$archivo &lt;- basename(i)\n  \n  # adjuntar datos\n  datos_camaras &lt;- rbind(datos_camaras, txt) \n}\n\n\n\nHaga un bucle sapply que devuelva el n√∫mero de familias para cada archivo. El bucle debe usar los datos en el data frame ‚Äòdatos_camaras‚Äô creado en el ejercicio 1 (no debe leer de nuevo los archivos de texto). El resultado debe ser guardado en un cuadro de datos (‚Äòdata frame‚Äô) que contenga las columnas ‚Äòarchivo‚Äô y ‚Äòn_familias‚Äô. (pistas: 1) necesitan crear una funci√≥n en la llamada del bucle; 2) el bucle debe ciclar sobre cada uno de los nombres de archivo; 3) deben crear un subconjunto de los datos para cada archivo a lo interno del bucle). Las primeras 3 filas del cuadro de datos deben verse as√≠:\n\n\n\n\n\n\n\n\n\n\n\narchivo\nn_familias\n\n\n\n\n2022-09-02_R3-LcamT3-RcamN4_Pel1_2021-09-24_MaxN.TXT\n19\n\n\n2022-09-03_S6-LB13-RB12_PuntaMariaOeste_2022-03-24_MaxN.TXT\n1\n\n\n2022-09-03_T4-LB19-RB18_PuntaMariaOeste_2022-03-24_MaxN.TXT\n2\n\n\n\n\n\n\nRespuesta:\n\n\nC√≥digo\n# ciclar sobre los nombres de archivos en datos_camaras$archivo\nn_familias &lt;- sapply(unique(datos_camaras$archivo), function(x){\n  \n  # leer datos de un archivo\n  Y &lt;- datos_camaras[datos_camaras$archivo == x, ]\n  \n  # estimar numero de familias\n  n_fams &lt;- length(unique(Y$Family))\n\n  return(n_fams)\n  })\n\n# guardar resultados en un cuadro de datos\ncam_dat &lt;- data.frame(archivo = basename(unique(datos_camaras$archivo)), n_familias = n_familias, row.names = 1:length(n_familias))\n\n\n\nHaga un bucle sapply que devuelva el n√∫mero de g√©neros (columna ‚Äògenus‚Äô) para cada archivo. El bucle debe usar los datos en el data frame ‚Äòdatos_camaras‚Äô creado en el ejercicio 1 (no debe leer de nuevo los archivos de texto). El resultado debe ser a√±adido como una nueva columna al cuadro de datos creado en el ejercicio 2. Las primeras 3 filas del cuadro de datos deben verse as√≠:\n\n\n\n\n\n\n\n\n\n\n\n\narchivo\nn_familias\nn_generos\n\n\n\n\n2022-09-02_R3-LcamT3-RcamN4_Pel1_2021-09-24_MaxN.TXT\n19\n32\n\n\n2022-09-03_S6-LB13-RB12_PuntaMariaOeste_2022-03-24_MaxN.TXT\n1\n1\n\n\n2022-09-03_T4-LB19-RB18_PuntaMariaOeste_2022-03-24_MaxN.TXT\n2\n2\n\n\n\n\n\n\nRespuesta:\n\n\nC√≥digo\n# ciclar sobre los nombres de archivos en datos_camaras$archivo\ncam_dat$n_generos &lt;- sapply(unique(datos_camaras$archivo), function(x){\n  \n   # leer datos de un archivo\n  Y &lt;- datos_camaras[datos_camaras$archivo == x, ]\n  \n  # estimar numero de generos\n  n_gens &lt;- length(unique(Y$Genus))\n\n  return(n_gens)\n  })\n\n\n\nHaga un bucle sapply que devuelva la fecha de creaci√≥n del video para cada archivo. El bucle debe usar los datos en el data frame ‚Äòdatos_camaras‚Äô creado en el ejercicio 1 (no debe leer de nuevo los archivos de texto). El resultado debe ser a√±adido como una nueva columna al cuadro de datos creado en el ejercicio 2. Las primeras 3 filas del cuadro de datos deben verse as√≠:\n\n\n\n\n\n\n\n\n\n\n\n\n\narchivo\nn_familias\nn_generos\ndate\n\n\n\n\n2022-09-02_R3-LcamT3-RcamN4_Pel1_2021-09-24_MaxN.TXT\n19\n32\n2021-09-25\n\n\n2022-09-03_S6-LB13-RB12_PuntaMariaOeste_2022-03-24_MaxN.TXT\n1\n1\n2022-03-24\n\n\n2022-09-03_T4-LB19-RB18_PuntaMariaOeste_2022-03-24_MaxN.TXT\n2\n2\n2022-03-24\n\n\n\n\n\n\nRespuesta:\n\n\nC√≥digo\n# ciclar sobre los nombres de archivos en datos_camaras$archivo\ncam_dat$date &lt;- sapply(unique(datos_camaras$archivo), function(x){\n   \n  # leer datos de un archivo\n  Y &lt;- datos_camaras[datos_camaras$archivo == x, ]\n  \n  # extraer fecha\n  date &lt;- length(unique(Y$Date))\n\n  return(date)\n  })\n\n\n\nHaga un bucle sapply que calcule el n√∫mero de veces que se observ√≥ cada especie. El bucle debe trabajar sobre el data frame ‚Äòdatos_camaras‚Äô creado en el ejercicio 1 (no debe leer de nuevo los archivos de texto) y el c√°lculo debe ser la suma de la columna ‚ÄòMaxN‚Äô. Ponga los resultados en un cuadro de datos con columnas para especie y n√∫mero de observaciones. (pista: unique(datos_camaras$Species)). Remueva el campo en el que especie es igual a ‚Äú‚Äú. Las primeras 3 filas del cuadro de datos deben verse as√≠:\n\n\n\n\n\n\n\n\nspp\nn_obs\n\n\n\n\nxanthopterus\nxanthopterus\n145\n\n\nlaticlavius\nlaticlavius\n25\n\n\npolylepis\npolylepis\n26\n\n\n\n\n\n\nRespuesta:\n\n\nC√≥digo\n# ciclar sobre los nombres de archivos en datos_camaras$archivo\nn_obs &lt;- sapply(unique(datos_camaras$Species), function(x){\n  \n  # leer datos de un archivo  \n  X &lt;- datos_camaras[datos_camaras$Species == x, ]\n  \n  # sumar numero de observaciones\n  obs &lt;- sum(X$MaxN)\n  \n  return(obs)\n})\n\n\nsp_dat &lt;- data.frame(spp = unique(datos_camaras$Species), n_obs)\n\nsp_dat &lt;- sp_dat[sp_dat$spp != \"\", ]\n\n\n\nUtilice bucles sapply para a√±adir el m√≠nimo y m√°ximo de la profundidad para cada una de las especies en el cuadro de datos creado en el ejercicio anterior (pistas: 1) aseg√∫rese que la columna de profundidad es num√©rica antes de calcular las profundidades; 2) gsub(\" m\", \"\", vector); 3) gsub(\",\", \".\", vector); 4) as.numeric()). Las primeras 3 filas del cuadro de datos deben verse as√≠:\n\n\n\n\n\n\n\n\nspp\nn_obs\nmin_prof\nmax_prof\n\n\n\n\nxanthopterus\nxanthopterus\n145\n6.4\n31.6\n\n\nlaticlavius\nlaticlavius\n25\n9.6\n31.6\n\n\npolylepis\npolylepis\n26\n9.6\n30.0\n\n\n\n\n\n\nRespuesta:\n\n\nC√≥digo\n# convertir profundidad a una columna numerica\ndatos_camaras$Depth &lt;- gsub(\" m\", \"\", datos_camaras$Depth)\ndatos_camaras$Depth &lt;- gsub(\",\", \".\", datos_camaras$Depth)\ndatos_camaras$Depth &lt;- as.numeric(datos_camaras$Depth)\n\n# ciclar sobre los nombres de especies\nsp_dat$min_prof &lt;- sapply(sp_dat$spp, function(x){\n  \n  # leer los datos para una especie\n  X &lt;- datos_camaras[datos_camaras$Species == x, ]\n  \n  #  calcular el minimo de la profundidad\n  min_prf &lt;- min(X$Depth, na.rm = TRUE)\n  \n  return(min_prf)\n})\n\n# ciclar sobre los nombres de especies\nsp_dat$max_prof &lt;- sapply(sp_dat$spp, function(x){\n  \n  # leer los datos para una especie\n  X &lt;- datos_camaras[datos_camaras$Species == x, ]\n  \n  # calcular el maximo de profundidad\n  max_prf &lt;- max(X$Depth, na.rm = TRUE)\n  \n  return(max_prf)\n})\n\n\n\nCalcule el rango de profundidad (i.e.¬†la diferencia entre el m√≠nimo y el m√°ximo de la profundidad) para cada especie y a√±√°dalo como una columna al cuadro de datos creado en el ejercicio 5. Las primeras 3 filas del cuadro de datos deben verse as√≠:\n\n\n\n\n\n\n\n\nspp\nn_obs\nmin_prof\nmax_prof\nrango_prof\n\n\n\n\nxanthopterus\nxanthopterus\n145\n6.4\n31.6\n25.2\n\n\nlaticlavius\nlaticlavius\n25\n9.6\n31.6\n22.0\n\n\npolylepis\npolylepis\n26\n9.6\n30.0\n20.4\n\n\n\n\n\n\nRespuesta:\n\n\nC√≥digo\n# calcular el maximo menos el minimo de profundidad\nsp_dat$rango_prof &lt;- sp_dat$max_prof - sp_dat$min_prof\n\n\n\nIncluya el cuadro de datos generado en los ejercicios 5 a 7 como una tabla en su reporte usando la funci√≥n DT del paquete datatable.\n\nRespuesta:\n\n\nC√≥digo\nlibrary(DT)\ndatatable(sp_dat)\n\n\n\n\n\n\n\n\nPublique el reporte en Rpubs y a√±ada el enlace en el reporte (use un enlace en el texto)."
  },
  {
    "objectID": "respuestas_tarea5.html#informaci√≥n-de-la-sesi√≥n",
    "href": "respuestas_tarea5.html#informaci√≥n-de-la-sesi√≥n",
    "title": "Soluci√≥n a la tarea 5",
    "section": "Informaci√≥n de la sesi√≥n",
    "text": "Informaci√≥n de la sesi√≥n\n\n\nR version 4.1.2 (2021-11-01)\nPlatform: x86_64-pc-linux-gnu (64-bit)\nRunning under: Ubuntu 22.04.2 LTS\n\nMatrix products: default\nBLAS:   /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.10.0\nLAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.10.0\n\nlocale:\n [1] LC_CTYPE=es_CR.UTF-8       LC_NUMERIC=C              \n [3] LC_TIME=es_CR.UTF-8        LC_COLLATE=es_CR.UTF-8    \n [5] LC_MONETARY=es_CR.UTF-8    LC_MESSAGES=es_CR.UTF-8   \n [7] LC_PAPER=es_CR.UTF-8       LC_NAME=C                 \n [9] LC_ADDRESS=C               LC_TELEPHONE=C            \n[11] LC_MEASUREMENT=es_CR.UTF-8 LC_IDENTIFICATION=C       \n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nother attached packages:\n[1] DT_0.17\n\nloaded via a namespace (and not attached):\n [1] digest_0.6.33     R6_2.5.1          jsonlite_1.8.7    magrittr_2.0.3   \n [5] evaluate_0.23     rlang_1.1.2       cli_3.6.1         rstudioapi_0.13  \n [9] rmarkdown_2.25    tools_4.1.2       htmlwidgets_1.5.4 crosstalk_1.2.0  \n[13] xfun_0.41         yaml_2.3.7        fastmap_1.1.1     compiler_4.1.2   \n[17] htmltools_0.5.7   knitr_1.45"
  },
  {
    "objectID": "tarea5.html",
    "href": "tarea5.html",
    "title": "Tarea 5",
    "section": "",
    "text": "Para esta tarea trabajaremos con los datos de camaras submarinas usados en clase. Estos datos muestran la salida de un programa de identificaci√≥n autom√°tica de especies marinas en videos pasivos tomados en la columna de agua. Para cada video analizado el programa genera un archivo de texto (.TXT) con una fila para cada especie detectada mas una serie de metadatos asociados a la detecci√≥n. Los datos se ven as√≠:\nPrimero debemos preparar los archivos de ejemplo:\nC√≥digo\n# definir directorio a donde guardar los archivos\ndirectorio &lt;- \"DIRECCION_DONDE_GUARDAR_LOS ARCHIVOS_DE_EJEMPLO\"\n\n# guardar archivos\ndownload.file(\n  url = paste0(\n    \"https://github.com/maRce10/ucr_r_avanzado/\",\n    \"raw/master/additional_files/datos_camara_submarina.zip\"\n  ),\n  destfile = file.path(directorio, \"datos_camara_submarina.zip\")\n)\n\n# extraerlos del zip\nunzip(\n  zipfile = file.path(directorio, \"datos_camara_submarina.zip\"),\n  exdir = directorio\n)\n\n# hacer vector con nombre y direccion de archivos\narchivos_txt &lt;-\n  list.files(\n    path = directorio,\n    full.names = TRUE,\n    pattern = \"TXT$\"\n  )\nTambi√©n pueden bajar el archivo directamente de este enlance. Recuerde extraer los archivos y hacer el vector con los nombres de los archivos (correr l√≠neas de la 9 a la 13).\nSi todo sali√≥ bien el vector ‚Äúarchivos_txt‚Äù deber√≠a tener 19 elementos:\nC√≥digo\nlength(archivos_txt)\n\n\n[1] 19"
  },
  {
    "objectID": "tarea5.html#informaci√≥n-de-la-sesi√≥n",
    "href": "tarea5.html#informaci√≥n-de-la-sesi√≥n",
    "title": "Tarea 5",
    "section": "Informaci√≥n de la sesi√≥n",
    "text": "Informaci√≥n de la sesi√≥n\n\n\nR version 4.3.1 (2023-06-16)\nPlatform: x86_64-pc-linux-gnu (64-bit)\nRunning under: Ubuntu 20.04.2 LTS\n\nMatrix products: default\nBLAS:   /usr/lib/x86_64-linux-gnu/atlas/libblas.so.3.10.3 \nLAPACK: /usr/lib/x86_64-linux-gnu/atlas/liblapack.so.3.10.3;  LAPACK version 3.9.0\n\nlocale:\n [1] LC_CTYPE=pt_BR.UTF-8       LC_NUMERIC=C              \n [3] LC_TIME=es_CR.UTF-8        LC_COLLATE=pt_BR.UTF-8    \n [5] LC_MONETARY=es_CR.UTF-8    LC_MESSAGES=pt_BR.UTF-8   \n [7] LC_PAPER=es_CR.UTF-8       LC_NAME=C                 \n [9] LC_ADDRESS=C               LC_TELEPHONE=C            \n[11] LC_MEASUREMENT=es_CR.UTF-8 LC_IDENTIFICATION=C       \n\ntime zone: America/Costa_Rica\ntzcode source: system (glibc)\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nother attached packages:\n[1] knitr_1.45\n\nloaded via a namespace (and not attached):\n [1] htmlwidgets_1.6.2 compiler_4.3.1    fastmap_1.1.1     cli_3.6.1        \n [5] tools_4.3.1       htmltools_0.5.7   rstudioapi_0.15.0 yaml_2.3.7       \n [9] rmarkdown_2.25    jsonlite_1.8.7    xfun_0.41         digest_0.6.33    \n[13] rlang_1.1.2       evaluate_0.23"
  },
  {
    "objectID": "preparacion_curso.html",
    "href": "preparacion_curso.html",
    "title": "",
    "section": "",
    "text": "C√≥digoMostrar todo el c√≥digoOcultar todo el c√≥digoVer el c√≥digo fuente\n\n\n\n\nInstal√° R en la computadora que utilizar√°s durante el curso (https://cran.r-project.org/). Probablemente ya lo ten√©s instalado, pero intent√° actualizarlo si ten√©s una versi√≥n de R &lt; 4.0.0. Pod√©s encontrar qu√© versi√≥n de R ten√©s ejecutando esto en la consola de R:\n\n\n\nC√≥digo\nversion$version.string\n\n\n\nInstal√° la interfaz de RStudio (https://www.rstudio.com/products/rstudio/download/, elej√≠ la versi√≥n gratuita).\nAbr√≠ RStudio y seleccion√° la pesta√±a ‚ÄúTools‚Äù y luego ‚ÄúGlobal options‚Äù (√∫ltima opci√≥n). Seleccion√° la opci√≥n ‚ÄúCode‚Äù, luego seleccion√° la casilla de ‚ÄúSoft wrap‚Äù.\nTambi√©n en Rstudio: Seleccion√° la opci√≥n ‚ÄúPane Layout‚Äù y mov√© ‚ÄúSource‚Äù al panel superior izquierdo y ‚ÄúConsole‚Äù al panel superior derecho. Esta disposici√≥n asigna m√°s espacio en la pantalla a los paneles m√°s √∫tiles. Dal√© ‚ÄúApply‚Äù y ‚ÄúOk‚Äù. Para aquellos que no est√©n familiarizados con RStudio, ‚ÄúSource‚Äù es un editor de texto donde se escribe el c√≥digo y donde guardas el c√≥digo en un archivo f√≠sico (normalmente en formato .R) y la consola eval√∫a el c√≥digo que se envia desde el ‚ÄúSource‚Äù e imprime los resultados (si los hay). Pod√©s escribir c√≥digo en la consola, pero no se guardar√° en un archivo f√≠sico.\nAhora en la consola de R en Rstudio ejecut√° el siguiente c√≥digo para instalar los paquetes que estaremos usando durante el curso:\n\n\n\nC√≥digo\n# cargar funcion del paquete \"sketchy\"\nsource(\n  paste0(\n    \"https://raw.githubusercontent.com/maRce10/\",\n    \"sketchy/main/R/load_packages.R\"\n  )\n)\n\n# instalar/ cargar paquetes\nload_packages(\n  packages = c(\n    \"remotes\",\n    \"leaflet\",\n    \"knitr\",\n    \"rmarkdown\",\n    \"kableExtra\",\n    \"RColorBrewer\",\n    \"ggplot2\",\n    \"rmdformats\",\n    \"viridis\",\n    \"revealjs\",\n    \"rticles\",\n    \"tufte\",\n    \"lme4\",\n    \"MASS\",\n    \"lmerTest\",\n    \"sjPlot\",\n    \"car\",\n    github = \"maRce10/sketchy\",\n    github = \"hadley/emo\"\n  )\n)\n\n\n\nCre√° un proyecto para el curso corriendo este c√≥digo:\n\n\n\nC√≥digo\nlibrary(sketchy)\n\nmake_compendium(\n  name = \"r_avanzado\",\n  path = \"DIRECTORIO_DONDE_HACER_EL_PROYECTO\",\n  Rproj = TRUE,\n  readme = TRUE\n)\n\n\n(en realidad este es tambien un compendio de investigaci√≥n)\nAbr√≠ el proyecto en Rstudio:\n\nEste proyecto debe usarse cada vez que se trabaja c√≥digo del curso ‚úåÔ∏è"
  },
  {
    "objectID": "estadistica_tradicional_regresion.html",
    "href": "estadistica_tradicional_regresion.html",
    "title": "Modelos est√°disticos tradicionales como regresiones",
    "section": "",
    "text": "Entender los abordajes estad√≠sticos tradicionales como regresiones\nAqu√≠ veremos las pruebas estad√≠sticas m√°s comunes y mostraremos c√≥mo pueden representarse en el formato de regresi√≥n lineal. Esta secci√≥n se basa en este art√≠culo. Cons√∫ltelo para obtener una descripci√≥n m√°s detallada de las alternativas no param√©tricas."
  },
  {
    "objectID": "estadistica_tradicional_regresion.html#prueba-de-wilcoxon-para-dos-promedios",
    "href": "estadistica_tradicional_regresion.html#prueba-de-wilcoxon-para-dos-promedios",
    "title": "Modelos est√°disticos tradicionales como regresiones",
    "section": "6.1 Prueba de Wilcoxon para dos promedios",
    "text": "6.1 Prueba de Wilcoxon para dos promedios\nTambi√©n conocida como prueba de Mann-Whitney, es la alternativa no param√©trica a la prueba t de dos promedios:\n\n\nC√≥digo\n# set seed\nset.seed(123)\n\n# number of observations\nn &lt;- 50\ny &lt;- rnorm(n = n, mean = 0.2, sd = 1)\n\n# create data frame\ny_data &lt;- data.frame(y)\n\n\ny\n\n\n [1] -0.3604756 -0.0301775  1.7587083  0.2705084  0.3292877  1.9150650\n [7]  0.6609162 -1.0650612 -0.4868529 -0.2456620  1.4240818  0.5598138\n[13]  0.6007715  0.3106827 -0.3558411  1.9869131  0.6978505 -1.7666172\n[19]  0.9013559 -0.2727914 -0.8678237 -0.0179749 -0.8260044 -0.5288912\n[25] -0.4250393 -1.4866933  1.0377870  0.3533731 -0.9381369  1.4538149\n[31]  0.6264642 -0.0950715  1.0951257  1.0781335  1.0215811  0.8886403\n[37]  0.7539177  0.1380883 -0.1059627 -0.1804710 -0.4947070 -0.0079173\n[43] -1.0653964  2.3689560  1.4079620 -0.9231086 -0.2028848 -0.2666554\n[49]  0.9799651  0.1166309\n\n\nC√≥digo\n# Wilcoxon / Mann-Whitney U\nwilcx_mod &lt;- wilcox.test(y_data$y)\n\nwilcx_mod\n\n\n\n    Wilcoxon signed rank test with continuity correction\n\ndata:  y_data$y\nV = 797, p-value = 0.12\nalternative hypothesis: true location is not equal to 0\n\n\nC√≥digo\nsigned_rank &lt;- function(x) sign(x) * rank(abs(x))\n\n# As linear model with our dummy-coded group_y2:\nwicx_lm_mod &lt;- lm(signed_rank(y) ~ 1, data = y_data) # compare to\n\nsummary(wicx_lm_mod)\n\n\n\nCall:\nlm(formula = signed_rank(y) ~ 1, data = y_data)\n\nResiduals:\n   Min     1Q Median     3Q    Max \n-53.38 -24.13   0.12  25.37  43.62 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)\n(Intercept)     6.38       4.09    1.56     0.12\n\nResidual standard error: 28.9 on 49 degrees of freedom\n\n\n\n\n\n\n\n\nmodel\np.value\n\n\n\n\n1 mean wilcoxon\n0.12482\n\n\nwilcoxon_lm\n0.12480"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Programaci√≥n y m√©todos estad√≠sticos avanzados en R",
    "section": "",
    "text": "Escuela de Biolog√≠a, Universidad de Costa Rica\n\n\nMarcelo Araya-Salas PhD y  Mario Espinoza PhD\n\nEste curso pretende profundizar en los elementos de programaci√≥n computacional, manipulaci√≥n de bases de datos, dise√±o experimental, graficaci√≥n personalizada, y el uso de t√©cnicas y modelaje estad√≠stico avanzadas utilizando R como plataforma. El curso est√° dirigido a estudiantes avanzados de carrera, de licenciatura o postgrado. En el curso se pretende cubrir las bases de los principales an√°lisis y t√©cnicas de modelaje estad√≠stico, as√≠ como an√°lisis emergentes. Todas las semanas se realizar√°n pr√°cticas de laboratorio en donde se aplicar√°n los conceptos desarrollados durante las clases de teor√≠a. Adem√°s, durante el curso cada estudiante presentar√° un paquete o extensi√≥n (conjunto de herramientas aplicables a an√°lisis espec√≠ficos) de R, en donde profundizar√° sobre sus aplicaciones en el campo de la biolog√≠a demostrando en clase en que consiste el an√°lisis.\n¬†\n\nObjetivos\n\nFamiliarizar al estudiante con la programaci√≥n en R\nBrindar herramientas para la manipulaci√≥n de bases de datos\nEmplear m√©todos de visualizaci√≥n de datos\nCubrir algunos de los an√°lisis estad√≠sticos tradicionales\nProveer a los estudiantes con experiencia en la aplicaci√≥n de las herramientas brindadas por medio de pr√°cticas y proyectos de investigaci√≥n\n\n\n¬†\n\nDin√°mica de las clases\n\nPueden hacer preguntas en cualquier momento\nSientanse libres de responder preguntas de compa√±eros\nTraten siempre de correr el c√≥digo y de entender todos sus elementos\nLas l√≠neas de c√≥digo estan numeradas. Podemos usar esos n√∫meros para referirnos a c√≥digos espec√≠ficos en los manuales. Los bloques de c√≥digo tambi√©n incluyen un bot√≥n que permite copiar el c√≥digo:\n\n\n\n\n\n\n\n\n\n\n\nTambi√©n usaremos el enlace ‚ÄúCompartir c√≥digo‚Äù en el men√∫ principal de este sitio (arriba) para pasar c√≥digos que se desarrollen en clase\n\n¬†\n\nConsejos para garantizar el m√°ximo aprovechamiento del curso\n¬†\n\nAsegur√°te de tener todo lo que necesitas antes del comienzo de la clase\nTrat√° de estar preparado unos minutos antes del comienzo de la clase\nIntenta concentrarte al m√°ximo en el curso, cierra otros programas o pesta√±as innecesarias del navegador de internet (por ejemplo, instagram, twitter, etc)\nComent√° el c√≥digo"
  },
  {
    "objectID": "instructor.html",
    "href": "instructor.html",
    "title": "",
    "section": "",
    "text": "C√≥digo\n\n\n\n\nMarcelo Araya-Salas\n\n\n\n\n\nUn ec√≥logo del comportamiento mas que acab√≥ haciendo mucha programaci√≥n solo para poder hacer bien el an√°lisis de datos. Ademas de la investigaci√≥n, tambi√©n trabajo en hacer herramientas computacionales para el an√°lisis de datos biol√≥gicos (no gen√©ticos), principalmente relacionados con el comportamiento animal y la bioac√∫stica. Soy el desarrollador de los paquetes de R warbleR y Rraven los cuales tienen funciones para agilizar el an√°lisis ac√∫stico de sonidos de los animales. M√°s recientemente, sacamos los paquetes baRulho, para cuantificar la transmisi√≥n y la degradaci√≥n de la se√±al ac√∫stica, ohun, para optimizar la detecci√≥n autom√°tica y PhenotypeSpace para cuantificar los espacios de rasgos multidimensionales. Recientemente tambi√©n desarroll√© el paquete sketchy para organizar compendios de investigaci√≥n."
  },
  {
    "objectID": "fundamentos_de_r.html",
    "href": "fundamentos_de_r.html",
    "title": "Elementos b√°sicos del lenguaje R",
    "section": "",
    "text": "Familiarizarse con los bloques b√°sicos usados en la programaci√≥n en R\nConocer las fuentes principales de documentaci√≥n estandarizada en R"
  },
  {
    "objectID": "fundamentos_de_r.html#vectores-atomicos",
    "href": "fundamentos_de_r.html#vectores-atomicos",
    "title": "Elementos b√°sicos del lenguaje R",
    "section": "4.1 Vectores atomicos",
    "text": "4.1 Vectores atomicos\nTipos de vectores at√≥micos:\n\nL√≥gico (booleano)\nEntero\nNum√©rico (doble)\nCaracteres\n\nLos vectores se construyen con la funci√≥n c():\n\n\nC√≥digo\n\nx &lt;- 1\nx1 &lt;- c(1)\n\nall.equal(x, x1)\n## [1] TRUE\n\nclass(x)\n## [1] \"numeric\"\n\ny &lt;- \"something\"\n\nclass(y)\n## [1] \"character\"\n\nw &lt;- 1L\n\nclass(w)\n## [1] \"integer\"\n \nz &lt;- TRUE\n\nclass(z)\n## [1] \"logical\"\n\nq &lt;- factor(1)\n\nclass(q)\n## [1] \"factor\"\n\n\n¬†\nLos vectores s√≥lo pueden contener elementos del mismo tipo. Los tipos diferentes de elementos ser√°n forzados al tipo m√°s flexible:\n\n\nC√≥digo\n\nv &lt;- c(10, 11, 12, 13)\n\nclass(v)\n## [1] \"numeric\"\n\ntypeof(v)\n## [1] \"double\"\n\nis.integer(v)\n## [1] FALSE\n\ny &lt;- c(\"Amazona\", \"Ara\", \"Eupsittula\", \"Myiopsitta\")\n\nclass(y)\n## [1] \"character\"\n\nis.integer(y)\n## [1] FALSE\n\nx &lt;- c(1,2,3, \"Myiopsitta\")\n\nx\n## [1] \"1\"          \"2\"          \"3\"          \"Myiopsitta\"\n\nclass(x)\n## [1] \"character\"\n\n\n¬†\nLos valores que faltan se especifican con NA, que es un vector l√≥gico de longitud 1. NA siempre ser√° interpretado al tipo correcto si se utiliza dentro de c():\n\n\nC√≥digo\n\nv &lt;- c(10, 11, 12, 13, NA)\n\nclass(v)\n## [1] \"numeric\"\n\nv &lt;- c(letters[1:3], NA)\n\nclass(v)\n## [1] \"character\""
  },
  {
    "objectID": "fundamentos_de_r.html#listas",
    "href": "fundamentos_de_r.html#listas",
    "title": "Elementos b√°sicos del lenguaje R",
    "section": "4.2 Listas",
    "text": "4.2 Listas\nPuede contener objetos de diferentes clases y tama√±os. Las listas se construyen con list():\n\n\nC√≥digo\nl &lt;- list(ID = c(\"a\", \"b\", \"c\", \"d\", \"e\"), size = c(1, 2, 3, 4, 5), observed = c(FALSE, TRUE, FALSE, FALSE, FALSE))\n\nl\n\n\n$ID\n[1] \"a\" \"b\" \"c\" \"d\" \"e\"\n\n$size\n[1] 1 2 3 4 5\n\n$observed\n[1] FALSE  TRUE FALSE FALSE FALSE\n\n\nC√≥digo\nclass(l)\n\n\n[1] \"list\"\n\n\nC√≥digo\nstr(l)\n\n\nList of 3\n $ ID      : chr [1:5] \"a\" \"b\" \"c\" \"d\" ...\n $ size    : num [1:5] 1 2 3 4 5\n $ observed: logi [1:5] FALSE TRUE FALSE FALSE FALSE\n\n\n‚Ä¶ y dimensiones:\n\n\nC√≥digo\nl &lt;- list(ID = c(\"a\", \"b\", \"c\", \"d\", \"e\"), size = c(1, 2, 3, 4, 5, 6), observed = c(FALSE, TRUE, FALSE, FALSE, FALSE), l)\n\nstr(l)\n\n\nList of 4\n $ ID      : chr [1:5] \"a\" \"b\" \"c\" \"d\" ...\n $ size    : num [1:6] 1 2 3 4 5 6\n $ observed: logi [1:5] FALSE TRUE FALSE FALSE FALSE\n $         :List of 3\n  ..$ ID      : chr [1:5] \"a\" \"b\" \"c\" \"d\" ...\n  ..$ size    : num [1:5] 1 2 3 4 5\n  ..$ observed: logi [1:5] FALSE TRUE FALSE FALSE FALSE\n\n\nC√≥digo\nl2 &lt;- list(l, l)\n\nstr(l2)\n\n\nList of 2\n $ :List of 4\n  ..$ ID      : chr [1:5] \"a\" \"b\" \"c\" \"d\" ...\n  ..$ size    : num [1:6] 1 2 3 4 5 6\n  ..$ observed: logi [1:5] FALSE TRUE FALSE FALSE FALSE\n  ..$         :List of 3\n  .. ..$ ID      : chr [1:5] \"a\" \"b\" \"c\" \"d\" ...\n  .. ..$ size    : num [1:5] 1 2 3 4 5\n  .. ..$ observed: logi [1:5] FALSE TRUE FALSE FALSE FALSE\n $ :List of 4\n  ..$ ID      : chr [1:5] \"a\" \"b\" \"c\" \"d\" ...\n  ..$ size    : num [1:6] 1 2 3 4 5 6\n  ..$ observed: logi [1:5] FALSE TRUE FALSE FALSE FALSE\n  ..$         :List of 3\n  .. ..$ ID      : chr [1:5] \"a\" \"b\" \"c\" \"d\" ...\n  .. ..$ size    : num [1:5] 1 2 3 4 5\n  .. ..$ observed: logi [1:5] FALSE TRUE FALSE FALSE FALSE"
  },
  {
    "objectID": "fundamentos_de_r.html#nombrar-elementos",
    "href": "fundamentos_de_r.html#nombrar-elementos",
    "title": "Elementos b√°sicos del lenguaje R",
    "section": "4.3 Nombrar elementos",
    "text": "4.3 Nombrar elementos\nLos vectores pueden ser nombrados de tres maneras:\n\nAl crearlo: x &lt;- c(a = 1, b = 2, c = 3).\nAl modificar un vector existente en su lugar: x &lt;- 1:3; names(x) &lt;- c(\"a\", \"b\", \"c\") O bien: x &lt;- 1:3; names(x)[[1]] &lt;- c(\"a\")\nCreando una copia modificada de un vector: x &lt;- setNames(1:3, c(\"a\", \"b\", \"c\"))\n\n\n\nC√≥digo\ny &lt;- c(a = 1, 2, 3)\n\nnames(y)\n\n\n[1] \"a\" \"\"  \"\" \n\n\nC√≥digo\nv &lt;- c(1, 2, 3)\n\nnames(v) &lt;- c('a')\n\nnames(v)\n\n\n[1] \"a\" NA  NA \n\n\nC√≥digo\nz &lt;- setNames(1:3, c(\"a\", \"b\", \"c\"))\n\nnames(z)\n\n\n[1] \"a\" \"b\" \"c\""
  },
  {
    "objectID": "fundamentos_de_r.html#factores",
    "href": "fundamentos_de_r.html#factores",
    "title": "Elementos b√°sicos del lenguaje R",
    "section": "4.4 Factores",
    "text": "4.4 Factores\nLos atributos se utilizan para definir los factores. Un factor es un vector que s√≥lo puede contener valores predefinidos y se utiliza para almacenar datos categ√≥ricos.\nLos factores se construyen sobre vectores enteros utilizando dos atributos:\n\nclase ‚Äúfactor‚Äù: hace que se comporten de forma diferente a los vectores enteros normales\nniveles: define el conjunto de valores permitidos\n\n\n\nC√≥digo\nx &lt;- factor(c(\"a\", \"b\", \"b\", \"a\"))\nx\n\n\n[1] a b b a\nLevels: a b\n\n\nC√≥digo\nlevels(x)\n\n\n[1] \"a\" \"b\"\n\n\nC√≥digo\nstr(x)\n\n\n Factor w/ 2 levels \"a\",\"b\": 1 2 2 1\n\n\n¬†\nLos factores parecen vectores de caracteres, pero en realidad son n√∫meros enteros:\n\n\nC√≥digo\nx &lt;- factor(c(\"a\", \"b\", \"b\", \"a\"))\n\nc(x)\n\n\n[1] a b b a\nLevels: a b"
  },
  {
    "objectID": "fundamentos_de_r.html#matrices",
    "href": "fundamentos_de_r.html#matrices",
    "title": "Elementos b√°sicos del lenguaje R",
    "section": "4.5 Matrices",
    "text": "4.5 Matrices\nTodas los elementos son del mismo tipo:\n\n\nC√≥digo\nm &lt;- matrix(c(1, 2, 3, 11, 12, 13), nrow = 2)\n\ndim(m)\n\n\n[1] 2 3\n\n\nC√≥digo\nm\n\n\n     [,1] [,2] [,3]\n[1,]    1    3   12\n[2,]    2   11   13\n\n\nC√≥digo\nclass(m)\n\n\n[1] \"matrix\" \"array\" \n\n\nC√≥digo\nm &lt;- matrix(c(1, 2, 3, 11, 12,\"13\"), nrow = 2)\nm\n\n\n     [,1] [,2] [,3]\n[1,] \"1\"  \"3\"  \"12\"\n[2,] \"2\"  \"11\" \"13\"\n\n\n¬†\nSe puede crear modificando el atributo de dimensi√≥n:\n\n\nC√≥digo\nc &lt;- 1:6\n\nis.matrix(c)\n\n\n[1] FALSE\n\n\nC√≥digo\nattributes(c)\n\n\nNULL\n\n\nC√≥digo\ndim(c) &lt;- c(3, 2)\n\nc\n\n\n     [,1] [,2]\n[1,]    1    4\n[2,]    2    5\n[3,]    3    6\n\n\nC√≥digo\nis.matrix(c)\n\n\n[1] TRUE\n\n\nC√≥digo\nattributes(c)\n\n\n$dim\n[1] 3 2"
  },
  {
    "objectID": "fundamentos_de_r.html#cuadros-de-datos-data-frames",
    "href": "fundamentos_de_r.html#cuadros-de-datos-data-frames",
    "title": "Elementos b√°sicos del lenguaje R",
    "section": "4.6 Cuadros de datos (Data frames)",
    "text": "4.6 Cuadros de datos (Data frames)\nCaso especial de las listas. Puede contener elementos de diferentes tipos:\n\n\nC√≥digo\nm &lt;- data.frame(ID = c(\"a\", \"b\", \"c\", \"d\", \"e\"), size = c(1, 2, 3, 4, 5), observed = c(FALSE, TRUE, FALSE, FALSE, FALSE))\n\ndim(m)\n\n\n[1] 5 3\n\n\nC√≥digo\nm\n\n\n\n\n\n\nID\nsize\nobserved\n\n\n\n\na\n1\nFALSE\n\n\nb\n2\nTRUE\n\n\nc\n3\nFALSE\n\n\nd\n4\nFALSE\n\n\ne\n5\nFALSE\n\n\n\n\n\n\nC√≥digo\nclass(m)\n\n\n[1] \"data.frame\"\n\n\nC√≥digo\nis.data.frame(m)\n\n\n[1] TRUE\n\n\nC√≥digo\nis.list(m)\n\n\n[1] TRUE\n\n\nC√≥digo\nstr(m)\n\n\n'data.frame':   5 obs. of  3 variables:\n $ ID      : chr  \"a\" \"b\" \"c\" \"d\" ...\n $ size    : num  1 2 3 4 5\n $ observed: logi  FALSE TRUE FALSE FALSE FALSE\n\n\n¬†\nPero los vectores deben tener la misma longitud:\n\n\nC√≥digo\nm &lt;- data.frame(ID = c(\"a\", \"b\", \"c\", \"d\", \"e\"), size = c(1, 2, 3, 4, 5, 6), observed = c(FALSE, TRUE, FALSE, FALSE, FALSE))\n\n\nError in data.frame(ID = c(\"a\", \"b\", \"c\", \"d\", \"e\"), size = c(1, 2, 3, : arguments imply differing number of rows: 5, 6"
  },
  {
    "objectID": "fundamentos_de_r.html#extraer-subconjuntos-usando-indexaci√≥n-indexing",
    "href": "fundamentos_de_r.html#extraer-subconjuntos-usando-indexaci√≥n-indexing",
    "title": "Elementos b√°sicos del lenguaje R",
    "section": "4.7 Extraer subconjuntos usando indexaci√≥n (indexing)",
    "text": "4.7 Extraer subconjuntos usando indexaci√≥n (indexing)\nLos elementos dentro de los objetos pueden ser llamados por medio de la indexaci√≥n. Para sub-conjuntar un vector simplemente llame a la posici√≥n del objeto usando corchetes:\n\n\nC√≥digo\nx &lt;- c(1, 3, 4, 10, 15, 20, 50, 1, 6)\n\nx[1]\n\n\n[1] 1\n\n\nC√≥digo\nx[2]\n\n\n[1] 3\n\n\nC√≥digo\nx[2:3]\n\n\n[1] 3 4\n\n\nC√≥digo\nx[c(1,3)]\n\n\n[1] 1 4\n\n\n¬†\nLos elementos se pueden eliminar de la misma manera:\n\n\nC√≥digo\nx[-1]\n\n\n[1]  3  4 10 15 20 50  1  6\n\n\nC√≥digo\nx[-c(1,3)]\n\n\n[1]  3 10 15 20 50  1  6\n\n\n¬†\nLas matrices y los marcos de datos requieren 2 √≠ndices [fila, columna]:\n\n\nC√≥digo\nm &lt;- matrix(c(1, 2, 3, 11, 12, 13), nrow = 2)\n\nm[1, ]\n\n\n[1]  1  3 12\n\n\nC√≥digo\nm[, 1]\n\n\n[1] 1 2\n\n\nC√≥digo\nm[1, 1]\n\n\n[1] 1\n\n\nC√≥digo\nm[-1, ]\n\n\n[1]  2 11 13\n\n\nC√≥digo\nm[, -1]\n\n\n     [,1] [,2]\n[1,]    3   12\n[2,]   11   13\n\n\nC√≥digo\nm[-1, -1]\n\n\n[1] 11 13\n\n\nC√≥digo\ndf &lt;- data.frame(family = c(\"Psittacidae\", \"Trochilidae\", \n                            \"Psittacidae\"), \n  genus = c(\"Amazona\", \"Phaethornis\", \"Ara\"), \n    species = c(\"aestiva\", \"philippii\", \"ararauna\"))\n\ndf\n\n\n\n\n\n\nfamily\ngenus\nspecies\n\n\n\n\nPsittacidae\nAmazona\naestiva\n\n\nTrochilidae\nPhaethornis\nphilippii\n\n\nPsittacidae\nAra\nararauna\n\n\n\n\n\n\nC√≥digo\ndf[1, ]\n\n\n\n\n\n\nfamily\ngenus\nspecies\n\n\n\n\nPsittacidae\nAmazona\naestiva\n\n\n\n\n\n\nC√≥digo\ndf[, 1]\n\n\n[1] \"Psittacidae\" \"Trochilidae\" \"Psittacidae\"\n\n\nC√≥digo\ndf[1, 1]\n\n\n[1] \"Psittacidae\"\n\n\nC√≥digo\ndf[-1, ]\n\n\n\n\n\n\n\nfamily\ngenus\nspecies\n\n\n\n\n2\nTrochilidae\nPhaethornis\nphilippii\n\n\n3\nPsittacidae\nAra\nararauna\n\n\n\n\n\n\nC√≥digo\ndf[, -1]\n\n\n\n\n\n\ngenus\nspecies\n\n\n\n\nAmazona\naestiva\n\n\nPhaethornis\nphilippii\n\n\nAra\nararauna\n\n\n\n\n\n\nC√≥digo\ndf[-1, -1]\n\n\n\n\n\n\n\ngenus\nspecies\n\n\n\n\n2\nPhaethornis\nphilippii\n\n\n3\nAra\nararauna\n\n\n\n\n\n\nC√≥digo\ndf[,\"family\"]\n\n\n[1] \"Psittacidae\" \"Trochilidae\" \"Psittacidae\"\n\n\nC√≥digo\ndf[,c(\"family\", \"genus\")]\n\n\n\n\n\n\nfamily\ngenus\n\n\n\n\nPsittacidae\nAmazona\n\n\nTrochilidae\nPhaethornis\n\n\nPsittacidae\nAra\n\n\n\n\n\n\n¬†\nLas listas requieren 1 √≠ndice entre dobles corchetes [[√≠ndice]]:\n\n\nC√≥digo\nl &lt;- list(ID = c(\"a\", \"b\", \"c\", \"d\", \"e\"), size = c(1, 2, 3, 4, 5), observed = c(FALSE, TRUE, FALSE, FALSE, FALSE))\n\nl[[1]]\n\n\n[1] \"a\" \"b\" \"c\" \"d\" \"e\"\n\n\nC√≥digo\nl[[3]]\n\n\n[1] FALSE  TRUE FALSE FALSE FALSE\n\n\n¬†\nLos elementos dentro de las listas tambi√©n pueden ser subconjuntos en la misma cadena de c√≥digo:\n\n\nC√≥digo\nl[[1]][1:2]\n\n\n[1] \"a\" \"b\"\n\n\nC√≥digo\nl[[3]][2]\n\n\n[1] TRUE"
  },
  {
    "objectID": "fundamentos_de_r.html#explorar-objectos",
    "href": "fundamentos_de_r.html#explorar-objectos",
    "title": "Elementos b√°sicos del lenguaje R",
    "section": "4.8 Explorar objectos",
    "text": "4.8 Explorar objectos\n\n\nC√≥digo\nstr(df)\n\n\n'data.frame':   3 obs. of  3 variables:\n $ family : chr  \"Psittacidae\" \"Trochilidae\" \"Psittacidae\"\n $ genus  : chr  \"Amazona\" \"Phaethornis\" \"Ara\"\n $ species: chr  \"aestiva\" \"philippii\" \"ararauna\"\n\n\nC√≥digo\nnames(df)\n\n\n[1] \"family\"  \"genus\"   \"species\"\n\n\nC√≥digo\ndim(df)\n\n\n[1] 3 3\n\n\nC√≥digo\nnrow(df)\n\n\n[1] 3\n\n\nC√≥digo\nncol(df)\n\n\n[1] 3\n\n\nC√≥digo\nhead(df)\n\n\n\n\n\n\nfamily\ngenus\nspecies\n\n\n\n\nPsittacidae\nAmazona\naestiva\n\n\nTrochilidae\nPhaethornis\nphilippii\n\n\nPsittacidae\nAra\nararauna\n\n\n\n\n\n\nC√≥digo\ntail(df)\n\n\n\n\n\n\nfamily\ngenus\nspecies\n\n\n\n\nPsittacidae\nAmazona\naestiva\n\n\nTrochilidae\nPhaethornis\nphilippii\n\n\nPsittacidae\nAra\nararauna\n\n\n\n\n\n\nC√≥digo\ntable(df$genus)\n\n\n\n    Amazona         Ara Phaethornis \n          1           1           1 \n\n\nC√≥digo\ntypeof(df)\n\n\n[1] \"list\"\n\n\n\n\nC√≥digo\nView(df)"
  },
  {
    "objectID": "fundamentos_de_r.html#ejercicio-1",
    "href": "fundamentos_de_r.html#ejercicio-1",
    "title": "Elementos b√°sicos del lenguaje R",
    "section": "4.9 Ejercicio 1",
    "text": "4.9 Ejercicio 1\n¬†\n\nUtilice los datos de ejemplo iris para crear un subconjunto de datos con s√≥lo las observaciones de la especie setosa\nAhora cree un subconjunto de datos que contenga las observaciones tanto de ‚Äúsetosa‚Äù como de ‚Äúversicolor‚Äù\nTambi√©n con iris cree un subconjunto de datos con las observaciones para las que iris$Sepal.length es mayor que 6\n¬øCu√°ntas observaciones tienen una longitud de s√©palo superior a 6?"
  },
  {
    "objectID": "fundamentos_de_r.html#funciones",
    "href": "fundamentos_de_r.html#funciones",
    "title": "Elementos b√°sicos del lenguaje R",
    "section": "4.10 Funciones",
    "text": "4.10 Funciones\nTodas las funciones se crean con la funci√≥n function() y siguen la misma estructura:\n\n* Modified from Grolemund 2014 ¬†\nR viene con muchas funciones que puedes usar para hacer tareas sofisticadas:\n\n\nC√≥digo\n# built in functions\nbi &lt;- builtins()\n\nlength(bi)\n\n\n[1] 1370\n\n\nC√≥digo\nsample(bi, 10)\n\n\n [1] \"toString\"          \"str2expression\"    \"sys.frames\"       \n [4] \"&.hexmode\"         \"xtfrm.data.frame\"  \"row.names.default\"\n [7] \"as.data.frame\"     \"[[&lt;-.data.frame\"   \"besselY\"          \n[10] \"Summary.ordered\"  \n\n\n¬†\nLos operadores son funciones:\n\n\nC√≥digo\n1 + 1\n\n\n[1] 2\n\n\nC√≥digo\n'+'(1, 1)\n\n\n[1] 2\n\n\nC√≥digo\n2 * 3\n\n\n[1] 6\n\n\nC√≥digo\n'*'(2, 3)\n\n\n[1] 6\n\n\n¬†\n\n4.10.1 Operadores mas utilizados\nOperadores aritm√©ticos:\n\n\n\n\n\n\nOperador\nDescrici√≥n\n\n\n\n\n\\+\nsuma\n\n\n\\-\nresta\n\n\n\\*\nmultiplicaci√≥n\n\n\n/\ndivisi√≥n\n\n\n^ or **\nexponente\n\n\n\n\n\n\n\n\n\n\nC√≥digo\n1 - 2\n\n\n[1] -1\n\n\nC√≥digo\n1 + 2\n\n\n[1] 3\n\n\nC√≥digo\n2 ^ 2\n\n\n[1] 4\n\n\nC√≥digo\n2 ** 2\n\n\n[1] 4\n\n\nC√≥digo\n2:3 %in% 2:4\n\n\n[1] TRUE TRUE\n\n\n¬†\nOperadores l√≥gicos:\n\n\n\n\n\n\nOperador\nDescrici√≥n\n\n\n\n\n\nmenor que\n\n\n\nmenor o igual que\n\n\n&gt;\nmayo que\n\n\n&gt;=\nmayor o igual que\n\n\n==\nexactamente igual que\n\n\n!=\ndiferente que\n\n\n!x\nNo es x\n\n\nx | y\nx O y\n\n\nx & y\nx Y y\n\n\nx %in% y\ncorrespondencia\n\n\n\n\n\n\n\n\n\n\nC√≥digo\n1 &lt; 2 \n\n\n[1] TRUE\n\n\nC√≥digo\n1 &gt; 2 \n\n\n[1] FALSE\n\n\nC√≥digo\n1 &lt;= 2 \n\n\n[1] TRUE\n\n\nC√≥digo\n1 == 2\n\n\n[1] FALSE\n\n\nC√≥digo\n1 != 2\n\n\n[1] TRUE\n\n\nC√≥digo\n1 &gt; 2 \n\n\n[1] FALSE\n\n\nC√≥digo\n5 %in% 1:6\n\n\n[1] TRUE\n\n\nC√≥digo\n5 %in% 1:4\n\n\n[1] FALSE\n\n\n¬†\nLa mayor√≠a de las funciones est√°n vectorizadas:\n\n\nC√≥digo\n1:6 * 1:6\n\n\n\n* Modified from Grolemund & Wickham 2017\n¬†\n\n\n[1]  1  4  9 16 25 36\n\n\n\n\nC√≥digo\n1:6 - 1:6\n\n\n[1] 0 0 0 0 0 0\n\n\nR recicla vectores de longitud desigual:\n\n\nC√≥digo\n1:6 * 1:5\n\n\n\n* Modified from Grolemund & Wickham 2017\n¬†\n\n\nWarning in 1:6 * 1:5: longitud de objeto mayor no es m√∫ltiplo de la longitud de\nuno menor\n\n\n[1]  1  4  9 16 25  6\n\n\n\n\nC√≥digo\n1:6 + 1:5\n\n\nWarning in 1:6 + 1:5: longitud de objeto mayor no es m√∫ltiplo de la longitud de\nuno menor\n\n\n[1]  2  4  6  8 10  7"
  },
  {
    "objectID": "fundamentos_de_r.html#nombres-de-archivos",
    "href": "fundamentos_de_r.html#nombres-de-archivos",
    "title": "Elementos b√°sicos del lenguaje R",
    "section": "5.1 Nombres de archivos",
    "text": "5.1 Nombres de archivos\nLos nombres de los archivos deben terminar en .R y, por supuesto, ser auto-explicatorios:\n\nBien: graficar_probabilidad_posterior.R\nMal: graf.R"
  },
  {
    "objectID": "fundamentos_de_r.html#nombres-de-objetos",
    "href": "fundamentos_de_r.html#nombres-de-objetos",
    "title": "Elementos b√°sicos del lenguaje R",
    "section": "5.2 Nombres de objetos",
    "text": "5.2 Nombres de objetos\nVariables y funciones:\n\nMin√∫sculas\nUtilice un gui√≥n bajo\nEn general, nombres para las variables y verbos para las funciones\nProcure que los nombres sean concisos y significativos (no siempre es f√°cil)\nAvoid using names of existing functions of variables\n\n\n\nC√≥digo\n  - Bien: dia_uno: dia_1, peso_promedio(),\n  \n  - Mal: diauno, dia1, primer.dia_delmes, mean &lt;- function(x) sum(x), c &lt;- 10"
  },
  {
    "objectID": "fundamentos_de_r.html#syntaxis",
    "href": "fundamentos_de_r.html#syntaxis",
    "title": "Elementos b√°sicos del lenguaje R",
    "section": "5.3 Syntaxis",
    "text": "5.3 Syntaxis\n\n5.3.1 Espacios\n\nUtilice espacios alrededor de los operadores y para los argumentos dentro de una funci√≥n\nPonga siempre un espacio despu√©s de una coma, y nunca antes (como en el ingl√©s normal)\nColoque un espacio antes del par√©ntesis izquierdo, excepto en una llamada a una funci√≥n\n\n\n\nC√≥digo\n  - Bien: \n          a &lt;- rnorm(n = 10, sd = 10, mean = 1)\n          tab.prior &lt;- table(df[df$dias &lt; 0, \"campaign.id\"])\n          total &lt;- sum(x[, 1])\n          total &lt;- sum(x[1, ])\n          if (debug)\n          mean(1:10)\n          \n  - Mal: \n         a&lt;-rnorm(n=10,sd=10,mean=1)\n         tab.prior &lt;- table(df[df$days.from.opt&lt;0, \"campaign.id\"])  # necesita espacio alrededor de '&lt;'\n         tab.prior &lt;- table(df[df$days.from.opt &lt; 0,\"campaign.id\"])  # Necesita espacio despues de la coma\n         tab.prior&lt;- table(df[df$days.from.opt &lt; 0, \"campaign.id\"])  # Necesita espacio antes de &lt;-\n         tab.prior&lt;-table(df[df$days.from.opt &lt; 0, \"campaign.id\"])  # Necesita espacio alrededor de &lt;-\n         total &lt;- sum(x[,1])  # Necesita espacio antes de la coma  \n         if(debug) # Necesita espacio antes del parentesis\n         mean (1:10) # Espacio extra luego del nombre de la funcion\n\n\n¬†\n\n5.3.1.1 Corchetes\n\nLa llave de apertura nunca debe ir en su propia l√≠nea\nLa llave de cierre debe ir siempre en su propia l√≠nea\nPuede omitir las llaves cuando un bloque consiste en una sola declaraci√≥n\n\n\n\nC√≥digo\n  - Bien:\n              if (is.null(ylim)) {\n              ylim &lt;- c(0, 0.06)\n            }\n                      \n            if (is.null(ylim))\n              ylim &lt;- c(0, 0.06)\n          \n  - Mal:\n            \n         if (is.null(ylim)) ylim &lt;- c(0, 0.06)\n                    \n         if (is.null(ylim)) {ylim &lt;- c(0, 0.06)} \n\n         if (is.null(ylim)) {\n           ylim &lt;- c(0, 0.06)\n           } \n\n\n¬†\n\n\n5.3.1.2 Crear objetos\n\nUse &lt;-, no =\n\n\n\nC√≥digo\n  - GOOD:\n         x &lt;- 5 \n          \n  - BAD:\n         x = 5\n\n\n¬†\n\n\n5.3.1.3 Sugerencias para a√±adir comentarios\n\nComente su c√≥digo\nLas l√≠neas enteras comentadas deben comenzar con # y un espacio\nLos comentarios cortos pueden colocarse despu√©s del c√≥digo precedido por dos espacios, #, y luego un espacio\n\n\n\nC√≥digo\n# Create histogram of frequency of campaigns by pct budget spent.\nhist(df$pct.spent,\n     breaks = \"scott\",  # method for choosing number of buckets\n     main   = \"Histograma: individuos por unidad de tiempo\",\n     xlab   = \"N√∫mero de individuos\",\n     ylab   = \"Frecuencia\")\n\n\n¬†\n\n\n5.3.1.4 Disposici√≥n general y ordenaci√≥n (estilo de google)\n\nComentario de la declaraci√≥n de derechos de autor (?)\nComentario del autor\nComentario de la descripci√≥n del archivo, incluyendo el prop√≥sito del programa, las entradas y las salidas\ndeclaraciones source() y library()\nDefiniciones de funciones\nSentencias ejecutadas, si procede (por ejemplo, print, plot)"
  },
  {
    "objectID": "fundamentos_de_r.html#package-documentation",
    "href": "fundamentos_de_r.html#package-documentation",
    "title": "Elementos b√°sicos del lenguaje R",
    "section": "6.1 Package documentation",
    "text": "6.1 Package documentation\n\n¬†\nReference manuals\nLos manuales de referencia son colecciones de la documentaci√≥n de todas las funciones de un paquete (s√≥lo 1 por paquete):\n\nmanual de dynaSpec\nmanual de baRulho"
  },
  {
    "objectID": "fundamentos_de_r.html#documentaci√≥n-de-las-funciones",
    "href": "fundamentos_de_r.html#documentaci√≥n-de-las-funciones",
    "title": "Elementos b√°sicos del lenguaje R",
    "section": "6.2 Documentaci√≥n de las funciones",
    "text": "6.2 Documentaci√≥n de las funciones\nTodas las funciones (por defecto o de paquetes cargados) deben tener una documentaci√≥n que siga un formato est√°ndar:\n\n\nC√≥digo\n?mean\n\nhelp(\"mean\")\n\n\n ¬†\nEsta documentaci√≥n tambi√©n puede mostrarse en Rstudio pulsando F1 cuando el cursor est√° en el nombre de la funci√≥n\n¬†\nSi no recuerda el nombre de la funci√≥n pruebe con apropos():\n\n\nC√≥digo\napropos(\"mean\")\n\n\n [1] \".colMeans\"     \".rowMeans\"     \"colMeans\"      \"kmeans\"       \n [5] \"mean\"          \"mean.Date\"     \"mean.default\"  \"mean.difftime\"\n [9] \"mean.POSIXct\"  \"mean.POSIXlt\"  \"rowMeans\"      \"weighted.mean\""
  },
  {
    "objectID": "fundamentos_de_r.html#vi√±etas-vignettes",
    "href": "fundamentos_de_r.html#vi√±etas-vignettes",
    "title": "Elementos b√°sicos del lenguaje R",
    "section": "6.3 Vi√±etas (vignettes)",
    "text": "6.3 Vi√±etas (vignettes)\nLas vi√±etas son documentos ilustrativos o casos de estudio que detallan el uso de un paquete (opcional, pueden ser varios por paquete).\nLas vi√±etas se pueden llamar directamente desde R:\n\n\nC√≥digo\nvgn &lt;- browseVignettes() \n\n\n\n\nC√≥digo\nvignette()\n\n\nTambi√©n deber√≠an aparecer en la p√°gina del paquete en CRAN."
  },
  {
    "objectID": "fundamentos_de_r.html#demonstraciones",
    "href": "fundamentos_de_r.html#demonstraciones",
    "title": "Elementos b√°sicos del lenguaje R",
    "section": "6.4 Demonstraciones",
    "text": "6.4 Demonstraciones\nLos paquetes tambi√©n pueden incluir demostraciones de c√≥digo extendidas (‚Äúdemos‚Äù). Para listar las demos de un paquete ejecute demo(\"nombre del paquete\"):\n\n\nC√≥digo\ndemo(package=\"stats\")\n\n# call demo directly\ndemo(\"nlm\")"
  },
  {
    "objectID": "fundamentos_de_r.html#ejercicio-2",
    "href": "fundamentos_de_r.html#ejercicio-2",
    "title": "Elementos b√°sicos del lenguaje R",
    "section": "6.5 Ejercicio 2",
    "text": "6.5 Ejercicio 2\n¬†\n\n¬øQu√© hace la funci√≥n cut()?\n¬øPara qu√© se utiliza el argumento breaks en cut()?\nEjecuta las 4 primeras l√≠neas de c√≥digo de los ejemplos proporcionados en la documentaci√≥n de cut().\n¬øCu√°ntas vi√±etas tiene el paquete warbleR?"
  },
  {
    "objectID": "fundamentos_de_r.html#referencias",
    "href": "fundamentos_de_r.html#referencias",
    "title": "Elementos b√°sicos del lenguaje R",
    "section": "6.6 Referencias",
    "text": "6.6 Referencias\n\nAdvanced R, H Wickham\nGoogle‚Äôs R Style Guide\n\nHands-On Programming with R (Grolemund, 2014)\n\n\nInformaci√≥n de la sesi√≥n\n\n\nR version 4.1.2 (2021-11-01)\nPlatform: x86_64-pc-linux-gnu (64-bit)\nRunning under: Ubuntu 22.04.2 LTS\n\nMatrix products: default\nBLAS:   /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.10.0\nLAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.10.0\n\nlocale:\n [1] LC_CTYPE=es_CR.UTF-8       LC_NUMERIC=C              \n [3] LC_TIME=es_CR.UTF-8        LC_COLLATE=es_CR.UTF-8    \n [5] LC_MONETARY=es_CR.UTF-8    LC_MESSAGES=es_CR.UTF-8   \n [7] LC_PAPER=es_CR.UTF-8       LC_NAME=C                 \n [9] LC_ADDRESS=C               LC_TELEPHONE=C            \n[11] LC_MEASUREMENT=es_CR.UTF-8 LC_IDENTIFICATION=C       \n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nloaded via a namespace (and not attached):\n [1] rstudioapi_0.13   knitr_1.45        xml2_1.3.3        magrittr_2.0.3   \n [5] rvest_1.0.3       munsell_0.5.0     viridisLite_0.4.2 colorspace_2.1-0 \n [9] R6_2.5.1          rlang_1.1.2       fastmap_1.1.1     stringr_1.5.0    \n[13] httr_1.4.2        tools_4.1.2       webshot_0.5.5     xfun_0.41        \n[17] cli_3.6.1         htmltools_0.5.7   systemfonts_1.0.4 yaml_2.3.7       \n[21] digest_0.6.33     lifecycle_1.0.4   kableExtra_1.3.4  vctrs_0.6.4      \n[25] htmlwidgets_1.5.4 glue_1.6.2        evaluate_0.23     rmarkdown_2.25   \n[29] stringi_1.7.12    compiler_4.1.2    scales_1.2.1      jsonlite_1.8.7   \n[33] svglite_2.1.0"
  },
  {
    "objectID": "tarea4.html#informaci√≥n-de-la-sesi√≥n",
    "href": "tarea4.html#informaci√≥n-de-la-sesi√≥n",
    "title": "Tarea 4",
    "section": "Informaci√≥n de la sesi√≥n",
    "text": "Informaci√≥n de la sesi√≥n\n\n\nR version 4.1.2 (2021-11-01)\nPlatform: x86_64-pc-linux-gnu (64-bit)\nRunning under: Ubuntu 22.04.2 LTS\n\nMatrix products: default\nBLAS:   /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.10.0\nLAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.10.0\n\nlocale:\n [1] LC_CTYPE=es_CR.UTF-8       LC_NUMERIC=C              \n [3] LC_TIME=es_CR.UTF-8        LC_COLLATE=es_CR.UTF-8    \n [5] LC_MONETARY=es_CR.UTF-8    LC_MESSAGES=es_CR.UTF-8   \n [7] LC_PAPER=es_CR.UTF-8       LC_NAME=C                 \n [9] LC_ADDRESS=C               LC_TELEPHONE=C            \n[11] LC_MEASUREMENT=es_CR.UTF-8 LC_IDENTIFICATION=C       \n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nother attached packages:\n[1] DT_0.17             knitr_1.45          xaringanExtra_0.7.0\n[4] leaflet_2.2.0      \n\nloaded via a namespace (and not attached):\n [1] digest_0.6.33     R6_2.5.1          jsonlite_1.8.7    magrittr_2.0.3   \n [5] evaluate_0.23     rlang_1.1.2       cli_3.6.1         uuid_1.1-1       \n [9] fontawesome_0.5.2 rstudioapi_0.13   jquerylib_0.1.4   rmarkdown_2.25   \n[13] tools_4.1.2       htmlwidgets_1.5.4 crosstalk_1.2.0   xfun_0.41        \n[17] yaml_2.3.7        fastmap_1.1.1     compiler_4.1.2    htmltools_0.5.7"
  },
  {
    "objectID": "bucles.html",
    "href": "bucles.html",
    "title": "Bucles",
    "section": "",
    "text": "Aprender a procesar de forma serial operaciones que deben repetirse sobre diferentes objetos\nFamiliarizarse con el uso de bucles en la plataforma R\nTener una noci√≥n general de los opciones disponibles en R para construir bucles\nPrimero debemos preparar los archivos de ejemplo:\nC√≥digo\n# definir directorio a donde guardar los archivos\ndirectorio &lt;- \"DIRECCION_DONDE_GUARDAR_LOS ARCHIVOS_DE_EJEMPLO\"\n\n# guardar archivos\ndownload.file(\n  url = paste0(\n    \"https://github.com/maRce10/ucr_r_avanzado/\",\n    \"raw/master/additional_files/datos_camara_submarina.zip\"\n  ),\n  destfile = file.path(directorio, \"datos_camara_submarina.zip\")\n)\n\n# extraerlos del zip\nunzip(\n  zipfile = file.path(directorio, \"datos_camara_submarina.zip\"),\n  exdir = directorio\n)\n\n# hacer vector con nombre y direccion de archivos\narchivos_txt &lt;-\n  list.files(\n    path = directorio,\n    full.names = TRUE,\n    pattern = \"TXT$\"\n  )\nTambi√©n pueden bajar el archivo directamente de este enlance. Recuerde extraer los archivos y hacer el vector con los nombres de los archivos (correr lineas de la 9 a la 13).\nSi todo sali√≥ bien el vector ‚Äúarchivos_txt‚Äù deberia tener 19 elementos:\nC√≥digo\nlength(archivos_txt)\n\n\n[1] 19"
  },
  {
    "objectID": "bucles.html#aplicaci√≥n-al-manejo-de-datos",
    "href": "bucles.html#aplicaci√≥n-al-manejo-de-datos",
    "title": "Bucles",
    "section": "2.1 Aplicaci√≥n al manejo de datos",
    "text": "2.1 Aplicaci√≥n al manejo de datos\nUsaremos los datos de ejemplo que bajamos al inicio del manual para demostrar la utilidad del los bucles en el manejo de datos. Estos datos muestran la salida de un programa de identificaci√≥n autom√°tica de especies marinas en videos pasivos tomados en la columna de agua. Para cada video analizado el programa genera un archivo de texto (.TXT) con una fila para cada especie detectada mas una serie de metadatos asociados a la detecci√≥n. Los datos se ven as√≠:\n\n\n\n\n\n\n\n\n\n¬†\nRecordemos que los nombres de los archivos .TXT est√°n guardados en un vector llamado archivos_txt. Podemos leer el primer archivo (i.e.¬†el primer elemento en archivos_txt) de la siguiente forma:\n\n\nC√≥digo\narchivo1 &lt;-\n  read.table(archivos_txt[1],\n             header = TRUE,\n             skip = 4,\n             sep = \"\\t\")\n\n# ver pirmeras 4 filas y 8 columnas\nhead(archivo1[1:4, 1:8])\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFilename\nFrame\nTime..mins.\nPeriod\nPeriod.time..mins.\nOpCode\nTapeReader\nDepth\n\n\n\n\nGH018767_LcamT3.MP4\n11451\n3.1840\ninicio\n1.5504\nR3-LcamT3-RcamN4_Pelada1_2021-09-24\nAndres\n10\n\n\nGH018767_LcamT3.MP4\n25005\n6.9528\ninicio\n5.3192\nR3-LcamT3-RcamN4_Pelada1_2021-09-24\nAndres\n10\n\n\nGH028767_LcamT3.MP4\n30464\n24.5201\ninicio\n22.8865\nR3-LcamT3-RcamN4_Pelada1_2021-09-24\nAndres\n10\n\n\nGH018767_LcamT3.MP4\n26911\n7.4828\ninicio\n5.8492\nR3-LcamT3-RcamN4_Pelada1_2021-09-24\nAndres\n10\n\n\n\n\n\n\n¬†\nPodemos saber cuantas especies se observaron en ese muestreo simplemente calculado el n√∫mero de filas en archivo:\n\n\nC√≥digo\nnrow(archivo1)\n\n\n[1] 39\n\n\n¬†\nAhora, para hacer esto con todos los archivos no es eficiente leer cada uno en su propia linea de c√≥digo y luego calcular el n√∫mero de filas. Al fin de cuentas, todos los c√≥digos serian muy parecidos, solo cambiar√≠a el nombre del archivo. Es en estos casos que los bucles son de gran utilidad. En este ejemplo solo debemos incorporar el c√≥digo de lectura del archivo y del c√°lculo del n√∫mero de filas en el cuerpo del bucle, usando el nombre de los archivos (archivos_txt) como el vector sobre el cual iterar el bucle:\n\n\nC√≥digo\n# vector vacio\nresultados &lt;- vector()\n\n# inicio del bucle\nfor (i in archivos_txt) {\n  # leer archivo\n  txt &lt;- read.table(i,\n                    header = TRUE,\n                    skip = 4,\n                    sep = \"\\t\")\n  # calcular numero de filas\n  n_sp &lt;- nrow(txt)\n  \n  # guardar resultados en vector vacio\n  resultados &lt;- append(resultados, n_sp)\n}\n\nresultados\n\n\n [1] 39  1  2 12 14  9 12  8 32 36 21 12 22 27 29 19  8 12 26\n\n\n¬†\nPodemos ordenar estos resultados f√°cilmente haciendo un cuadro de datos (data.frame). Para esto creamos una columna con el nombre del archivo y otra con el resultado del n√∫mero de filas:\n\n\nC√≥digo\n# organizar en data frame\nn_sp_df &lt;-\n  data.frame(archivo = basename(archivos_txt), \n             n_sp = resultados)\n\n# ver primeras 6 filas\nhead(n_sp_df)\n\n\n\n\n\n\narchivo\nn_sp\n\n\n\n\n2022-09-02_R3-LcamT3-RcamN4_Pel1_2021-09-24_MaxN.TXT\n39\n\n\n2022-09-03_S6-LB13-RB12_PuntaMariaOeste_2022-03-24_MaxN.TXT\n1\n\n\n2022-09-03_T4-LB19-RB18_PuntaMariaOeste_2022-03-24_MaxN.TXT\n2\n\n\n2022-09-04_S1-LB10-RN9_Arco2_2022-07-15_MaxN.TXT\n12\n\n\n2022-09-07_P1-LB12-RB13_Gissler_2022-03-30_MaxN.TXT\n14\n\n\n2022-09-11_P1-LB14-RB13_Risco_2022-03-26_MaxN.TXT\n9\n\n\n\n\n\n\n\n Ejercicio 1 \n¬†\nPodemos calcular el n√∫mero de familias observadas para el primer archivo que le√≠mos (archivo1) de esta forma:\n\n\nC√≥digo\nlength(unique(archivo1$Family))\n\n\n[1] 19\n\n\n1.1 Haga un bucle for que devuelva el n√∫mero de familias para cada archivo\n¬†\n1.2 Cree un cuadro de datos (data frame) que contenga dos columnas, una para el nombre del archivo y otra para el n√∫mero de familias\n\n\nC√≥digo\nn_familias_df &lt;-\n  data.frame(archivo = basename(archivos_txt), \n             n_familias = resultados)\n\n\n¬†\n1.3 A√±ada una columna al cuadro de datos creado en el ejercicio anterior indicando la fecha de creaci√≥n del video (esta informaci√≥n se encuentra en la columna ‚ÄòDate‚Äô de cada archivo de texto). Note que cada archivo contiene solamente una fecha. Debe usar un bucle for para extraer esta informaci√≥n de los archivos.\n¬†\n1.4 A√±ada una columna al cuadro de datos creado en el ejercicio 1.2 (y modificado en 1.3) indicando la profundidad a la que se grab√≥ el video. Debe usar un bucle for para extraer esta informaci√≥n de los archivos.\n¬†\nPuede usar el siguiente c√≥digo para convertir profundidad a un vector num√©rico:\n\n\nC√≥digo\nn_sp_df$profundidad &lt;-\n  as.numeric(gsub(\" m\", \"\", gsub(\"\\\\,\", \n                                 \".\", \n                                 n_sp_df$profundidad)))\n\n\n1.5 ¬øCu√°l es la correlaci√≥n entre el n√∫mero de especies observadas (que es igual al n√∫mero de filas) y la profundidad? (pista: cor.test())\n¬†\n1.6 ¬øCu√°l es la correlaci√≥n entre el n√∫mero de familias y la profundidad?\n¬†\n\nEl bucle for tambi√©n puede ser usado para juntar todas los datos de los archivos de texto en un solo cuadro de datos. Esto lo podemos hacer ‚Äúrellenando‚Äù un cuadro de datos vac√≠o, de forma an√°loga a como rellenamos un vector vaci√≥ anteriormente:\n\n\nC√≥digo\n# vector vacio\ndf_resultados &lt;- data.frame()\n\n# inicio del bucle\nfor (i in archivos_txt) {\n  # leer archivo\n  txt &lt;- read.table(i,\n                    header = TRUE,\n                    skip = 4,\n                    sep = \"\\t\")\n  \n  # guardar resultados en vector vacio\n  df_resultados &lt;- rbind(df_resultados, txt)\n}\n\nnrow(df_resultados) == sum(n_sp_df$filas)\n\n\n[1] FALSE"
  },
  {
    "objectID": "bucles.html#bucles-replicate",
    "href": "bucles.html#bucles-replicate",
    "title": "Bucles",
    "section": "3.1 bucles replicate",
    "text": "3.1 bucles replicate\nEl bucle replicate tambi√©n pertenece a la familia de los (X)apply (a pesar de su nombre), ya que toma una funci√≥n y la replica. Sin embargo solo replica una acci√≥n (generalmente aleatoria) y el usuario no tiene control sobre el insumo a la funci√≥n. El argumento ‚Äòn‚Äô define cuantas veces se replica la acci√≥n y ‚Äòexpr‚Äô define la acci√≥n a realizar:\n\n\nC√≥digo\nreplicate(n = 3, expr = rnorm(10))\n\n\n           [,1]      [,2]     [,3]\n [1,]  0.917365  0.897589 -0.61880\n [2,] -0.800127 -0.292762 -0.69240\n [3,]  0.085573 -0.055457 -0.39821\n [4,] -1.962103  0.458730  0.30789\n [5,] -0.294159  0.236531  1.44949\n [6,]  0.799144 -0.181161 -0.25834\n [7,]  0.910229 -0.105368  1.89958\n [8,] -0.643923  0.684009  1.49681\n [9,] -0.184648 -0.592867 -0.57166\n[10,]  1.119815  0.022808  0.32006\n\n\n¬†\nNote que los resultados son agrupados en una matrix. ‚Äòexpr‚Äô tambi√©n puede replicar c√≥digo que no ha sido ‚Äúempaquetado en una funci√≥n‚Äù.\n¬†\n\n Ejercicio 2\n¬†\n2.1 Haga un bucle lapply equivalente al bucle for en el ejercicio 1.1.\n¬†\n2.2 Haga un bucle sapply equivalente al bucle for en el ejercicio 1.1 y ponga el resultado en un cuadro de datos, similiar a lo hecho en el ejercicio 1.2\n¬†\n2.3 Haga un bucle sapply que permita a√±adir al cuadro de datos creado en el ejercicio anterior el total de individuos observados en un muestreo (pista: sumatoria de la columna ‚ÄòMaxN‚Äô).\n¬†\n2.4 Haga un bucle tapply para calcular el error estandar para el ancho de s√©palo por especie en el juego de datos ‚Äòiris‚Äô."
  },
  {
    "objectID": "bucles.html#referencias",
    "href": "bucles.html#referencias",
    "title": "Bucles",
    "section": "5.1 Referencias",
    "text": "5.1 Referencias\n\nAdvanced R, H Wickham\nA Tutorial on Loops in R - Usage and Alternatives, DataCamp\n\n\nSession information\n\n\nR version 4.1.2 (2021-11-01)\nPlatform: x86_64-pc-linux-gnu (64-bit)\nRunning under: Ubuntu 22.04.2 LTS\n\nMatrix products: default\nBLAS:   /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.10.0\nLAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.10.0\n\nlocale:\n [1] LC_CTYPE=es_CR.UTF-8       LC_NUMERIC=C              \n [3] LC_TIME=es_CR.UTF-8        LC_COLLATE=es_CR.UTF-8    \n [5] LC_MONETARY=es_CR.UTF-8    LC_MESSAGES=es_CR.UTF-8   \n [7] LC_PAPER=es_CR.UTF-8       LC_NAME=C                 \n [9] LC_ADDRESS=C               LC_TELEPHONE=C            \n[11] LC_MEASUREMENT=es_CR.UTF-8 LC_IDENTIFICATION=C       \n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nother attached packages:\n[1] RColorBrewer_1.1-3 ggplot2_3.4.4     \n\nloaded via a namespace (and not attached):\n [1] pillar_1.9.0      compiler_4.1.2    tools_4.1.2       digest_0.6.33    \n [5] jsonlite_1.8.7    evaluate_0.23     lifecycle_1.0.4   tibble_3.2.1     \n [9] gtable_0.3.4      pkgconfig_2.0.3   rlang_1.1.2       cli_3.6.1        \n[13] DBI_1.1.3         rstudioapi_0.13   yaml_2.3.7        xfun_0.41        \n[17] fastmap_1.1.1     withr_2.5.2       dplyr_1.0.8       knitr_1.45       \n[21] generics_0.1.2    vctrs_0.6.4       htmlwidgets_1.5.4 grid_4.1.2       \n[25] tidyselect_1.1.2  glue_1.6.2        R6_2.5.1          fansi_1.0.5      \n[29] rmarkdown_2.25    farver_2.1.1      purrr_0.3.4       magrittr_2.0.3   \n[33] scales_1.2.1      htmltools_0.5.7   assertthat_0.2.1  colorspace_2.1-0 \n[37] labeling_0.4.3    utf8_1.2.4        munsell_0.5.0"
  },
  {
    "objectID": "funciones.html",
    "href": "funciones.html",
    "title": "Funciones",
    "section": "",
    "text": "Identificar los elementos b√°sicos que componen una funci√≥n\nComprender las caracter√≠sticas de los principales tipos de argumentos en las funciones\nSer capaz de construir funciones propias"
  },
  {
    "objectID": "funciones.html#nombre",
    "href": "funciones.html#nombre",
    "title": "Funciones",
    "section": "2.1 Nombre",
    "text": "2.1 Nombre\n\n\n\n\n\n\n\n\n\nLos nombres de las funciones tienen pocas restricciones. Siguen las mismas reglas que otros objetos en R. Algunas recomendaciones/reglas:\n\nNo utilice nombres de objetos comunes R (por ejemplo, iris, x) u objetos que ya est√°n en el entorno\nNo use nombres de funciones de uso frecuente (por ejemplo, mean)\nNo puede comenzar con un n√∫mero\nDeber√≠a sugerir lo que hace\nNo debe ser muy largo\n\nEn caso de que tenga varias funciones con el mismo nombre, puede llamarlas individualmente utilizando el nombre del paquete (o namespace) seguido de :::\n\n\nC√≥digo\n# crear funcion sd\nsd &lt;- function(x) x^10\n\n# no calcula desv. st.\nsd(1:5)\n\n\n[1]       1    1024   59049 1048576 9765625\n\n\nC√≥digo\n# sd\nstats::sd(1:5)\n\n\n[1] 1.5811\n\n\nC√≥digo\n# remover nueva sd\nrm(sd)\n\n# usar de nuevo\nsd(1:5)\n\n\n[1] 1.5811\n\n\n¬†\nLa sintaxis namespace::function tambi√©n se puede usar para llamar a funciones desde paquetes que se han instalado pero que no est√°n cargados en el entorno actual.\n¬†\nLas funciones pueden ser an√≥nimas:\n\n\nC√≥digo\n(function(x) x^10)(1:5)\n\n\n[1]       1    1024   59049 1048576 9765625\n\n\n¬†\nEsto es m√°s √∫til cuando se usan las funciones Xapply:\n\n\nC√≥digo\nl &lt;- list(1:5, 1:4, 1:3)\n\nlapply(l, function(x) x^10)\n\n\n[[1]]\n[1]       1    1024   59049 1048576 9765625\n\n[[2]]\n[1]       1    1024   59049 1048576\n\n[[3]]\n[1]     1  1024 59049"
  },
  {
    "objectID": "funciones.html#argumentos",
    "href": "funciones.html#argumentos",
    "title": "Funciones",
    "section": "2.2 Argumentos",
    "text": "2.2 Argumentos\n\n\n\n\n\n\n\n\n\n¬†\nPermiten a los usuarios ingresar objetos en la funci√≥n. Los argumentos pueden o no tener valores predeterminados. Cuando los argumentos tienen valores predeterminados, no es necesario proporcionarlos:\n\n\nC√≥digo\nf1 &lt;- function(x, y = 2) x + y\n\nf1(1)\n\n\n[1] 3\n\n\n¬†\nPor supuesto, se pueden modificar:\n\n\nC√≥digo\nf1(3, 4)\n\n\n[1] 7\n\n\n¬†\nLos argumentos sin valor predeterminado deben ser proporcionados:\n\n\nC√≥digo\nf1()\n\n\nError in f1(): el argumento \"x\" est√° ausente, sin valor por omisi√≥n\n\n\n¬†\nSi todos los argumentos tienen un valor predeterminado, se puede invocar la funci√≥n sin proporcionar ning√∫n argumento:\n\n\nC√≥digo\nf1 &lt;- function(x = -2, y = 2) x + y\n\nf1()\n\n\n[1] 0\n\n\n¬†\nEse es el caso de dev.off() y Sys.time():\n\n\nC√≥digo\nSys.time()\n\n\n[1] \"2023-11-12 14:03:53.503 CST\"\n\n\n¬†\nLos argumentos pueden especificarse impl√≠citamente por posici√≥n o por nombres incompletos:\n\n\nC√≥digo\nf2 &lt;- function(a1, b1, b2) {\n  list(a1 = a1, b1 = b1, b2 = b2)\n}\n\n# por posicion\nstr(f2(1, 2, 3))\n\n\nList of 3\n $ a1: num 1\n $ b1: num 2\n $ b2: num 3\n\n\nC√≥digo\n# por posicion y nombre\nstr(f2(a = 1, 2, 3))\n\n\nList of 3\n $ a1: num 1\n $ b1: num 2\n $ b2: num 3\n\n\nC√≥digo\nstr(f2(1, a = 2, 3))\n\n\nList of 3\n $ a1: num 2\n $ b1: num 1\n $ b2: num 3\n\n\nC√≥digo\nstr(f2(1, 2, a = 3))\n\n\nList of 3\n $ a1: num 3\n $ b1: num 1\n $ b2: num 2\n\n\nC√≥digo\n# por posicion y nombre parcial\nstr(f2(1, a = 2, b1 = 3))\n\n\nList of 3\n $ a1: num 2\n $ b1: num 3\n $ b2: num 1\n\n\n¬†\nSin embargo, esto no funciona si los nombres son ambiguos:\n\n\nC√≥digo\nf2(b = 1, 2, a = 3)\n\n\nError in f2(b = 1, 2, a = 3): el argumento 1 concuerda con multiples argumentos formales\n\n\n¬†\nEs m√°s seguro (y, por lo tanto, una mejor pr√°ctica) usar los nombres completos de los argumentos.\n¬†\nLas funciones tambi√©n pueden tomar argumentos l√≥gicos. Estos son √∫tiles para modificar el comportamiento de la funci√≥n para que coincida con diferentes escenarios. Por ejemplo, mean() permite a los usuarios ignorar los NA:\n\n\nC√≥digo\nv1 &lt;- c(1, 2, 3, NA)\n\n# sin ignorar NAs\nmean(v1, na.rm = FALSE)\n\n\n[1] NA\n\n\nC√≥digo\n# ignorando NAs\nmean(v1, na.rm = TRUE)\n\n\n[1] 2"
  },
  {
    "objectID": "funciones.html#ejercicio-1",
    "href": "funciones.html#ejercicio-1",
    "title": "Funciones",
    "section": "2.3 Ejercicio 1",
    "text": "2.3 Ejercicio 1\n1.1 ¬øQu√© hace la funci√≥n cor.test()?\n1.2 √ösela con ‚ÄúSepal.Length‚Äù y ‚ÄúSepal.Width‚Äù de los datos de ejemplo iris (use data(iris))\n1.3 ¬øQu√© argumentos deben proporcionarse?\n1.4 ¬øQu√© hace el argumento alternative? Use diferentes valores para este argumento y compare los resultados\n1.5 ¬øC√≥mo se puede calcular la correlaci√≥n de Spearman?\n1.6 ¬øQu√© tipo de objeto devuelve esta funci√≥n?\n1.7 ¬øC√≥mo puede obtener el valor de p directamente del resultado de la funci√≥n (sin guardar el resultado como un objeto)?\n1.8 Escoga una funci√≥n de R y lea su documentaci√≥n con el fin de entender su uso, cada uno de sus argumentos (y que tipo de objetos requieren) y el resultado que produce (es probable que se le pida que explique esto al grupo)"
  },
  {
    "objectID": "funciones.html#cuerpo",
    "href": "funciones.html#cuerpo",
    "title": "Funciones",
    "section": "2.4 Cuerpo",
    "text": "2.4 Cuerpo\n\n\n\n\n\n\n\n\n\n¬†\nEl cuerpo de una funci√≥n puede contener:\n\nComprobaci√≥n de argumentos\nManipulaci√≥n de datos\nDefinici√≥n de resultados\n\n¬†\nEl cuerpo de la funci√≥n puede tomar el mismo tipo de c√≥digo utilizado en cualquier rutina de R. Sin embargo, los objetos creados no estar√°n disponibles en el entorno.\nCuando se realizan varios c√°lculos, debemos incluir una declaraci√≥n de retorno (return statement), que define expl√≠citamente la salida de la funci√≥n. Esto se hace usando la funci√≥n return():\n\n\nC√≥digo\n# sin \"return statement\"\nf1 &lt;- function(x, y) {\n  z1 &lt;- 2 * x + y\n  z2 &lt;- x + 2 * y\n  z3 &lt;- 2 * x + 2 * y\n  z4 &lt;- x / y\n}\n\nf1(5, 3)\n\nf1_out &lt;- f1(5, 3)\n\nf1_out\n\n\n[1] 1.6667\n\n\nC√≥digo\n# con \"return statement\"\nf2 &lt;- function(x, y) {\n  z1 &lt;- 2 * x + y\n  z2 &lt;- x + 2 * y\n  z3 &lt;- 2 * x + 2 * y\n  z4 &lt;- x / y\n\n  return(c(z1, z2, z3, z4))\n}\n\nf2(5, 3)\n\n\n[1] 13.0000 11.0000 16.0000  1.6667\n\n\nC√≥digo\nf2_out &lt;- f2(5, 3)\n\nf2_out\n\n\n[1] 13.0000 11.0000 16.0000  1.6667\n\n\n¬†\nPor lo tanto, cuando no se proporciona una declaraci√≥n de retorno, la funci√≥n devolver√° el √∫ltimo objeto que se cre√≥ en el cuerpo de la funci√≥n:\n\n\nC√≥digo\n# sin \"return statement\"\nf3 &lt;- function(x, y) {\n  z1 &lt;- 2 * x + y\n  z2 &lt;- x + 2 * y\n  z3 &lt;- 2 * x + 2 * y\n  z4 &lt;- x / y\n\n  c(z1, z2, z3, z4)\n}\n\nf3(5, 3)\n\n\n[1] 13.0000 11.0000 16.0000  1.6667\n\n\nC√≥digo\nf3_out &lt;- f3(5, 3)\n\nf3_out\n\n\n[1] 13.0000 11.0000 16.0000  1.6667\n\n\n¬†\nEs m√°s seguro usar return().\n¬†\nCuando una funci√≥n realiza varias tareas, podemos usar una lista para juntar los diferentes objetos. Esto es particularmente √∫til cuando se generan objetos de diferentes clases (por ejemplo, vectores y listas):\n\n\nC√≥digo\nf4 &lt;- function(x, y) {\n  # 1 elemento\n  z1 &lt;- x + y\n\n  # 2 elementos\n  z2 &lt;- c(x, y / 3)\n\n  # vector logico\n  z3 &lt;- z2 &lt; 10\n\n\n  l &lt;- list(z1, z2, z3)\n\n  return(l)\n}\n\nf4(10, 5)\n\n\n[[1]]\n[1] 15\n\n[[2]]\n[1] 10.0000  1.6667\n\n[[3]]\n[1] FALSE  TRUE\n\n\n¬†\nPodemos acceder a elementos espec√≠ficos de la salida de una funci√≥n mediante indexaci√≥n:\n\n\nC√≥digo\n# elemento 1\nf4(10, 5)[[1]]\n\n\n[1] 15\n\n\nC√≥digo\n# elemento 2\nf4(10, 5)[[2]]\n\n\n[1] 10.0000  1.6667\n\n\nC√≥digo\n# elemento 3\nf4(10, 5)[[3]]\n\n\n[1] FALSE  TRUE\n\n\n¬†\nPor supuesto, tambi√©n podemos guardar el resultado como un objeto y acceder a cada elemento mediante la indexaci√≥n:\n\n\nC√≥digo\n# elemento 1\nout &lt;- f4(10, 5)\n\n# elemento 1\nout[[1]]\n\n\n[1] 15\n\n\nC√≥digo\n# elemento 2\nout[[2]]\n\n\n[1] 10.0000  1.6667"
  },
  {
    "objectID": "funciones.html#ejercicio-2",
    "href": "funciones.html#ejercicio-2",
    "title": "Funciones",
    "section": "2.5 Ejercicio 2",
    "text": "2.5 Ejercicio 2\n2.1 Cree una funci√≥n llamada promedio que calcule el promedio de un vector num√©rico. Internamente solo puede utilizar las funciones sum() y length() (suma y divisi√≥n, no puede llamar la funci√≥n mean())\n2.2 Cree una funci√≥n que tome 2 argumentos num√©ricos (ll√°melos ‚Äòx‚Äô y ‚Äòy‚Äô), eleve cada uno al cuadrado y luego los sume\n2.3 Agregue valores predeterminados a cada argumento\n2.4 Ejecute la funci√≥n usando los valores predeterminados\n2.5 Ejecute la funci√≥n usando un valor predeterminado y uno proporcionado en la llamada\n2.6 Ejecute la funci√≥n proporcionando ambos valores en la llamada"
  },
  {
    "objectID": "funciones.html#ejercicio-3",
    "href": "funciones.html#ejercicio-3",
    "title": "Funciones",
    "section": "3.1 Ejercicio 3",
    "text": "3.1 Ejercicio 3\n3.1 Cree una funci√≥n que tome 3 argumentos num√©ricos, multipl√≠quelos y luego calcule el logaritmo natural del resultado (funci√≥n log())\n3.2 Agregue valores predeterminados a cada argumento\n3.3 Ejecute la funci√≥n con uno de los argumentos con un n√∫mero negativo. ¬øQu√© pasa? ¬øPor qu√©?\n3.4 Agregue un argumento l√≥gico que permita a los usuarios (si lo desean) convertir los argumentos de entrada a su valor absoluto (usando la funci√≥n abs()). Agregue las modificaciones necesarias para que la funci√≥n haga los c√°lculos con y sin valores absolutos."
  },
  {
    "objectID": "funciones.html#c√≥digo-mas-limpio",
    "href": "funciones.html#c√≥digo-mas-limpio",
    "title": "Funciones",
    "section": "4.1 C√≥digo mas limpio",
    "text": "4.1 C√≥digo mas limpio\nLos objetos creados dentro del cuerpo no est√°n disponibles en el entorno actual:\n\n\nC√≥digo\n# primero remover todo los objetos\nrm(list = ls())\n\nf5 &lt;- function(x) {\n  sqr &lt;- x * x\n  lg_sqr &lt;- log(x)\n  return(lg_sqr)\n}\n\nf5(7)\n\n\n[1] 1.9459\n\n\nC√≥digo\nexists(\"sqr\")\n\n\n[1] FALSE\n\n\nC√≥digo\nexists(\"lg_sqr\")\n\n\n[1] FALSE\n\n\n\n\nC√≥digo\nx &lt;- 7\nsqr &lt;- x * x\nlg_sqr &lt;- log(x)\n\n\nexists(\"sqr\")\n\n\n[1] TRUE\n\n\nC√≥digo\nexists(\"lg_sqr\")\n\n\n[1] TRUE"
  },
  {
    "objectID": "funciones.html#facil-de-correr-y-compartir",
    "href": "funciones.html#facil-de-correr-y-compartir",
    "title": "Funciones",
    "section": "4.2 Facil de correr y compartir",
    "text": "4.2 Facil de correr y compartir\nSe pueden invocar funciones desde archivos de R externos sin estar definidas en el c√≥digo actual con la funci√≥n source(). En este ejemplo creamos la funci√≥n fnctn_X:\n\n\nC√≥digo\nfnctn_X &lt;- function(sq_mt, vctr) {\n  # trasponer matriz y calcular est dev\n  stp1 &lt;- t(sq_mt)\n  stp2 &lt;- vctr * vctr\n\n  # guardar en lista\n  rslt &lt;- list(stp1, stp2)\n  return(rslt)\n}\n\nfnctn_X(sq_mt = cbind(c(1, 2), c(3, 4)), vctr = c(2, 3))\n\n\n[[1]]\n     [,1] [,2]\n[1,]    1    2\n[2,]    3    4\n\n[[2]]\n[1] 4 9\n\n\n¬†\nGuarde el c√≥digo anterior en un archivo R llamado ‚Äòfunction_X.R‚Äô. Ahora la funci√≥n se puede cargar usando source():\n\n\nC√≥digo\n# removamosla del ambiente\nrm(fnctn_X)\n\n# cargar funcion\nsource(\"function_X.R\")\n\n# run it\nfnctn_X(sq_mt = cbind(c(1, 2), c(3, 4)), vctr = c(2, 3))\n\n\n\n\n[[1]]\n     [,1] [,2]\n[1,]    1    2\n[2,]    3    4\n\n[[2]]\n[1] 4 9\n\n\n¬†\nAdem√°s, este c√≥digo se puede compartir f√°cilmente. Se puede enviar por correo electr√≥nico o publicar en l√≠nea. Incluso se puede cargar desde repositorios en l√≠nea:\n\n\nC√≥digo\n# remover objetos\nrm(list = ls())\n\n# revisar si existe en ambiente actual\nexists(\"fnctn_X\")\n\n\n[1] FALSE\n\n\nC√≥digo\n# cargar desde el internet\nsource(\n  paste0(\n    \"https://raw.githubusercontent.com/maRce10/\",\n    \"r_avanzado_2023/master/data/function_x.r\"\n  )\n)\n\n\n# revisar si existe en ambiente actual\nexists(\"fnctn_X\")\n\n\n[1] TRUE"
  },
  {
    "objectID": "funciones.html#se-aplica-f√°cilmente-a-nuevos-objetos",
    "href": "funciones.html#se-aplica-f√°cilmente-a-nuevos-objetos",
    "title": "Funciones",
    "section": "4.3 Se aplica f√°cilmente a nuevos objetos",
    "text": "4.3 Se aplica f√°cilmente a nuevos objetos\nEsto ya deber√≠a ser obvio a este punto."
  },
  {
    "objectID": "funciones.html#otros-consejos",
    "href": "funciones.html#otros-consejos",
    "title": "Funciones",
    "section": "4.4 Otros consejos",
    "text": "4.4 Otros consejos\n\nConstruir funciones cortas:\n\nF√°cil de leer\nF√°cil de arreglar y actualizar\nSi es demasiado largo, probablemente deber√≠a dividirse en varias funciones\nGenera modularidad\n\nA√±adir comentarios a todo el c√≥digo ¬†\nAgregar descripciones a cada uno de los argumentos que toma ¬†\nFunci√≥n de prueba con diferentes valores/escenarios"
  },
  {
    "objectID": "funciones.html#ejercicio-4",
    "href": "funciones.html#ejercicio-4",
    "title": "Funciones",
    "section": "4.5 Ejercicio 4",
    "text": "4.5 Ejercicio 4\n4.1 Cree una funcion que calcule el promedio, la desviaci√≥n est√°ndar y el error est√°ndar de un vector num√©rico. Estos valores deben ser devueltos como una lista con nombres.\n4.2 Permita a los usuarios ignorar los NAs (similar al argumento na.rm en mean(), pista: a√±ada un argumento l√≥gico)\n4.3 Haga que la funci√≥n adem√°s produzca un histograma del vector num√©rico proporcionado por el usuario\n4.4 Haga que la funci√≥n escoja un color al azar para las barras del histograma cada vez que se corre (pista: sample(vector.de.colores, 1))\n4.5 A√±ada un argumento a la funci√≥n que permita el usuario, si lo desea, calcular la sumatoria (sum()) junto con el resto de los descriptores estad√≠sticos\n4.6 Agregue el promedio y la desviaci√≥n est√°ndar al t√≠tulo del histograma (pista: use paste())\n4.7 Modifique la funci√≥n para que tambi√©n cree una linea vertical indicando el promedio del vector num√©rico proporcionado por el usuario\n4.8 Modifique la funci√≥n para que a√±ada un pol√≠gono transparente sobre el √°rea que cubre el promedio +/- la desviaci√≥n est√°ndar (puede usar la funci√≥n rect())\n4.9 Modifique la funci√≥n con un argumento l√≥gico que permita al usuario controlar si se crea un gr√°fico o no"
  },
  {
    "objectID": "funciones.html#lecturas-adicionales",
    "href": "funciones.html#lecturas-adicionales",
    "title": "Funciones",
    "section": "4.6 Lecturas adicionales",
    "text": "4.6 Lecturas adicionales\n\n Introduction to R guide to writing functions with information for a total beginner\nInformation on functions for intermediate and advanced users (Hadley Wickham).\nThe official R intro material on writing your own functions (ir a ‚ÄúWriting your own function‚Äù)"
  },
  {
    "objectID": "funciones.html#referencias",
    "href": "funciones.html#referencias",
    "title": "Funciones",
    "section": "4.7 Referencias",
    "text": "4.7 Referencias\n\nWickham, Hadley, and Garrett Grolemund. 2016. R for data science: import, tidy, transform, visualize, and model data. website\n\n\nInformaci√≥n de la sesi√≥n\n\n\nR version 4.1.2 (2021-11-01)\nPlatform: x86_64-pc-linux-gnu (64-bit)\nRunning under: Ubuntu 22.04.2 LTS\n\nMatrix products: default\nBLAS:   /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.10.0\nLAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.10.0\n\nlocale:\n [1] LC_CTYPE=es_CR.UTF-8       LC_NUMERIC=C              \n [3] LC_TIME=es_CR.UTF-8        LC_COLLATE=es_CR.UTF-8    \n [5] LC_MONETARY=es_CR.UTF-8    LC_MESSAGES=es_CR.UTF-8   \n [7] LC_PAPER=es_CR.UTF-8       LC_NAME=C                 \n [9] LC_ADDRESS=C               LC_TELEPHONE=C            \n[11] LC_MEASUREMENT=es_CR.UTF-8 LC_IDENTIFICATION=C       \n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nloaded via a namespace (and not attached):\n [1] htmlwidgets_1.5.4 compiler_4.1.2    fastmap_1.1.1     cli_3.6.1        \n [5] tools_4.1.2       htmltools_0.5.7   rstudioapi_0.13   yaml_2.3.7       \n [9] rmarkdown_2.25    knitr_1.45        jsonlite_1.8.7    xfun_0.41        \n[13] digest_0.6.33     rlang_1.1.2       evaluate_0.23"
  },
  {
    "objectID": "modelos_de_regresion.html",
    "href": "modelos_de_regresion.html",
    "title": "Modelos de regresi√≥n",
    "section": "",
    "text": "Familiarizarse con el formato para reportes din√°micos Rmarkdown/quarto\nSer capaz de documentar el manejo y an√°lisis de datos en R usando Rmarkdown/quarto\nPaquetes a utilizar en este manual:\nC√≥digo\n# instalar/cargar paquetes\n\nsketchy::load_packages(\n  c(\"ggplot2\", \n    \"viridis\", \n    \"lmerTest\", \n    \"sjPlot\")\n  )"
  },
  {
    "objectID": "modelos_de_regresion.html#generaci√≥n-de-n√∫meros-aleatorios-en-r",
    "href": "modelos_de_regresion.html#generaci√≥n-de-n√∫meros-aleatorios-en-r",
    "title": "Modelos de regresi√≥n",
    "section": "3.1 Generaci√≥n de n√∫meros aleatorios en R",
    "text": "3.1 Generaci√≥n de n√∫meros aleatorios en R\nLa estad√≠stica nos permite inferir patrones en los datos. Solemos utilizar conjuntos de datos reales para ense√±ar estad√≠stica. Sin embargo, puede ser circular entender el funcionamiento interno de una herramienta estad√≠stica probando su capacidad para inferir un patr√≥n que no estamos seguros de encontrar en los datos (y no tenemos idea del mecanismo que produjo ese patr√≥n). Las simulaciones nos permiten crear escenarios controlados en los que conocemos con seguridad los patrones presentes en los datos y los procesos subyacentes que los han generado.\nR ofrece algunas funciones b√°sicas para la simulaci√≥n de datos. Las m√°s utilizadas son las funciones generadoras de n√∫meros aleatorios. Los nombres de estas funciones comienzan con r (r____()). Por ejemplo, runif():\n\n\nC√≥digo\n# simular variable uniforme\nunif_var &lt;- runif(n = 100, min = 0, max = 10)\n\n\n¬†\nEl resultado es un vector num√©rico de longitud 100 (n = 100):\n\n\nC√≥digo\n# imprimir variable\nunif_var\n\n\n  [1] 9.889093 3.977455 1.156978 0.697487 2.437494 7.920104 3.400624 9.720625\n  [9] 1.658555 4.591037 1.717481 2.314771 7.728119 0.963015 4.534478 0.847007\n [17] 5.606659 0.087046 9.857371 3.165848 6.394489 2.952232 9.967037 9.060213\n [25] 9.887391 0.656457 6.270388 4.904750 9.710244 3.622208 6.799935 2.637199\n [33] 1.857143 1.851432 3.792967 8.470244 4.980761 7.905856 8.384639 4.569039\n [41] 7.994758 3.819431 7.597012 4.367756 9.042177 3.195349 0.825691 8.162891\n [49] 8.984762 9.664964 5.730689 7.200795 7.740586 6.277608 7.229893 3.868313\n [57] 1.627908 1.872283 3.912495 2.739012 1.919177 5.043918 7.638404 6.936689\n [65] 5.440542 6.590872 4.687284 4.818055 3.370636 4.245263 2.870151 6.011915\n [73] 8.407423 6.208370 1.345516 5.677224 4.434263 4.379754 6.236172 9.326533\n [81] 8.884926 8.785406 2.421769 7.414538 3.876563 0.789517 0.948356 7.621427\n [89] 3.478940 4.167667 3.440162 0.084109 9.115750 1.822054 7.228034 5.719633\n [97] 5.400364 3.549474 8.240918 1.861368\n\n\n¬†\nPodemos explorar el resultado graficando un histograma:\n\n\nC√≥digo\n# crear histograma\nggplot(data = data.frame(unif_var), mapping = aes(x = unif_var)) + geom_histogram() \n\n\n\n\n\n¬†\nMuestra una distribuci√≥n uniforme que va de 0 a 10.\nTambi√©n podemos simular n√∫meros aleatorios procedentes de una distribuci√≥n normal utilizando rnorm():\n\n\nC√≥digo\n# crear una variable normal\nnorm_var &lt;- rnorm(n = 1000, mean = 2, sd = 1)\n\n# graficar histograma\nggplot(data = data.frame(norm_var), mapping = aes(x = norm_var)) + geom_histogram() \n\n\n\n\n\n¬†\nTenga en cuenta que todas las funciones generadoras de n√∫meros aleatorios tienen el argumento ‚Äòn‚Äô, que determina la longitud del vector generado (es decir, el n√∫mero de n√∫meros aleatorios), adem√°s de algunos argumentos adicionales relacionados con par√°metros espec√≠ficos de la distribuci√≥n.\nLas variables continuas (es decir, los vectores num√©ricos) pueden convertirse en variables discretas (es decir, n√∫meros enteros) simplemente redonde√°ndolas:\n\n\nC√≥digo\nv1 &lt;- rnorm(n = 5, mean = 10, sd = 3)\n\nv1\n\n\n[1] 15.4269  8.5450 15.1387  8.9203  9.3693\n\n\nC√≥digo\nround(x = v1, digits = 0)\n\n\n[1] 15  9 15  9  9\n\n\n¬†\n\nEjercicio 1\n\n¬øQu√© hacen las funciones rbinom() y rexp()?\nEjecutela y haga histogramas de sus resultados\n¬øQu√© hacen los argumentos ‚Äòmean‚Äô y ‚Äòsd‚Äô en rnorm()? Juege con diferentes valores y comprueba el histograma para hacerse una idea de su efecto en la simulaci√≥n"
  },
  {
    "objectID": "modelos_de_regresion.html#generaci√≥n-de-variables-categ√≥ricas",
    "href": "modelos_de_regresion.html#generaci√≥n-de-variables-categ√≥ricas",
    "title": "Modelos de regresi√≥n",
    "section": "3.2 Generaci√≥n de variables categ√≥ricas",
    "text": "3.2 Generaci√≥n de variables categ√≥ricas\nLa forma m√°s sencilla de generar variables categ√≥ricas es utilizar el vector de ejemplo letters' (oLETTERS‚Äô) para asignar niveles de categor√≠a. Podemos hacerlo utilizando la funci√≥n rep(). Por ejemplo, el siguiente c√≥digo crea un vector categ√≥rico (caracteres) con dos niveles, cada uno con 4 observaciones:\n\n\nC√≥digo\nrep(letters[1:2], each = 4)\n\n\n[1] \"a\" \"a\" \"a\" \"a\" \"b\" \"b\" \"b\" \"b\"\n\n\n¬†\nTambi√©n podemos replicar este patr√≥n utilizando el argumento ‚Äòtimes‚Äô. Este c√≥digo replica el vector anterior 2 veces:\n\n\nC√≥digo\nrep(letters[1:2], each = 4, times = 2)\n\n\n [1] \"a\" \"a\" \"a\" \"a\" \"b\" \"b\" \"b\" \"b\" \"a\" \"a\" \"a\" \"a\" \"b\" \"b\" \"b\" \"b\"\n\n\n¬†\nOtra opci√≥n es simular una variable a partir de una distribuci√≥n binomial y luego convertirla en un factor:\n\n\nC√≥digo\n# correr rbinom\nbinom_var &lt;- rbinom(n = 50, size = 1, prob = 0.5)\n\nbinom_var\n\n\n [1] 1 0 0 1 1 0 0 0 0 0 0 0 1 1 1 0 0 1 0 1 0 0 0 0 0 0 0 1 0 1 1 1 0 0 0 1 0 0\n[39] 1 1 0 0 0 0 0 1 0 1 1 1\n\n\n\n\nC√≥digo\n# convertir a factor\ncateg_var &lt;- factor(binom_var, labels = c(\"a\", \"b\"))\n\ncateg_var\n\n\n [1] b a a b b a a a a a a a b b b a a b a b a a a a a a a b a b b b a a a b a a\n[39] b b a a a a a b a b b b\nLevels: a b"
  },
  {
    "objectID": "modelos_de_regresion.html#muestreo-aleatorio",
    "href": "modelos_de_regresion.html#muestreo-aleatorio",
    "title": "Modelos de regresi√≥n",
    "section": "3.3 Muestreo aleatorio",
    "text": "3.3 Muestreo aleatorio\nLa otra herramienta importante de R para jugar con datos simulados es sample(). Esta funci√≥n permite tomar muestras de tama√±os espec√≠ficos de vectores. Por ejemplo, tomemos el ejemplo del vector ‚Äòletters‚Äô:\n\n\nC√≥digo\nletters\n\n\n [1] \"a\" \"b\" \"c\" \"d\" \"e\" \"f\" \"g\" \"h\" \"i\" \"j\" \"k\" \"l\" \"m\" \"n\" \"o\" \"p\" \"q\" \"r\" \"s\"\n[20] \"t\" \"u\" \"v\" \"w\" \"x\" \"y\" \"z\"\n\n\n¬†\nPodemos tomar una muestra de este vector como es:\n\n\nC√≥digo\n# tomar muestra\nsample(x = letters, size = 10)\n\n\n [1] \"i\" \"r\" \"q\" \"a\" \"c\" \"m\" \"y\" \"z\" \"u\" \"v\"\n\n\n¬†\nEl argumento ‚Äòsize‚Äô nos permite determinar el tama√±o de la muestra. Tenga en cuenta que obtendremos un error si el tama√±o es mayor que el propio vector:\n\n\nC√≥digo\nsample(x = letters, size = 30)\n\n\nError in sample.int(length(x), size, replace, prob): cannot take a sample larger than the population when 'replace = FALSE'\n\n\n¬†\nEsto s√≥lo puede hacerse cuando el muestreo es con reemplazo (replacement). El muestreo con reemplazo puede aplicarse estableciendo el argumento replace = TRUE:\n\n\nC√≥digo\nsample(x = letters, size = 30, replace = TRUE)\n\n\n [1] \"j\" \"i\" \"h\" \"i\" \"k\" \"u\" \"n\" \"i\" \"w\" \"k\" \"c\" \"t\" \"m\" \"p\" \"i\" \"h\" \"d\" \"w\" \"c\"\n[20] \"q\" \"j\" \"e\" \"e\" \"j\" \"k\" \"c\" \"l\" \"t\" \"r\" \"h\""
  },
  {
    "objectID": "modelos_de_regresion.html#iterar-un-proceso",
    "href": "modelos_de_regresion.html#iterar-un-proceso",
    "title": "Modelos de regresi√≥n",
    "section": "3.4 Iterar un proceso",
    "text": "3.4 Iterar un proceso\nA menudo, las simulaciones deben repetirse varias veces para descartar resultados espurios debidos al azar o simplemente para probar diferentes par√°metros. Las funciones de simulaci√≥n de datos mencionadas anteriormente pueden ejecutarse varias veces (por ejemplo, iteradas) utilizando la funci√≥n replicate():\n\n\nC√≥digo\n# replicar\nrepl_rnorm &lt;- replicate(n = 3, expr = rnorm(2), simplify = FALSE)\n\n# ver clase\nclass(repl_rnorm)\n\n\n[1] \"list\"\n\n\nC√≥digo\n# imprimir\nrepl_rnorm\n\n\n[[1]]\n[1]  1.19184 -0.33992\n\n[[2]]\n[1]  0.78911 -0.63213\n\n[[3]]\n[1] -1.49312 -0.13441"
  },
  {
    "objectID": "modelos_de_regresion.html#hacer-que-las-simulaciones-sean-reproducibles",
    "href": "modelos_de_regresion.html#hacer-que-las-simulaciones-sean-reproducibles",
    "title": "Modelos de regresi√≥n",
    "section": "3.5 Hacer que las simulaciones sean reproducibles",
    "text": "3.5 Hacer que las simulaciones sean reproducibles\nEl √∫ltimo truco que necesitamos para ejecutar simulaciones en R es la capacidad de reproducir una simulaci√≥n (es decir, obtener exactamente los mismos datos y resultados simulados). Esto puede ser √∫til para que otros investigadores puedan ejecutar nuestros an√°lisis exactamente de la misma manera. Esto puede hacerse f√°cilmente con la funci√≥n set.seed(). Pruebe a ejecutar el siguiente c√≥digo. Deber√≠a obtener la misma salida:\n\n\nC√≥digo\n# definir semilla\nset.seed(10)\n\n# crear variable uniforme\nrunif(n = 2)\n\n\n[1] 0.50748 0.30677"
  },
  {
    "objectID": "modelos_de_regresion.html#juegos-de-datos-con-variables-num√©ricas-y-categ√≥ricas",
    "href": "modelos_de_regresion.html#juegos-de-datos-con-variables-num√©ricas-y-categ√≥ricas",
    "title": "Modelos de regresi√≥n",
    "section": "4.1 Juegos de datos con variables num√©ricas y categ√≥ricas",
    "text": "4.1 Juegos de datos con variables num√©ricas y categ√≥ricas\nAhora que sabemos c√≥mo simular variables continuas y categ√≥ricas. Podemos juntarlas para crear conjuntos de datos simulados. Esto se puede hacer utilizando la funci√≥n data.frame():\n\n\nC√≥digo\n# crear variable categorica\ngrupo &lt;- rep(letters[1:2], each = 3)\n\n# crear variable continuaa\nsize &lt;- rnorm(n = 6, mean = 5, sd = 1)\n\n# poner juntas en un data frame\ndf &lt;- data.frame(grupo, size)\n\n# imprimir\ndf\n\n\n\n\n\n\ngrupo\nsize\n\n\n\n\na\n4.8158\n\n\na\n3.6287\n\n\na\n4.4008\n\n\nb\n5.2946\n\n\nb\n5.3898\n\n\nb\n3.7919\n\n\n\n\n\n\nPor supuesto, podr√≠amos a√±adir m√°s variables a este cuadro de datos:\n\n\nC√≥digo\n# crear variable categorica\ngrupo &lt;- rep(letters[1:2], each = 3)\nindividuo &lt;- rep(LETTERS[1:6])\n\n# crear variables continuas\nsize &lt;- rnorm(n = 6, mean = 5, sd = 1)\nweight &lt;- rnorm(n = 6, mean = 100, sd = 10)\n\n# poner todo en un data frame\ndf &lt;- data.frame(grupo, individuo, size, weight)\n\n# imprimir\ndf\n\n\n\n\n\n\ngrupo\nindividuo\nsize\nweight\n\n\n\n\na\nA\n4.6363\n109.874\n\n\na\nB\n3.3733\n107.414\n\n\na\nC\n4.7435\n100.893\n\n\nb\nD\n6.1018\n90.451\n\n\nb\nE\n5.7558\n98.049\n\n\nb\nF\n4.7618\n109.255\n\n\n\n\n\n\nY eso es un juego de datos simulados en su forma m√°s b√°sica. Se parece mucho al tipo de datos con los que trabajamos en biolog√≠a."
  },
  {
    "objectID": "modelos_de_regresion.html#prueba-de-concepto-el-teorema-central-del-l√≠mite",
    "href": "modelos_de_regresion.html#prueba-de-concepto-el-teorema-central-del-l√≠mite",
    "title": "Modelos de regresi√≥n",
    "section": "5.1 Prueba de concepto: el Teorema Central del L√≠mite",
    "text": "5.1 Prueba de concepto: el Teorema Central del L√≠mite\nEl Teorema del L√≠mite Central afirma que, si tomamos muestras aleatorias de una poblaci√≥n, los promedios de esas muestras seguir√°n una distribuci√≥n normal, aunque la poblaci√≥n no est√© distribuida normalmente. Adem√°s, la distribuci√≥n normal resultante debe tener un promedio cercano al promedio de la poblaci√≥n. El teorema es un concepto clave para la estad√≠stica inferencial, ya que implica que los m√©todos estad√≠sticos que funcionan para las distribuciones normales pueden ser aplicables a muchos problemas que implican otros tipos de distribuciones. No obstante, el objetivo aqu√≠ es s√≥lo mostrar c√≥mo se pueden utilizar las simulaciones para entender el comportamiento de los m√©todos estad√≠sticos.\nPara comprobar si esas afirmaciones b√°sicas sobre el Teorema del L√≠mite Central son ciertas, podemos utilizar datos simulados en R. Vamos a simular una poblaci√≥n de 1000 observaciones con una distribuci√≥n uniforme:\n\n\nC√≥digo\n# simular popublacion uniforme\nunif_pop &lt;- runif(1000, min = 0, max = 10)\n\n# ver histograma\nggplot(data = data.frame(unif_pop), mapping = aes(x = unif_pop)) + geom_histogram() \n\n\n\n\n\n\n\n¬†\nPodemos tomar muestras aleatorias usando sample() as√≠:\n\n\nC√≥digo\nsample(x = unif_pop, size = 30)\n\n\n [1] 9.28420 1.02626 2.57517 3.32485 6.89990 2.29404 0.33737 8.21366 3.30364\n[10] 8.03793 2.59174 7.81770 5.65426 0.63831 2.83470 4.20434 4.76330 4.42193\n[19] 6.97830 7.92625 0.68121 3.52323 6.51103 5.38289 7.97210 1.80062 4.21282\n[28] 3.33866 8.91223 4.71163\n\n\n¬†\nEste proceso puede ser replicado varias veces con replicate():\n\n\nC√≥digo\n# replicar\nsamples &lt;- replicate(n = 100, expr = mean(sample(x = unif_pop, size = 30)))\n\n\n¬†\nEl c√≥digo anterior toma 100 muestras con 30 valores cada una. Ahora podemos comprobar la distribuci√≥n de las muestras:\n\n\nC√≥digo\n# ver distribucion/ histograma\nggplot(data = data.frame(samples), mapping = aes(x = samples)) + geom_histogram() \n\n\n\n\n\n\n\n¬†\n‚Ä¶ asi como el promedio:\n\n\nC√≥digo\nmean(samples)\n\n\n[1] 5.0212\n\n\n¬†\nComo era de esperar, las muestras siguen una distribuci√≥n normal con una media cercana a la media de la poblaci√≥n, que es:\n\n\nC√≥digo\nmean(unif_pop)\n\n\n[1] 5.0527\n\n\n¬†\nProbemos con una distribuci√≥n m√°s compleja. Por ejemplo, una distribuci√≥n bimodal:\n\n\nC√≥digo\n# usar semilla\nset.seed(123)\n\n# simular variables\nnorm1 &lt;- rnorm(n = 1000, mean = 10, sd = 3)\nnorm2 &lt;- rnorm(n = 1000, mean = 20, sd = 3)\n\n# juntar en una sola variable\nbimod_pop &lt;- c(norm1, norm2)\n\n# ver histograma\nggplot(data = data.frame(bimod_pop), mapping = aes(x = bimod_pop)) + geom_histogram() \n\n\n\n\n\n\n\n\n\nC√≥digo\n# replicar muestreo\nsamples &lt;- replicate(200, mean(sample(bimod_pop, 10)))\n\n# ver histograma\nggplot(data = data.frame(samples), mapping = aes(x = samples)) + geom_histogram() \n\n\n\n\n\n\n\n\n\nC√≥digo\n# ver promedios\nmean(samples)\n\n\n[1] 15.231\n\n\nC√≥digo\nmean(bimod_pop)\n\n\n[1] 15.088\n\n\n¬†\n\nEjercicio 2\n¬†\n\nIntenta explorar el Teorema del L√≠mite Central como en el caso anterior, pero esta vez utilizando:\n\nUna distribuci√≥n exponencial (rexp())\nUna distribuci√≥n binomial (rbinom())\n\n\n¬†\n\nPara cada distribuci√≥n: grafique un histograma y compare los promedios de la poblaci√≥n y de las muestras\n\n\n¬†\n\n\n\n\nRegresi√≥n lineal simple\n\n\nLas regresiones lineales se basan en la ecuaci√≥n lineal a = mx + b que aprendimos en el colegio. La representaci√≥n formal tiene este aspecto:\n\n\\(\\hat{Y} \\sim \\beta_{o} + \\beta_{1} * x_{1}\\)\n\n¬†\n\n\\(\\hat{Y}\\): variable respuesta\n\\(\\beta_{o}\\): intercepto\n\\(\\beta_{1}\\): estimado de la magnitud del efecto de \\(x_{1}\\) en \\(\\hat{Y}\\) (tambi√©n conocido como tama√±o de efecto, coeficiente o simplemente ‚Äúestimado‚Äù)\n\\(x_{1}\\): variable predictora\n\n¬†\nEl objetivo m√°s com√∫n de una regresi√≥n lineal es la estimaci√≥n de los valores de \\(\\beta_{*}\\). Esto se consigue encontrando la l√≠nea recta que mejor se ajusta y que representa la asociaci√≥n entre un predictor y la respuesta:\n\n\n\n\n\n\n\n\n\n¬†\nEstos \\(\\beta_{*}\\) son el tama√±o de efecto estimado del predictor correspondiente (por ejemplo, \\(\\beta_{1}\\) es el tama√±o de efecto \\(x_{1}\\)). Su valor representa el cambio medio en \\(\\hat{Y}\\) (en unidades \\(\\hat{Y}\\)) para una unidad de cambio en \\(\\beta_{*}\\). Por lo tanto, la hip√≥tesis nula es que esos \\(\\beta_{*}\\) no son diferentes de 0:\n\n\\(\\qquad \\mathcal{H}_0: \\hat{Y} = \\beta_0 + 0 * x_{1}\\)\n\nlo que equivale a esto:\n\n\\(\\qquad \\mathcal{H}_0: \\hat{Y} = \\beta_0\\)\n\n¬†\nPor ejemplo, un modelo de regresi√≥n con este resultado:"
  },
  {
    "objectID": "modelos_de_regresion.html#modelo-solo-con-intercepto",
    "href": "modelos_de_regresion.html#modelo-solo-con-intercepto",
    "title": "Modelos de regresi√≥n",
    "section": "6.1 Modelo solo con intercepto",
    "text": "6.1 Modelo solo con intercepto\nPrimero vamos a crear una variable num√©rica de respuesta:\n\n\nC√≥digo\n# definir semilla\nset.seed(123)\n\n# numero de observaciones\nn &lt;- 50\n\n#  variables aleatorias\ny &lt;- rnorm(n = n, mean = 0, sd = 1)\n\n# put it in a data frame\ny_data &lt;- data.frame(y)\n\n\n¬†\nEsta √∫nica variable puede introducirse en un modelo de regresi√≥n s√≥lo con intercepto. Para ello, debemos suministrar la f√≥rmula del modelo y los datos a lm():\n\n\nC√≥digo\n# run model\ny_mod &lt;- lm(formula = y ~ 1, data = y_data)\n\n\n¬†\nLo que equivale a:\n\n\\(\\hat{Y} \\sim \\beta_{o}\\)\n\n¬†\nPodemos obtener el resumen por defecto de los resultados del modelo ejecutando summary() en el objeto de salida ‚Äòy_mod‚Äô:\n\n\nC√≥digo\nsummary(y_mod)\n\n\n\nCall:\nlm(formula = y ~ 1, data = y_data)\n\nResiduals:\n   Min     1Q Median     3Q    Max \n-2.001 -0.594 -0.107  0.664  2.135 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)\n(Intercept)   0.0344     0.1309    0.26     0.79\n\nResidual standard error: 0.926 on 49 degrees of freedom\n\n\n¬†\nPuede ser bastante informativo graficar los tama√±os de efecto (aunque en este caso s√≥lo tenemos uno):\n\n\nC√≥digo\nci_df &lt;- data.frame(param = names(y_mod$coefficients), \n                    est = y_mod$coefficients, confint(y_mod))\n\nggplot(ci_df, aes(x=param, y=est)) + \n  geom_hline(yintercept = 0, color=\"red\", lty = 2) +\n  geom_pointrange(aes(ymin = X2.5.., ymax = X97.5..)) + \n  labs(x = \"Par√°metro\", y = \"Tama√±o de efecto\") + \n  coord_flip()\n\n\n\n\n\n¬†\n\n¬†\n\nInterpretaci√≥n del modelo\n\n¬†\nPara evaluar la importancia de la asociaci√≥n nos centramos en la tabla de coeficientes:\n\n\n            Estimate Std. Error t value Pr(&gt;|t|)\n(Intercept) 0.034404    0.13094 0.26275  0.79385\n\n\n\nEn este ejemplo no hay predictores en el modelo, por lo que s√≥lo tenemos una estimaci√≥n para el intercepto (\\(\\beta_0\\))\nEl modelo nos dice que el intercepto se estima en 0.0344 y que este valor no es significativamente diferente de 0 (valor p = 0.79385)\nEn este caso el intercepto es simplemente la media de la variable de respuesta\n\n\n\nC√≥digo\nmean(y_data$y)\n\n\n[1] 0.034404\n\n\n¬†\n\nRara vez tenemos predicciones sobre el intercepto, por lo que tendemos a ignorar esta estimaci√≥n.\n\n\n¬†\n\n\nCaso de estudio\n\n¬†\n\nRuhs, E. C., Martin, L. B., & Downs, C. J. (2020). The impacts of body mass on immune cell concentrations in birds. Proceedings of the Royal Society B, 287(1934), 20200655.\n\n‚ÄúEncontramos que un modelo s√≥lo con intercepto (intercept-only model) explicaba mejor las concentraciones de linfocitos y eosin√≥filos en las aves, indicando que las concentraciones de estos tipos de c√©lulas eran independientes de la masa corporal.‚Äù\n\n\n\n\n\n\n\n\n\n¬†\n\n¬†\n\nEjercicio 3\n¬†\n\nCambie el argumento ‚Äòmean‚Äô en la llamada de la funci√≥n ‚Äúrnorm()` (l√≠nea 130) por un valor distinto de 0 y observe c√≥mo cambian los valores en la tabla de coeficientes\nCambia el argumento sd en la llamada a la funci√≥n rnorm() (l√≠nea 130) por un valor m√°s alto y observe c√≥mo cambian los valores en la tabla de coeficientes"
  },
  {
    "objectID": "modelos_de_regresion.html#a√±adir-un-predictor-no-asociado",
    "href": "modelos_de_regresion.html#a√±adir-un-predictor-no-asociado",
    "title": "Modelos de regresi√≥n",
    "section": "6.2 A√±adir un predictor no asociado",
    "text": "6.2 A√±adir un predictor no asociado\nPodemos crear 2 variables num√©ricas no relacionadas as√≠:\n\n\nC√≥digo\n# definir semilla\nset.seed(123)\n\n# numero de observaciones\nn &lt;- 50\n\n#  variables aleatorias\ny &lt;-  rnorm(n = n, mean = 0, sd = 1)\nx1 &lt;-  rnorm(n = n, mean = 0, sd = 1)\n\n# crear data frame\nxy_datos &lt;- data.frame(x1, y)\n\n\n¬†\nEstas dos variables pueden introducirse en un modelo de regresi√≥n para evaluar la asociaci√≥n entre ellas:\n\n\nC√≥digo\n# construir model\nxy_mod &lt;- lm(formula = y ~ x1, data = xy_datos)\n\n# graficar\nggplot(xy_datos, aes(x = x1, y = y)) + \n  geom_smooth(method = \"lm\", se = FALSE) + \n  geom_point() # graficar points\n\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n¬†\nQue es equivalente a esto:\n\n\\(\\hat{Y} \\sim \\beta_{o} + \\beta_{1} * x_{1}\\)\n\n¬†\nImprimamos el resumen de este modelo:\n\n\nC√≥digo\nsummary(xy_mod)\n\n\n\nCall:\nlm(formula = y ~ x1, data = xy_datos)\n\nResiduals:\n   Min     1Q Median     3Q    Max \n-2.004 -0.624 -0.123  0.687  2.106 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)\n(Intercept)   0.0398     0.1340    0.30     0.77\nx1           -0.0367     0.1475   -0.25     0.80\n\nResidual standard error: 0.935 on 48 degrees of freedom\nMultiple R-squared:  0.00129,   Adjusted R-squared:  -0.0195 \nF-statistic: 0.0618 on 1 and 48 DF,  p-value: 0.805\n\n\n¬†\n‚Ä¶ y graficar los tama√±os de efecto:\n\n\nC√≥digo\nci_df &lt;- data.frame(param = names(xy_mod$coefficients), \n                    est = xy_mod$coefficients, confint(xy_mod))\n\nggplot(ci_df, aes(x=param, y=est)) + \n  geom_hline(yintercept = 0, color=\"red\", lty = 2) +\n  geom_pointrange(aes(ymin = X2.5.., ymax = X97.5..)) + \n  labs(x = \"Par√°metro\", y = \"Tama√±o de efecto\") + \n  coord_flip()\n\n\n\n\n\n¬†\nDeber√≠amos ‚Äúdiagnosticar‚Äù la idoneidad del modelo inspeccionando m√°s de cerca la distribuci√≥n de los residuales. La funci√≥n plot_model() del paquete sjPlot hace un buen trabajo para crear gr√°ficos de diagn√≥stico para modelos lineales:\n\n\nC√≥digo\nplot_model(xy_mod, type = \"diag\")\n\n\n[[1]]\n\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n\n[[2]]\n\n\n\n\n\n\n[[3]]\n\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n¬†\n\n¬†\n\nInterpretaci√≥n del modelo\n\n¬†\nCuadro con coeficientes:\n\n\n             Estimate Std. Error  t value Pr(&gt;|t|)\n(Intercept)  0.039774    0.13396  0.29690  0.76782\nx1          -0.036679    0.14750 -0.24867  0.80467\n\n\n¬†\n\nEn este ejemplo hemos a√±adido un predictor al modelo, por lo que hemos obtenido una estimado adicional (y una fila extra, ‚Äòx1‚Äô)\nEl modelo nos dice que la estimaci√≥n de ‚Äòx1‚Äô es -0.03668 y que no es significativamente diferente de 0 (p = 0.80467)"
  },
  {
    "objectID": "modelos_de_regresion.html#simular-un-predictor-asociado",
    "href": "modelos_de_regresion.html#simular-un-predictor-asociado",
    "title": "Modelos de regresi√≥n",
    "section": "6.3 Simular un predictor asociado",
    "text": "6.3 Simular un predictor asociado\nPodemos utilizar la f√≥rmula del modelo lineal anterior para simular dos variables continuas asociadas as√≠:\n\n\nC√≥digo\n# definir semilla\nset.seed(123)\n\n# numero de observaciones\nn &lt;- 50\nb0 &lt;- -4\nb1 &lt;- 3\nerror &lt;- rnorm(n = n, sd = 3)\n\n# variables aleatorias\nx1 &lt;-  rnorm(n = n, mean = 0, sd = 1)\ny &lt;- b0 + b1 * x1 + error\n\n# crear data frame\nxy_datos2 &lt;- data.frame(x1, y)\n\n\n¬†\nNote que tambi√©n hemos a√±adido un t√©rmino de error, por lo que la asociaci√≥n no es perfecta. Vamos a correr el modelo y graficar la asociaci√≥n entre las dos variables:\n\n\nC√≥digo\n# construir model\nxy_mod2 &lt;- lm(formula = y ~ x1, data = xy_datos2)\n\n# graficar\nggplot(xy_datos2, aes(x = x1, y = y)) + \n  geom_smooth(method = \"lm\", se = FALSE) +  \n  geom_point() # graficar points\n\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n¬†\nLa f√≥rmula es la misma que la del modelo anterior:\n\n\\(\\hat{Y} \\sim \\beta_{o} + \\beta_{1} * x_{1}\\)\n\n¬†\nEste es el resumen del modelo:\n\n\nC√≥digo\nsummary(xy_mod2)\n\n\n\nCall:\nlm(formula = y ~ x1, data = xy_datos2)\n\nResiduals:\n   Min     1Q Median     3Q    Max \n -6.01  -1.87  -0.37   2.06   6.32 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)   -3.881      0.402   -9.66  7.9e-13 ***\nx1             2.890      0.442    6.53  3.9e-08 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 2.8 on 48 degrees of freedom\nMultiple R-squared:  0.471, Adjusted R-squared:  0.459 \nF-statistic: 42.7 on 1 and 48 DF,  p-value: 3.85e-08\n\n\n¬†\n.. el gr√°fico con los tama√±os de efecto:\n\n\nC√≥digo\nci_df &lt;- data.frame(param = names(xy_mod2$coefficients), \n                    est = xy_mod2$coefficients, confint(xy_mod2))\n\nggplot(ci_df, aes(x=param, y=est)) + \n  geom_hline(yintercept = 0, color=\"red\", lty = 2) +\n  geom_pointrange(aes(ymin = X2.5.., ymax = X97.5..)) + \n  labs(x = \"Par√°metro\", y = \"Tama√±o de efecto\") + \n  coord_flip()\n\n\n\n\n\n¬†\n‚Ä¶ y los gr√°ficos diagn√≥sticos del modelo:\n\n\nC√≥digo\nplot_model(xy_mod2, type = \"diag\")\n\n\n[[1]]\n\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n\n[[2]]\n\n\n\n\n\n\n[[3]]\n\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n¬†\n\n¬†\n\nInterpretaci√≥n del modelo\n\n¬†\nCuadro con los coeficientes (estimados):\n\n\n            Estimate Std. Error t value   Pr(&gt;|t|)\n(Intercept)  -3.8807    0.40188 -9.6562 7.8616e-13\nx1            2.8900    0.44249  6.5311 3.8537e-08\n\n\n\nEl modelo nos dice que \\(beta_1\\) (el tama√±o de efecto de ‚Äòx1‚Äô) es 2.88996 y que es significativamente diferente de 0 (p = 3.85365^{-8})\nLos valores simulados de los par√°metros de regresi√≥n pueden compararse con el resumen del modelo lm() para tener una idea de la precisi√≥n del modelo:\n\n\\(\\beta_1\\) (the effect size of ‚Äòx1‚Äô) was set to 3 and was estimated as 2.89 by the model\n\n\n\n¬†\n\n\nCaso de estudio\n\n¬†\n\nKeenan EL, Odom KJ, Araya-Salas M, Horton KG, Strimas-Mackey M, Meatte MA, Mann NI, Slater PJ, Price JJ, and Templeton CN. 2020. Breeding season length predicts duet coordination and consistency in Neotropical wrens (Troglodytidae). Proceeding of the Royal Society B. 20202482\n\n\n\n\n\n\n\n\n\n\n¬†\n‚Äú‚Ä¶ la coordinaci√≥n y la consistencia de los duetos son mayores en las especies con temporadas de apareamiento especialmente largas.‚Äù\n\n\n\n\n\n\n\n\n\n¬†\n\n¬†\n\nEjercicio 4\n¬†\n\nAumente el tama√±o de la muestra (n) a 1000 o m√°s\n¬øC√≥mo cambiaron los estimados del tama√±o de efecto (\\(\\beta\\))?\n¬øC√≥mo cambi√≥ el error est√°ndar del tama√±o de efecto?\nAhora cambie n a 15 y compruebe de nuevo las estimaciones del modelo (esta vez compruebe tambi√©n el valor p)"
  },
  {
    "objectID": "modelos_de_regresion.html#varios-predictores-regresi√≥n-m√∫ltiple",
    "href": "modelos_de_regresion.html#varios-predictores-regresi√≥n-m√∫ltiple",
    "title": "Modelos de regresi√≥n",
    "section": "6.4 Varios predictores: regresi√≥n m√∫ltiple",
    "text": "6.4 Varios predictores: regresi√≥n m√∫ltiple\nLa regresi√≥n lineal m√∫ltiple es una extensi√≥n del modelo de regresi√≥n lineal simple que puede tomar varios predictores:\n\n\\(\\hat{Y} \\sim \\beta_{o} + \\beta_{1} * x_{1} + \\cdots + \\beta_{n} * x_{n}\\)\n\n¬†\nLa f√≥rmula parece compleja, pero s√≥lo quiere decir que cualquier par√°metro adicional tendr√° su propia estimaci√≥n (\\(\\beta\\)). La f√≥rmula para una regresi√≥n lineal de dos predictores se ve as√≠:\n\n\\(\\hat{Y} \\sim \\beta_{o} + \\beta_{1} * x_{1} + \\beta_{2} * x_{2}\\)\n\n¬†\n‚Ä¶ y se puede simular as√≠:\n\n\nC√≥digo\n# semila\nset.seed(123)\n\n# numero de observaciones\nn &lt;- 50\nb0 &lt;- -4\nb1 &lt;- 3\nb2 &lt;- -2\nerror &lt;- rnorm(n = n, mean = 0, sd = 3)\n\n# variables aleatorias\nx1 &lt;-  rnorm(n = n, mean = 0, sd = 1)\nx2 &lt;-  rnorm(n = n, mean = 0, sd = 1)\ny &lt;- b0 + b1 * x1 + b2 * x2 + error\n\n# crear un data frame\nxy_datos_multp &lt;- data.frame(x1, x2, y)\n\n# construir el modelo\nxy_mod_multp &lt;- lm(formula = y ~ x1 + x2, data = xy_datos_multp)\n\nsummary(xy_mod_multp)\n\n\n\nCall:\nlm(formula = y ~ x1 + x2, data = xy_datos_multp)\n\nResiduals:\n   Min     1Q Median     3Q    Max \n-5.986 -1.893 -0.363  2.002  6.413 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)   -3.865      0.417   -9.27  3.5e-12 ***\nx1             2.901      0.453    6.41  6.4e-08 ***\nx2            -1.932      0.414   -4.67  2.6e-05 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 2.83 on 47 degrees of freedom\nMultiple R-squared:  0.612, Adjusted R-squared:  0.595 \nF-statistic:   37 on 2 and 47 DF,  p-value: 2.23e-10\n\n\n¬†\n‚Ä¶ graficar los tama√±os de efecto:\n\n\nC√≥digo\nci_df &lt;- data.frame(param = names(xy_mod_multp$coefficients), \n                    est = xy_mod_multp$coefficients, confint(xy_mod_multp))\n\nggplot(ci_df, aes(x=param, y=est)) + \n  geom_hline(yintercept = 0, color=\"red\", lty = 2) +\n  geom_pointrange(aes(ymin = X2.5.., ymax = X97.5..)) + \n  labs(x = \"Par√°metro\", y = \"Tama√±o de efecto\") + \n  coord_flip()\n\n\n\n\n\n¬†\n‚Ä¶ y los gr√°ficos diagn√≥sticos:\n\n\nC√≥digo\nplot_model(xy_mod_multp, type = \"diag\")\n\n\n[[1]]\n\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n\n[[2]]\n\n\n\n\n\n\n[[3]]\n\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n¬†\n\n¬†\n\nInterpretaci√≥n del modelo\n\n¬†\nCuadro con los coeficientes (estimados):\n\n\n            Estimate Std. Error t value   Pr(&gt;|t|)\n(Intercept)  -3.8652    0.41695 -9.2702 3.4856e-12\nx1            2.9015    0.45260  6.4108 6.4137e-08\nx2           -1.9324    0.41422 -4.6650 2.5851e-05\n\n\n\nEl modelo encontr√≥ que \\(\\beta_1\\) (el tama√±o de efecto de ‚Äòx1‚Äô) es 2.9015 y que es significativamente diferente de 0 (p = 6.41368^{-8}). Este es el efecto de ‚Äòx1‚Äô sobre ‚Äòy‚Äô una vez removida la variaci√≥n explicada por ‚Äòx2‚Äô.\nTambi√©n se encontr√≥ que el \\(\\beta_2\\) (el tama√±o de efecto de ‚Äòx2‚Äô) es -1.93235 y que tambi√©n es significativamente diferente de 0 (p = 2.58513^{-5}). Este es el efecto de ‚Äòx2‚Äô sobre ‚Äòy‚Äô una vez removida la variaci√≥n explicada por ‚Äòx1‚Äô.\nLos valores simulados de los par√°metros de regresi√≥n pueden compararse con el resumen del modelo lm() para tener una idea de la precisi√≥n del modelo:\n\n\\(\\beta_1\\) se fij√≥ en 3 y se estim√≥ como 2.901.\n\\(\\beta_2\\) (el tama√±o de efecto de ‚Äòx2‚Äô) se fij√≥ en -2 y se estim√≥ como -1.932.\n\n\n\n¬†\n\n\nCaso de estudio\n\n¬†\n\nAraya-Salas M, P Gonz√°lez-G√≥mez, K Wojczulanis-Jakubas, V L√≥pez III & T Wright. 2018. Spatial memory is as important as weapon and body size for territorial ownership in a lekking hummingbird. Scientific Reports. 13, e0189969\n\n‚ÄúLa memoria espacial, el tama√±o corporal y el largo de la punta del pico ‚Ä¶ predijeron positivamente la probabilidad de adquirir y defender un territorio.‚Äù\n\n\n\n\n\n\n\n\n\n¬†\n\n¬†\nHay un punto importante que es necesario enfatizar aqu√≠: la regresi√≥n m√∫ltiple estima el efecto de un predictor despu√©s de tener en cuenta el efecto de los dem√°s predictores del modelo. En otras palabras, los nuevos predictores del modelo tratar√°n de explicar la variaci√≥n de los datos que no fue explicada por los otros predictores. As√≠ que el resultado de la regresi√≥n m√∫ltiple no es equivalente a los resultados de las regresiones lineales simples sobre los mismos predictores. Esto puede demostrarse f√°cilmente corriendo esas regresiones:\n\n\nC√≥digo\n# construir modelos\nx1y_mod &lt;- lm(formula = y ~ x1, data = xy_datos)\nx2y_mod &lt;- lm(formula = y ~ x2, data = xy_datos)\n\n# atajo a los coeficientes\ncoef(xy_mod)\n\n\n(Intercept)          x1 \n   0.039774   -0.036679 \n\n\nC√≥digo\ncoef(x1y_mod)\n\n\n(Intercept)          x1 \n   0.039774   -0.036679 \n\n\nC√≥digo\ncoef(x2y_mod)\n\n\n(Intercept)          x2 \n   0.041320    0.027239 \n\n\n¬†\nLas estimaciones de las mismas variables var√≠an considerablemente entre la regresi√≥n m√∫ltiple y las regresiones de un solo predictor.\nEste punto se demuestra adem√°s por el hecho de que, si uno de los predictores no tiene ninguna influencia en la respuesta, el efecto del predictor adicional converger√° a su efecto en una regresi√≥n lineal simple. Para simular este escenario, fijamos b2 en 0:\n\n\nC√≥digo\n# definir semilla\nset.seed(123)\n\n# numero de observaciones\nn &lt;- 50\nb0 &lt;- -4\nb1 &lt;- 3\nb2 &lt;- 0\nerror &lt;- rnorm(n = n, mean = 0, sd = 1)\n\n#  variables aleatorias\nx1 &lt;-  rnorm(n = n, mean = 0, sd = 1)\nx2 &lt;-  rnorm(n = n, mean = 0, sd = 1)\ny &lt;- b0 + b1 * x1 + b2 * x2 + error\n\n# crear data frame\nxy_datos &lt;- data.frame(x1, x2, y)\n\n# construir modelos\nxy_mod &lt;- lm(formula = y ~ x1 + x2, data = xy_datos)\nx1y_mod &lt;- lm(formula = y ~ x1, data = xy_datos)\n\n# shortcut to coefficients\ncoef(xy_mod)\n\n\n(Intercept)          x1          x2 \n  -3.955064    2.967166    0.022549 \n\n\nC√≥digo\ncoef(x1y_mod)\n\n\n(Intercept)          x1 \n    -3.9602      2.9633 \n\n\nEl estimado de \\(\\beta_1\\) fue casi el mismo en la regresi√≥n m√∫ltiple (2.96717) y en la regresi√≥n de un solo predictor (2.96332)\nPor comodidad, hemos utilizado coef() para extraer s√≥lo los estimado de la regresi√≥n, pero los valores son los mismos que obtenemos con summary(model).\n¬†\n\nEjercicio 5\n¬†\nLa siguiente simulaci√≥n genera un par de predictores continuos altamente colineales:\n\n\nC√≥digo\n# definir semilla\nset.seed(123)\n\n# numero de observaciones\nn &lt;- 30\nb0 &lt;- -4\nb1 &lt;- 3\nb2 &lt;- -2\nerror &lt;- rnorm(n = n, mean = 0, sd = 1)\n\n#  variables aleatorias colineales\nx1 &lt;-  rnorm(n = n, mean = 0, sd = 1)\nx2 &lt;-  x1 + rnorm(n = n, mean = 0, sd = 0.2) # hacer x2 colineal con x1\ny &lt;- b0 + b1 * x1 + b2 * x2 + error\n\n# crear data frame\nxy_datos &lt;- data.frame(x1, x2, y)\n\ncor(x1, x2)\n\n\n[1] 0.97812\n\n\n\n\nC√≥digo\n# graficar\nggplot(data = xy_datos, aes(x = x1, y = x2)) +\n    geom_point(size = 3) +\n\n\n\n\n\n\n\n\nConstruya un modelo lineal multiple (con lm()) con ‚Äòy‚Äô como respuesta y ‚Äòx1‚Äô y ‚Äòx2‚Äô como predictores\nCompare los betas estimados por el modelo con los usados para generar los datos. ¬øEs una buena estimaci√≥n?. Tambi√©n observe los valores de p.¬†¬øEsperar√≠a que fueran significativos?"
  },
  {
    "objectID": "modelos_de_regresion.html#a√±adir-un-predictor-categ√≥rico",
    "href": "modelos_de_regresion.html#a√±adir-un-predictor-categ√≥rico",
    "title": "Modelos de regresi√≥n",
    "section": "6.5 A√±adir un predictor categ√≥rico",
    "text": "6.5 A√±adir un predictor categ√≥rico\nPara los predictores categ√≥ricos podemos crear primero una variable binaria (0, 1) y luego a√±adir etiquetas a cada valor:\n\n\nC√≥digo\n# definir semilla\nset.seed(13)\n\n# numero de observaciones\nn &lt;- 50\nb0 &lt;- -3\nb1 &lt;- 2\nerror &lt;- rnorm(n = n, mean = 0, sd = 3)\n\n#  variables aleatorias\nx1_num &lt;- sample(0:1, size = n, replace = TRUE)\ny &lt;- b0 + b1 * x1_num + error\n\nx1 &lt;- factor(x1_num, labels = c(\"a\", \"b\"))\n\n# crear data frame\nxy_datos_cat &lt;- data.frame(x1, x1_num, y)\n\nhead(xy_datos_cat)\n\n\n\n\n\n\nx1\nx1_num\ny\n\n\n\n\nb\n1\n0.66298\n\n\na\n0\n-3.84082\n\n\na\n0\n2.32549\n\n\nb\n1\n-0.43804\n\n\na\n0\n0.42758\n\n\na\n0\n-1.75342\n\n\n\n\n\n\n¬†\nY as√≠ es como se escribe formalmente:\n\n\\(\\hat{Y} \\sim \\beta_{o} + \\beta_{1} * x_{1}\\)\n\n¬†\nLo mismo que con los predictores continuos.\nPodemos explorar el patr√≥n de los datos utilizando un diagrama de cajas (boxplot):\n\n\nC√≥digo\n# graficar\nggplot(xy_datos_cat, aes(x = x1, y = y)) + \n  geom_boxplot()\n\n\n\n\n\n¬†\n‚Ä¶ y obtener los estimados del modelo:\n\n\nC√≥digo\n# construir modelos\nxy_mod_cat &lt;- lm(formula = y ~ x1, data = xy_datos_cat)\n\nsummary(xy_mod_cat)\n\n\n\nCall:\nlm(formula = y ~ x1, data = xy_datos_cat)\n\nResiduals:\n   Min     1Q Median     3Q    Max \n-5.898 -1.909 -0.094  1.809  5.506 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)   -2.997      0.558   -5.37  2.3e-06 ***\nx1b            1.814      0.842    2.16    0.036 *  \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 2.95 on 48 degrees of freedom\nMultiple R-squared:  0.0882,    Adjusted R-squared:  0.0693 \nF-statistic: 4.65 on 1 and 48 DF,  p-value: 0.0362\n\n\n¬†\n‚Ä¶ graficar los tama√±os de efecto:\n\n\nC√≥digo\nci_df &lt;- data.frame(param = names(xy_mod_cat$coefficients), \n                    est = xy_mod_cat$coefficients, confint(xy_mod_cat))\n\nggplot(ci_df, aes(x=param, y=est)) + \n  geom_hline(yintercept = 0, color=\"red\", lty = 2) +\n  geom_pointrange(aes(ymin = X2.5.., ymax = X97.5..)) + \n  labs(x = \"Par√°metro\", y = \"Tama√±o de efecto\") + \n  coord_flip()\n\n\n\n\n\n¬†\n‚Ä¶ y los gr√°ficos diagn√≥sticos del modelo:\n\n\nC√≥digo\nplot_model(xy_mod_cat, type = \"diag\")[[2]]\n\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n¬†\n\n¬†\n\nInterpretaci√≥n del modelo\n\n¬†\nCuadro con los coeficientes (estimados):\n\n\n            Estimate Std. Error t value   Pr(&gt;|t|)\n(Intercept)  -2.9974    0.55825 -5.3693 2.2677e-06\nx1b           1.8140    0.84160  2.1554 3.6172e-02\n\n\n\nEl modelo encontr√≥ que \\(\\beta_1\\) (el tama√±o de efecto de ‚Äòx1‚Äô) es 1.814 y que es significativamente diferente de 0 (p = 0.03617)\nLos valores simulados de los par√°metros de regresi√≥n pueden compararse con el resumen del modelo lm() para tener una idea de la precisi√≥n del modelo:\n\n\\(\\beta_1\\) se fij√≥ en 2 y se estim√≥ como 1.814.\n\nTenga en cuenta que en este caso el intercepto se refiere a la estimaci√≥n del nivel ‚Äòa‚Äô en el predictor categ√≥rico, que se utiliz√≥ como base:\n\n\n\nC√≥digo\n# graficar\nggplot(xy_datos_cat, aes(x = x1, y = y)) + \n  geom_boxplot() +\ngeom_hline(yintercept = xy_mod_cat$coefficients[1], col = \"blue\")\n\n\n\n\n\n\n\n\nPor lo tanto, el intercepto es el mismo que la media de y para la categor√≠a ‚Äòa‚Äô:\n\n\n\nC√≥digo\nmean(xy_datos_cat$y[xy_datos_cat$x1 == \"a\"])\n\n\n[1] -2.9974\n\n\n\nObserve tambi√©n que la etiqueta del estimado es ‚Äòx1b‚Äô, no ‚Äòx1‚Äô como en los predictores continuos. Esto se debe a que en este caso el estimado se refiere a la diferencia entre los dos niveles de la variable categ√≥rica (‚Äòa‚Äô y ‚Äòb‚Äô). M√°s concretamente, nos dice que en promedio las observaciones de la categor√≠a ‚Äòb‚Äô son 1.814 m√°s altas que las observaciones de la categor√≠a ‚Äòa‚Äô.\n\n¬†\n\n¬†\n\n\nCaso de estudio\n\n¬†\n\nRico-Guevara A, & M Araya-Salas. 2015. Bills as daggers? A test for sexually dimorphic weapons in a lekking hummingbird species. Behavioral Ecology. 26 (1): 21-29.\n\n‚ÄúLos machos con puntas de pico m√°s grandes y puntiagudas tuvieron m√°s √©xito en ganar control de territorios en el lek.‚Äù\n\n\n\n\n\n\n\n\n\n¬†\n\n¬†\n\nEjercicio 6\n¬†\n\nLos datos desbalanceados cuando hay categor√≠as (es decir, algunas categor√≠as tienen muchas m√°s observaciones que otras) pueden ser problem√°ticos para la inferencia estad√≠stica. Modifique el c√≥digo arriba para simular un juego de datos muy desbalanceado y compruebe la precisi√≥n del modelo.\n\n\n\n\n\n\nVariables indicadoras (Dummy variables)\n\n\nEn un modelo de regresi√≥n, los predictores categ√≥ricos tambi√©n se representan como vectores num√©ricos. M√°s concretamente, los predictores categ√≥ricos se codifican como 0s y 1s, en los que 1 significa ‚Äúpertenece a la misma categor√≠a‚Äù y 0 ‚Äúpertenece a una categor√≠a diferente‚Äù. Mantuvimos el vector num√©rico original (‚Äòx1_num‚Äô) al simular el juego de datos con el predictor categ√≥rico:\n\n\nC√≥digo\nhead(xy_datos_cat)\n\n\n\n\n\n\nx1\nx1_num\ny\n\n\n\n\nb\n1\n0.66298\n\n\na\n0\n-3.84082\n\n\na\n0\n2.32549\n\n\nb\n1\n-0.43804\n\n\na\n0\n0.42758\n\n\na\n0\n-1.75342\n\n\n\n\n\n\nObserve que las ‚Äúb‚Äù de la columna ‚Äúx1‚Äù se convierten en 1 en la columna ‚Äúx1_num‚Äù y las ‚Äúa‚Äù se convierten en 0. Esto se denomina variable indicadora y el proceso se conoce como ‚Äòcodificaci√≥n indicadora‚Äô (dummy coding).\nEn realidad, podemos utilizar el vector num√©rico en el modelo de regresi√≥n y obtener exactamente los mismos resultados:\n\n\nC√≥digo\n# summary model with categorical variable\nsummary(xy_mod_cat)$coefficients\n\n\n            Estimate Std. Error t value   Pr(&gt;|t|)\n(Intercept)  -2.9974    0.55825 -5.3693 2.2677e-06\nx1b           1.8140    0.84160  2.1554 3.6172e-02\n\n\nC√≥digo\n# construir modelos with dummy variable\nxy_mod_num &lt;- lm(formula = y ~ x1_num, data = xy_datos_cat)\n\n# summary with dummy coding\nsummary(xy_mod_num)$coefficients\n\n\n            Estimate Std. Error t value   Pr(&gt;|t|)\n(Intercept)  -2.9974    0.55825 -5.3693 2.2677e-06\nx1_num        1.8140    0.84160  2.1554 3.6172e-02\n\n\n¬†\nLas cosas se complican un poco m√°s cuando se codifica un predictor categ√≥rico con m√°s de dos niveles. Pero la l√≥gica es la misma."
  },
  {
    "objectID": "modelos_de_regresion.html#interacciones",
    "href": "modelos_de_regresion.html#interacciones",
    "title": "Modelos de regresi√≥n",
    "section": "6.6 Interacciones",
    "text": "6.6 Interacciones\nUna interacci√≥n estad√≠stica se refiere a un efecto de una variable predictora que est√° mediado por una segunda variable.\n\n\\(\\hat{Y} \\sim \\beta_{o} + \\beta_{1} * x_{1} + \\beta_{2} * x_{2} + \\beta_{3} * x_{1} * x_{2}\\)\n\n¬†\nEsto es m√°s f√°cil de entender si se observa la interacci√≥n de una variable continua y una binaria:\n\n\nC√≥digo\n# definir semilla\nset.seed(123)\n\n# numero de observaciones\nn &lt;- 50\nb0 &lt;- -4\nb1 &lt;- 3\nb2 &lt;- 1.7\nb3 &lt;- -3\nerror &lt;- rnorm(n = n, mean = 0, sd = 3)\n\n#  variables aleatorias\nx1 &lt;- rbinom(n = n, size = 1, prob = 0.5)\nx2 &lt;-  rnorm(n = n, mean = 0, sd = 1)\n\n# interaccion se a√±ade como el producto dex1 y x2\ny &lt;- b0 + b1 * x1 + b2 * x2 + b3 * x1 * x2 + error\n\nx1 &lt;- factor(x1, labels = c(\"a\", \"b\"))\n\n# crear data frame\nxy_datos_intr &lt;- data.frame(x1, x2, y)\n\nhead(xy_datos_intr)\n\n\n\n\n\n\nx1\nx2\ny\n\n\n\n\nb\n1.02557\n-4.0147\n\n\na\n-0.28477\n-5.1746\n\n\na\n-1.22072\n-1.3991\n\n\nb\n0.18130\n-1.0242\n\n\na\n-0.13889\n-3.8483\n\n\nb\n0.00576\n4.1377\n\n\n\n\n\n\nC√≥digo\n# construir modelos\nxy_mod_intr &lt;- lm(formula = y ~ x1 + x2 + x1 * x2, data = xy_datos_intr)\n\n# guardar resumen para graficar lineas de mejor ajuste\nxy_summ_intr &lt;- summary(xy_mod_intr)\n\nxy_summ_intr\n\n\n\nCall:\nlm(formula = y ~ x1 + x2 + x1 * x2, data = xy_datos_intr)\n\nResiduals:\n   Min     1Q Median     3Q    Max \n-6.222 -1.664 -0.158  1.650  6.383 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)   -4.193      0.570   -7.35  2.7e-09 ***\nx1b            3.597      0.806    4.46  5.2e-05 ***\nx2             1.327      0.682    1.95   0.0576 .  \nx1b:x2        -2.972      0.962   -3.09   0.0034 ** \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 2.83 on 46 degrees of freedom\nMultiple R-squared:  0.396, Adjusted R-squared:  0.357 \nF-statistic:   10 on 3 and 46 DF,  p-value: 3.29e-05\n\n\nTambi√©n ayuda graficar los datos:\n\n\nC√≥digo\n# graficar\nggplot(data = xy_datos_intr, aes(x = x2, y = y, color = x1)) +\n    geom_point(size = 3) +\n    geom_smooth(method = \"lm\", se = FALSE)\n\n\n\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n¬†\n‚Ä¶ y los tama√±os de efecto:\n\n\nC√≥digo\nci_df &lt;- data.frame(param = names(xy_mod_intr$coefficients), \n                    est = xy_mod_intr$coefficients, confint(xy_mod_intr))\n\nggplot(ci_df, aes(x=param, y=est)) + \n  geom_hline(yintercept = 0, color=\"red\", lty = 2) +\n  geom_pointrange(aes(ymin = X2.5.., ymax = X97.5..)) + \n  labs(x = \"Par√°metro\", y = \"Tama√±o de efecto\") + \n  coord_flip()\n\n\n\n\n\n¬†\nTambi√©n deber√≠amos revisar los gr√°ficos de diagn√≥stico:\n\n\nC√≥digo\nplot_model(xy_mod_intr, type = \"diag\")\n\n\n[[1]]\n\n\n\n\n\n\n[[2]]\n\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n\n[[3]]\n\n\n\n\n\n\n[[4]]\n\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n¬†\n\n¬†\n\nInterpretaci√≥n del modelo\n\n¬†\nCuadro con los coeficientes:\n\n\n            Estimate Std. Error t value   Pr(&gt;|t|)\n(Intercept)  -4.1930    0.57023 -7.3532 2.6978e-09\nx1b           3.5974    0.80607  4.4629 5.1950e-05\nx2            1.3274    0.68161  1.9474 5.7610e-02\nx1b:x2       -2.9720    0.96227 -3.0885 3.4061e-03\n\n\n\nEl modelo encontr√≥ que \\(\\beta_1\\) (el tama√±o de efecto de ‚Äòx1-b‚Äô a ‚Äòx1-a‚Äô) es 3.59741 y que es significativamente diferente de 0 (valor p = 5.19496^{-5})\nEl modelo encontr√≥ que \\(\\beta_2\\) (el tama√±o de efecto de ‚Äòx2‚Äô) es 1.32735 y que es significativamente diferente de 0 (p = 0.05761). Esto es en realidad la pendiente de la relaci√≥n entre x2 e y cuando x1 = `a‚Äô\nEl modelo encontr√≥ que \\(\\beta_3\\) (el tama√±o de efecto del t√©rmino de interacci√≥n ‚Äòx1 * x2‚Äô) es -2.97196 y que es significativamente diferente de 0 (p = 0.00341). Esta es la diferencia entre las pendientes de x2 vs y cuando x1 = ‚Äòa‚Äô y x2 vs y cuando x1 = ‚Äòb‚Äô.\nLos valores simulados para los par√°metros de regresi√≥n pueden compararse con el resumen del modelo lm() para tener una idea de la precisi√≥n del modelo:\n\n\\(\\beta_1\\) se simul√≥ con un valor de 3 y se estim√≥ en 3.597\n\\(\\beta_2\\) se simul√≥ con un valor de 1.7 y se estim√≥ en 1.327\n\\(\\beta_3\\) se simul√≥ con un valor de -3 y se estim√≥ en -2.972\n\n\n\n\n¬†\n\n\nCaso de estudio\n\n¬†\n\nChirino F, B Wilink, Araya-Salas M. In prep. Climatic factors affecting vocal activity in lemur leaf frogs.\n\n‚ÄúEl aumento de la luz de la luna disminuye la actividad vocal de Agalychnis lemur aunque esta relaci√≥n es mediada por la temperatura.‚Äù\n\n\n\n\n\n\n\n\n\n¬†\n\n¬†\n\nEjercicio 7\n¬†\n\nModifique el c√≥digo usado para simular un √∫nico predictor asociado aumentando gradualmente el error. Esto se hace aumentando el argumento ‚Äòsd‚Äô en error &lt;- rnorm(n = n, sd = 2).\nMire c√≥mo los errores m√°s grandes afectan la inferencia (debe volver a correr los modelos)\n\n\nAhora reemplace el t√©rmino de error con error &lt;- rexp(n = n, rate = 0.2). Esto crea un error con una distribuci√≥n exponencial (por lo tanto no normal). Se supone que esto es problem√°tico para el poder inferencial de estos modelos. Compare las estimaciones que obtuvo con los valores de la simulaci√≥n (‚Äòb0‚Äô y ‚Äòb1‚Äô). Explore la distribuci√≥n de los residuos (plot(nombre_del_modelo)) para los modelos de error ‚Äònormal‚Äô y ‚Äòexponencial‚Äô.\n\n\nSe supone que la colinealidad (la presencia de predictores correlacionados) afecta a la estabilidad de la regresi√≥n m√∫ltiple. El siguiente c√≥digo crea dos predictores altamente colineales (‚Äòx1‚Äô y ‚Äòx2‚Äô). La √∫ltima l√≠nea de c√≥digo muestra la correlaci√≥n entre ellos.\n\n\n\nC√≥digo\n# definir semilla\nset.seed(123)\n\n# numero de observaciones\nn &lt;- 50\nb0 &lt;- -4\nb1 &lt;- 3\nb2 &lt;- -2\nerror &lt;- rnorm(n = n, mean = 0, sd = 1)\n\n#  variables aleatorias\nx1 &lt;-  rnorm(n = n, mean = 0, sd = 1)\n\n# hacer x2 muy parecido a x1\nx2 &lt;- x1 + rnorm(n = n, mean = 0, sd = 0.3)\n\ncor(x1, x2)\n\n\n[1] 0.94642\n\n\n\nConstruya un modelo de regresi√≥n m√∫ltiple para estos datos (y ~ x1 + x2). Puede utilizar el mismo c√≥digo que en la secci√≥n A√±adir m√°s de un predictor: regresi√≥n m√∫ltiple.\n¬øC√≥mo afecta a la inferencia la presencia de predictores colineales? Realice los gr√°ficos de diagn√≥stico para este modelo (plot(nombre_del_modelo)).\nSimule un juego de datos con tres predictores en los que s√≥lo dos de ellos son altamente colineales. Ajuste un modelo de regresi√≥n m√∫ltiple (y ~ x1 + x2 + x3) para esos datos y observe c√≥mo la colinealidad afecta a la estimaci√≥n del predictor no colineal."
  },
  {
    "objectID": "modelos_de_regresion.html#modelos-lineales-generalizados-glm",
    "href": "modelos_de_regresion.html#modelos-lineales-generalizados-glm",
    "title": "Modelos de regresi√≥n",
    "section": "7.1 Modelos lineales generalizados (GLM)",
    "text": "7.1 Modelos lineales generalizados (GLM)\nLos GLM nos permiten modelar la asociaci√≥n a variables respuesta que no siguen una distribuci√≥n normal. Adem√°s, permiten modelar distribuciones que se asemejan m√°s al proceso que gener√≥ los datos. El siguiente c√≥digo crea un juego de datos con una respuesta que representa cuentas (por lo tanto, no normal):\n\n\nC√≥digo\n# definir semilla\nset.seed(1234)\n\n# numero de muestas\nn &lt;- 50\n\n# coeficientes\nb0 &lt;- 1.2\nb1 &lt;- 1.3\nb2 &lt;- 0\n\n\n#generar variables\ny &lt;- rpois(n = n, lambda = 6.5) # lambda = tasa promedio de exitos \nx2 &lt;- seq(-0.5, 0.5, , length(y))\nx1 &lt;- (log(y) - b0 - b2 * x2) / b1\n\n# crear data frame\nxy_datos_pois &lt;- data.frame(x1, x2, y)\n\nhead(xy_datos_pois)\n\n\n\n\n\n\nx1\nx2\ny\n\n\n\n\n0.14330\n-0.50000\n4\n\n\n0.57378\n-0.47959\n7\n\n\n0.57378\n-0.45918\n7\n\n\n0.57378\n-0.43878\n7\n\n\n0.76710\n-0.41837\n9\n\n\n0.57378\n-0.39796\n7\n\n\n\n\n\n\n¬†\nTambi√©n grafiquemos ‚Äòx1‚Äô vs ‚Äòy‚Äô:\n\n\nC√≥digo\n# graficar\nggplot(xy_datos_pois, aes(x = x1, y = y)) + \n  geom_point() \n\n\n\n\n\n¬†\nLa relaci√≥n no parece muy lineal ni la varianza parece ser constante a trav√©s de ‚Äòx1‚Äô.\nPodemos relajar el requisito de la distribuci√≥n normal con GLMs. glm() es una funci√≥n b√°sica de R que nos ayuda a hacer el truco. Para este ejemplo la distribuci√≥n m√°s apropiada es Poisson. Esto se puede establecer en el argumento `family‚Äô as√≠:\n\n\nC√≥digo\nglm_pois  &lt;- glm(formula = y ~ x1 + x2, data = xy_datos_pois, family = poisson())\n\n\n¬†\nQue es equivalente a esto:\n\n\\(\\hat{Y} \\sim_{poisson} \\beta_{o} + \\beta_{1} * x_{1} + \\beta_{2} * x_{2}\\)\n\n¬†\nComo puede ver el √∫nico argumento extra comparado con lm() es family. El resto es simplemente la ‚Äúf√≥rmula‚Äù y los ‚Äúdatos‚Äù con los que ya estamos familiarizados. As√≠ que, de nuevo, podemos aprovechar nuestros conocimientos sobre los modelos lineales para extenderlos a estructuras de datos m√°s complejas.\nTambi√©n necesitamos ejecutar summary() para obtener el resultado del modelo:\n\n\nC√≥digo\nsummary(glm_pois)\n\n\n\nCall:\nglm(formula = y ~ x1 + x2, family = poisson(), data = xy_datos_pois)\n\nDeviance Residuals: \n      Min         1Q     Median         3Q        Max  \n-1.49e-08  -1.49e-08   0.00e+00   0.00e+00   2.98e-08  \n\nCoefficients:\n            Estimate Std. Error z value Pr(&gt;|z|)    \n(Intercept) 1.20e+00   1.29e-01    9.31  &lt; 2e-16 ***\nx1          1.30e+00   2.20e-01    5.92  3.2e-09 ***\nx2          1.39e-16   1.90e-01    0.00        1    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for poisson family taken to be 1)\n\n    Null deviance: 3.9471e+01  on 49  degrees of freedom\nResidual deviance: 2.2204e-16  on 47  degrees of freedom\nAIC: 186.9\n\nNumber of Fisher Scoring iterations: 3\n\n\n¬†\n¬†\n\n¬†\n\nInterpretaci√≥n del modelo\n\n¬†\nCuadro de los coeficientes (estimados):\n\n\n              Estimate Std. Error    z value   Pr(&gt;|z|)\n(Intercept) 1.2000e+00    0.12889 9.3106e+00 1.2709e-20\nx1          1.3000e+00    0.21960 5.9200e+00 3.2198e-09\nx2          1.3882e-16    0.19016 7.3003e-16 1.0000e+00\n\n\n\nEl modelo nos dice que \\(\\beta_1\\) (el tama√±o de efecto de ‚Äòx1‚Äô) es 1.3 y que es significativamente diferente de 0 (p = 3.21981^{-9}). Esto se interpreta en realidad como que un aumento de 1 unidad de ‚Äòx1‚Äô resulta en ‚Äòy‚Äô (tasa) en un factor de exp(1.3) = 3.6693.\nEl modelo tambi√©n nos dice que \\(\\beta_2\\) (el tama√±o de efecto de ‚Äòx2‚Äô) es 1.38824^{-16} y que es significativamente diferente de 0 (p = 1). Esto significa que un aumento en 1 unidad de ‚Äòx2‚Äô resulta en ‚Äòy‚Äô (tasa) en un factor de exp(1.38824^{-16}) = 1.\n\n\n¬†\n\n\nCaso de estudio\n\n¬†\n\nTopp, E. N., Tscharntke, T., & Loos, J. (2022). Fire and landscape context shape plant and butterfly diversity in a South African shrubland. Diversity and Distributions, 28(3), 357-371.\n\n‚ÄúLa riqueza de especies de mariposas es de tres a cuatro veces mayor cuando aumenta el h√°bitat natural en el paisaje circundante (en un radio de 2 km), mientras que la abundancia de mariposas se asociaba negativamente con el aumento del tiempo transcurrido desde el √∫ltimo incendio.‚Äù\n\n\n\n\n\n\n\n\n\n¬†\n\n¬†\n\nEjercicio 8\n¬†\n\nIntente correr un modelo lm() (con una distribuci√≥n gaussiana), compare los resultados y compruebe los residuos (plot_model(model_name, type = \"diag\"))\n\n\n¬†\nExisten muchas otras funciones de distribuci√≥n y enlace:"
  },
  {
    "objectID": "modelos_de_regresion.html#modelos-de-efectos-variables-modelos-mixtos",
    "href": "modelos_de_regresion.html#modelos-de-efectos-variables-modelos-mixtos",
    "title": "Modelos de regresi√≥n",
    "section": "7.2 Modelos de efectos variables (modelos mixtos)",
    "text": "7.2 Modelos de efectos variables (modelos mixtos)\nA veces nuestros conjuntos de datos incluyen estructuras con varios niveles de organizaci√≥n. Por ejemplo, cuando tomamos muestras de varios individuos de diferentes poblaciones. En esos casos, la variaci√≥n en el nivel estructural superior (poblaciones) podr√≠a impedir la detecci√≥n de patrones en el nivel inferior (individuos).\nVamos a simular algunos datos que se asemejan a ese escenario. Tenemos dos predictores continuos (x1) y una respuesta continua (y). Cada muestra procede de 1 de 8 poblaciones diferentes (poblacion):\n\n\nC√≥digo\n# x&lt;- 1\n# definir semilla\nset.seed(28)\n\n# numero de observaciones\nn &lt;- 300\nb0 &lt;- 1\nb1 &lt;- 1.3\npoblacion &lt;- sample(0:8, size = n, replace = TRUE)\nerror &lt;- rnorm(n = n, mean = 0, sd = 2)\n\n#  variables aleatorias\nx1 &lt;-  rnorm(n = n, mean = 0, sd = 1)\ny &lt;- b0 + poblacion * 2 + b1 * x1 + error\n\n# add letters\npoblacion &lt;- letters[poblacion + 1]\n\n# create data set\nxy_datos_mixto &lt;- data.frame(x1, y, poblacion)\n\nhead(xy_datos_mixto, 10)\n\n\n\n\n\n\nx1\ny\npoblacion\n\n\n\n\n1.54607\n3.3378\na\n\n\n0.56834\n3.1399\na\n\n\n-0.63855\n15.2824\ni\n\n\n0.98424\n2.6610\na\n\n\n1.05355\n3.7312\nb\n\n\n-0.82294\n3.0189\na\n\n\n-1.32373\n3.2186\nc\n\n\n2.17854\n19.0542\ni\n\n\n2.26484\n15.4549\ni\n\n\n-0.77843\n11.6670\nh\n\n\n\n\n\n\n¬†\nPodemos explorar la relaci√≥n entre ‚Äòy‚Äô y ‚Äòx1‚Äô con un gr√°fico:\n\n\nC√≥digo\nggplot(data = xy_datos_mixto, aes(x = x1, y = y)) + \n  geom_point()\n\n\n\n\n\n¬†\n¬øPuede ver claramente el patr√≥n de asociaci√≥n entre las dos variables que hemos utilizado para simular los datos? Podemos seguir explorando los datos con un modelo de regresi√≥n lineal simple:\n\n\nC√≥digo\nsummary(lm(y ~ x1, data = xy_datos_mixto))\n\n\n\nCall:\nlm(formula = y ~ x1, data = xy_datos_mixto)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-11.755  -5.119   0.186   4.602  12.409 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)    8.852      0.325   27.21   &lt;2e-16 ***\nx1             0.633      0.329    1.92    0.055 .  \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 5.63 on 298 degrees of freedom\nMultiple R-squared:  0.0123,    Adjusted R-squared:  0.00895 \nF-statistic:  3.7 on 1 and 298 DF,  p-value: 0.0554\n\n\n¬†\nA pesar de haber simulado un \\(\\beta_1\\) distinto de cero, no tenemos ninguna asociaci√≥n significativa seg√∫n este modelo y la estimaci√≥n de \\(\\beta_1\\) est√° muy lejos de la simulada. Esta pobre inferencia se debe a que estamos ignorando una caracter√≠stica importante de nuestros datos, la agrupaci√≥n de las muestras en ‚Äúpoblaciones‚Äù.\nLos modelos de efectos mixtos (tambi√©n conocidos como modelos multinivel o modelos de efectos variables) pueden ayudarnos a tener en cuenta estas caracter√≠sticas adicionales, mejorando significativamente nuestro poder de inferencia. Coloreemos cada una de las poblaciones para ver c√≥mo covar√≠an las variables en cada subgrupo de datos:\n\n\nC√≥digo\nggplot(data = xy_datos_mixto, aes(x = x1, y = y, color = poblacion)) + \n  geom_point()\n\n\n\n\n\n¬†\nParece haber un patr√≥n claro de asociaci√≥n positiva entre x1 e y. El patr√≥n se hace un poco m√°s evidente si mostramos cada poblaci√≥n en su propio panel:\n\n\nC√≥digo\nggplot(data = xy_datos_mixto, aes(x = x1, y = y, color = poblacion)) +\n  geom_point() +\n  facet_wrap( ~ poblacion) +\n  geom_smooth(method = \"lm\", se = FALSE) \n\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n¬†\nConstruyamos un modelo de efectos mixtos utilizando la poblaci√≥n como intercepto variable:\n\n\nC√≥digo\nmix_eff_mod &lt;- lmer(formula = y ~ x1 + (1 | poblacion), data = xy_datos_mixto)\n\n\nQue es equivalente a esto:\n\n\\(\\hat{Y} \\sim_{gausiana} (\\beta_{o} + \\beta_{grupo}) + \\beta_{1} * x_{1}\\)\n\n¬†\nPodemos ver el resultado del modelo igual que con un modelo lm():\n\n\nC√≥digo\nsummary(mix_eff_mod)\n\n\nLinear mixed model fit by REML. t-tests use Satterthwaite's method [\nlmerModLmerTest]\nFormula: y ~ x1 + (1 | poblacion)\n   Data: xy_datos_mixto\n\nREML criterion at convergence: 1296.4\n\nScaled residuals: \n   Min     1Q Median     3Q    Max \n-3.524 -0.657 -0.032  0.612  3.245 \n\nRandom effects:\n Groups    Name        Variance Std.Dev.\n poblacion (Intercept) 30.07    5.48    \n Residual               3.76    1.94    \nNumber of obs: 300, groups:  poblacion, 9\n\nFixed effects:\n            Estimate Std. Error      df t value Pr(&gt;|t|)    \n(Intercept)    8.788      1.831   8.003     4.8   0.0014 ** \nx1             1.317      0.115 290.068    11.4   &lt;2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nCorrelation of Fixed Effects:\n   (Intr)\nx1 -0.003\n\n\n¬†\nEl modelo detect√≥ correctamente el patr√≥n simulado y la estimaci√≥n de \\(\\beta_1\\) (1.317) es muy cercana al valor simulado.\n¬†\n\n\nCaso de estudio\n\n¬†\n\nAraya-Salas M, P Gonz√°lez-G√≥mez, K Wojczulanis-Jakubas, V L√≥pez III & T Wright. 2018. Spatial memory is as important as weapon and body size for territorial ownership in a lekking hummingbird. Scientific Reports. 13, e0189969\n\n‚Äú‚Ä¶ el tama√±o corporal mostr√≥ una correlaci√≥n negativa con la frecuencia baja del canto.‚Äù\n\n\n\n\n\n\n\n\n\n¬†\n\n¬†\n\n¬†\n\nInterpretaci√≥n del modelo\n\n¬†\nCuadro con los coeficientes (estimados):\n\n\n            Estimate Std. Error       df t value   Pr(&gt;|t|)\n(Intercept)   8.7881     1.8315   8.0031  4.7983 1.3569e-03\nx1            1.3166     0.1151 290.0679 11.4395 2.9326e-25\n\n\n¬†\n\nEl modelo encontr√≥ que \\(\\beta_1\\) (el tama√±o de efecto de ‚Äòx1‚Äô) es 1.31665 y que es significativamente diferente de 0 (p = 2.93263^{-25})\nLos valores simulados de los par√°metros de regresi√≥n pueden compararse con el resumen del modelo lmer() para tener una idea de la precisi√≥n del modelo:\n\n\\(\\beta_1\\) se fij√≥ en 1.3 y se estim√≥ como 1.317.\n\nLa varianza del intercepto para cada poblaci√≥n fue de 29.95624 y la desviaci√≥n est√°ndar de 5.47323\nLos interceptos estimados para cada poblaci√≥n son:\n\n\n\nC√≥digo\nranef(mix_eff_mod)$poblacion\n\n\n\n\n\n\n\n(Intercept)\n\n\n\n\na\n-8.22835\n\n\nb\n-6.17134\n\n\nc\n-4.23048\n\n\nd\n-1.30838\n\n\ne\n0.24573\n\n\nf\n2.22552\n\n\ng\n3.91556\n\n\nh\n5.75609\n\n\ni\n7.79566\n\n\n\n\n\n\n¬†\n\nPodemos compararlos con los promedios para cada poblaci√≥n en los datos:\n\n\n\nC√≥digo\n# sumar interceptos por poblacion a el intercepto total\ninterceptos &lt;- ranef(mix_eff_mod)$poblacion + fixef(mix_eff_mod)[1]\n\n# calcular los promedios por poblacion en los datos \nprom_pobs &lt;- aggregate(y ~ poblacion, xy_datos_mixto, mean)\n\n# unir\ncbind(interceptos, prom_pobs= prom_pobs[,2])\n\n\n\n\n\n\n\n(Intercept)\nprom_pobs\n\n\n\n\na\n0.55975\n0.86151\n\n\nb\n2.61677\n2.76860\n\n\nc\n4.55762\n4.90112\n\n\nd\n7.47972\n7.73174\n\n\ne\n9.03384\n8.87649\n\n\nf\n11.01363\n10.77650\n\n\ng\n12.70366\n12.62651\n\n\nh\n14.54420\n14.62110\n\n\ni\n16.58376\n16.42520\n\n\n\n\n\n\n¬†\n\nLa varianza entre los niveles del factor aleatorio (poblacion) es de 29.95624 y la desviaci√≥n est√°ndar de 5.47323\n\n¬†\n\n¬†\n\n7.2.1 La paradoja de Simpson\nLa paradoja de Simpson es un fen√≥meno en estad√≠stica en el que una tendencia aparece en varios grupos de datos pero desaparece o se invierte cuando se combinan los grupos. Se ha utilizado para ilustrar el tipo de resultados enga√±osos que puede generar el ignorar la estructura en los datos y las relaciones causales entre variables.\n\n\n\n\n\n\n\n\n\nTomado de wikipedia\n¬†\nLa estructura de los datos debido a observaciones pertenecientes al mismo grupo puede ser tomada en cuenta usando el grupo como un factor aleatorio, tal y como se hizo en el ejemplo anterior.\n¬†\n\n\nModelos lineales como abordaje estad√≠stico est√°ndar \n\n\n\n\n\n\n\n\n\n\n\n\\(\\hat{Y} \\sim_{funci√≥n\\ de\\ enlace} (\\beta_{o} + \\beta_{grupo}) + \\beta_{1} * x_{1} + \\cdots + \\beta_{n} * x_{n}\\)\n\n\nEste modelo b√°sico incluye una funci√≥n de enlace que cuando es gausiana (i.e.¬†normal) equivale a un modelo lineal y cuando no, a un modelo generalizado\nCuando el \\(\\beta_{grupo}\\) es diferente entre grupos (i.e.¬†cuando el intercepto difiere entre grupos) es un modelo mixto con intercepto variable (i.e.¬†aleatorio)\n\n¬†\n\n¬†\nEste manual solo pretende sugerir un abordaje estad√≠stico centrado en los modelos de regresi√≥n desde el cual se pueden llevar a cabo adecuadamente la mayor√≠a de los an√°lisis estad√≠sticos que usamos en biolog√≠a. El manual no tiene como objetivo explicar en detalle las particularidades de los modelos generalizados y mixtos. Note que estos modelos, principalmente los mixtos, pueden adaptarse a otras estructuras de datos mas complejas no cubiertas aqu√≠, como lo son las pendientes aleatorias, pendientes e interceptos aleatorios, estructuras de correlaci√≥n (i.e.¬†autocorrelaci√≥n espacial o temporal, pedigr√≠s o √°rboles filogen√©ticos), medidas repetidas y el uso de pseudoreplicas, entre otras."
  },
  {
    "objectID": "modelos_de_regresion.html#referencias",
    "href": "modelos_de_regresion.html#referencias",
    "title": "Modelos de regresi√≥n",
    "section": "7.3 Referencias",
    "text": "7.3 Referencias\n\nRichard McElreath‚Äôs Statistical Rethinking book\nR‚Äôs rbinom ‚Äì Simulate Binomial or Bernoulli trials\nR‚Äôs rnorm ‚Äì selecting values from a normal distribution\nR‚Äôs exp ‚Äì Simulating Exponential Distributions\nSimulating data in R\n\n¬†\n\nInformaci√≥n de la sesi√≥n\n\n\nR version 4.1.2 (2021-11-01)\nPlatform: x86_64-pc-linux-gnu (64-bit)\nRunning under: Ubuntu 22.04.2 LTS\n\nMatrix products: default\nBLAS:   /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.10.0\nLAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.10.0\n\nlocale:\n [1] LC_CTYPE=es_CR.UTF-8       LC_NUMERIC=C              \n [3] LC_TIME=es_CR.UTF-8        LC_COLLATE=es_CR.UTF-8    \n [5] LC_MONETARY=es_CR.UTF-8    LC_MESSAGES=es_CR.UTF-8   \n [7] LC_PAPER=es_CR.UTF-8       LC_NAME=C                 \n [9] LC_ADDRESS=C               LC_TELEPHONE=C            \n[11] LC_MEASUREMENT=es_CR.UTF-8 LC_IDENTIFICATION=C       \n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nother attached packages:\n [1] car_3.1-2         carData_3.0-5     sjPlot_2.8.15     lmerTest_3.1-3   \n [5] lme4_1.1-35.1     Matrix_1.4-0      viridis_0.6.2     viridisLite_0.4.2\n [9] ggplot2_3.4.4     knitr_1.45       \n\nloaded via a namespace (and not attached):\n [1] tidyr_1.2.0         jsonlite_1.8.7      splines_4.1.2      \n [4] modelr_0.1.11       assertthat_0.2.1    yaml_2.3.7         \n [7] remotes_2.4.2.1     bayestestR_0.13.1   numDeriv_2016.8-1.1\n[10] pillar_1.9.0        backports_1.4.1     lattice_0.20-45    \n[13] glue_1.6.2          digest_0.6.33       minqa_1.2.4        \n[16] colorspace_2.1-0    sandwich_3.0-1      htmltools_0.5.7    \n[19] pkgconfig_2.0.3     broom_0.7.12        purrr_0.3.4        \n[22] xtable_1.8-4        mvtnorm_1.1-3       scales_1.2.1       \n[25] emmeans_1.8.9       tibble_3.2.1        mgcv_1.8-39        \n[28] farver_2.1.1        generics_0.1.2      sjlabelled_1.2.0   \n[31] sketchy_1.0.2       TH.data_1.1-0       withr_2.5.2        \n[34] cli_3.6.1           survival_3.2-13     magrittr_2.0.3     \n[37] crayon_1.5.2        estimability_1.4.1  evaluate_0.23      \n[40] fansi_1.0.5         nlme_3.1-155        MASS_7.3-55        \n[43] tools_4.1.2         lifecycle_1.0.4     multcomp_1.4-18    \n[46] munsell_0.5.0       ggeffects_1.3.2     packrat_0.9.2      \n[49] compiler_4.1.2      rlang_1.1.2         grid_4.1.2         \n[52] nloptr_2.0.0        rstudioapi_0.13     htmlwidgets_1.5.4  \n[55] labeling_0.4.3      rmarkdown_2.25      xaringanExtra_0.7.0\n[58] boot_1.3-28         gtable_0.3.4        codetools_0.2-18   \n[61] abind_1.4-5         sjstats_0.18.2      DBI_1.1.3          \n[64] sjmisc_2.8.9        R6_2.5.1            gridExtra_2.3      \n[67] zoo_1.8-9           dplyr_1.0.8         performance_0.8.0  \n[70] fastmap_1.1.1       utf8_1.2.4          insight_0.19.6     \n[73] stringi_1.7.12      Rcpp_1.0.11         vctrs_0.6.4        \n[76] tidyselect_1.1.2    xfun_0.41           coda_0.19-4"
  }
]